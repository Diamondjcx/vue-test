_jsload_(
  "DomRender",
  '(function(){"use strict";var i=function(e,r){i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var t in r)if(r.hasOwnProperty(t))e[t]=r[t]};return i(e,r)};function f(e,r){i(e,r);function t(){this.constructor=e}e.prototype=r===null?Object.create(r):(t.prototype=r.prototype,new t)}var s=function(){s=Object.assign||function e(r){for(var t,i=1,n=arguments.length;i<n;i++){t=arguments[i];for(var f in t)if(Object.prototype.hasOwnProperty.call(t,f))r[f]=t[f]}return r};return s.apply(this,arguments)};function u(){for(var e=0,r=0,t=arguments.length;r<t;r++)e+=arguments[r].length;for(var i=Array(e),n=0,r=0;r<t;r++)for(var f=arguments[r],a=0,s=f.length;a<s;a++,n++)i[n]=f[a];return i}var e=typeof global=="object"&&global&&global.Object===Object&&global;var r=typeof self=="object"&&self&&self.Object===Object&&self;var t=e||r||Function("return this")();var n=t.Symbol;var a=Object.prototype;var o=a.hasOwnProperty;var l=a.toString;var v=n?n.toStringTag:undefined;function c(e){var r=o.call(e,v),t=e[v];try{e[v]=undefined;var i=true}catch(e){}var n=l.call(e);if(i){if(r){e[v]=t}else{delete e[v]}}return n}var h=Object.prototype;var d=h.toString;function y(e){return d.call(e)}var m="[object Null]",b="[object Undefined]";var p=n?n.toStringTag:undefined;function x(e){if(e==null){return e===undefined?b:m}return p&&p in Object(e)?c(e):y(e)}function w(e){return e!=null&&typeof e=="object"}var k=Array.isArray;function g(e){var r=typeof e;return e!=null&&(r=="object"||r=="function")}function I(e){return e}var $="[object AsyncFunction]",S="[object Function]",A="[object GeneratorFunction]",_="[object Proxy]";function O(e){if(!g(e)){return false}var r=x(e);return r==S||r==A||r==$||r==_}var j=t["__core-js_shared__"];var F=function(){var e=/[^.]+$/.exec(j&&j.keys&&j.keys.Xb||"");return e?"Symbol(src)_1."+e:""}();function C(e){return!!F&&F in e}var L=Function.prototype;var T=L.toString;function R(e){if(e!=null){try{return T.call(e)}catch(e){}try{return e+""}catch(e){}}return""}var B=/[\\\\^$.*+?()[\\]{}|]/g;var E=/^\\[object .+?Constructor\\]$/;var N=Function.prototype,P=Object.prototype;var D=N.toString;var z=P.hasOwnProperty;var U=RegExp("^"+D.call(z).replace(B,"\\\\$&").replace(/hasOwnProperty|(function).*?(?=\\\\\\()| for .+?(?=\\\\\\])/g,"$1.*?")+"$");function W(e){if(!g(e)||C(e)){return false}var r=O(e)?U:E;return r.test(R(e))}function G(e,r){return e==null?undefined:e[r]}function H(e,r){var t=G(e,r);return W(t)?t:undefined}var q=H(t,"WeakMap");function V(e,r,t){switch(t.length){case 0:return e.call(r);case 1:return e.call(r,t[0]);case 2:return e.call(r,t[0],t[1]);case 3:return e.call(r,t[0],t[1],t[2])}return e.apply(r,t)}var J=800,Z=16;var X=Date.now;function K(t){var i=0,n=0;return function(){var e=X(),r=Z-(e-n);n=e;if(r>0){if(++i>=J){return arguments[0]}}else{i=0}return t.apply(undefined,arguments)}}function Y(e){return function(){return e}}var Q=function(){try{var e=H(Object,"defineProperty");e({},"",{});return e}catch(e){}}();var ee=!Q?I:function(e,r){return Q(e,"toString",{configurable:true,enumerable:false,value:Y(r),writable:true})};var re=K(ee);function te(e,r){var t=-1,i=e==null?0:e.length;while(++t<i){if(r(e[t],t,e)===false){break}}return e}var ie=9007199254740991;var ne=/^(?:0|[1-9]\\d*)$/;function fe(e,r){var t=typeof e;r=r==null?ie:r;return!!r&&(t=="number"||t!="symbol"&&ne.test(e))&&(e>-1&&e%1==0&&e<r)}function ae(e,r,t){if(r=="__proto__"&&Q){Q(e,r,{configurable:true,enumerable:true,value:t,writable:true})}else{e[r]=t}}function se(e,r){return e===r||e!==e&&r!==r}var ue=Object.prototype;var oe=ue.hasOwnProperty;function le(e,r,t){var i=e[r];if(!(oe.call(e,r)&&se(i,t))||t===undefined&&!(r in e)){ae(e,r,t)}}function ve(e,r,t,i){var n=!t;t||(t={});var f=-1,a=r.length;while(++f<a){var s=r[f];var u=i?i(t[s],e[s],s,t,e):undefined;if(u===undefined){u=e[s]}if(n){ae(t,s,u)}else{le(t,s,u)}}return t}var ce=Math.max;function he(f,a,s){a=ce(a===undefined?f.length-1:a,0);return function(){var e=arguments,r=-1,t=ce(e.length-a,0),i=Array(t);while(++r<t){i[r]=e[a+r]}r=-1;var n=Array(a+1);while(++r<a){n[r]=e[r]}n[a]=s(i);return V(f,this,n)}}function de(e,r){return re(he(e,r,I),e+"")}var ye=9007199254740991;function me(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=ye}function be(e){return e!=null&&me(e.length)&&!O(e)}function pe(e,r,t){if(!g(t)){return false}var i=typeof r;if(i=="number"?be(t)&&fe(r,t.length):i=="string"&&r in t){return se(t[r],e)}return false}function xe(s){return de(function(e,r){var t=-1,i=r.length,n=i>1?r[i-1]:undefined,f=i>2?r[2]:undefined;n=s.length>3&&typeof n=="function"?(i--,n):undefined;if(f&&pe(r[0],r[1],f)){n=i<3?undefined:n;i=1}e=Object(e);while(++t<i){var a=r[t];if(a){s(e,a,t,n)}}return e})}var we=Object.prototype;function ke(e){var r=e&&e.constructor,t=typeof r=="function"&&r.prototype||we;return e===t}function ge(e,r){var t=-1,i=Array(e);while(++t<e){i[t]=r(t)}return i}var Me="[object Arguments]";function Ie(e){return w(e)&&x(e)==Me}var $e=Object.prototype;var Se=$e.hasOwnProperty;var Ae=$e.propertyIsEnumerable;var _e=Ie(function(){return arguments}())?Ie:function(e){return w(e)&&Se.call(e,"callee")&&!Ae.call(e,"callee")};function Oe(){return false}var je=typeof exports=="object"&&exports&&!exports.nodeType&&exports;var Fe=je&&typeof module=="object"&&module&&!module.nodeType&&module;var Ce=Fe&&Fe.exports===je;var Le=Ce?t.Zb:undefined;var Te=Le?Le.isBuffer:undefined;var Re=Te||Oe;var Be="[object Arguments]",Ee="[object Array]",Ne="[object Boolean]",Pe="[object Date]",De="[object Error]",ze="[object Function]",Ue="[object Map]",We="[object Number]",Ge="[object Object]",He="[object RegExp]",qe="[object Set]",Ve="[object String]",Je="[object WeakMap]";var Ze="[object ArrayBuffer]",Xe="[object DataView]",Ke="[object Float32Array]",Ye="[object Float64Array]",Qe="[object Int8Array]",er="[object Int16Array]",rr="[object Int32Array]",tr="[object Uint8Array]",ir="[object Uint8ClampedArray]",nr="[object Uint16Array]",fr="[object Uint32Array]";var ar={};ar[Ke]=ar[Ye]=ar[Qe]=ar[er]=ar[rr]=ar[tr]=ar[ir]=ar[nr]=ar[fr]=true;ar[Be]=ar[Ee]=ar[Ze]=ar[Ne]=ar[Xe]=ar[Pe]=ar[De]=ar[ze]=ar[Ue]=ar[We]=ar[Ge]=ar[He]=ar[qe]=ar[Ve]=ar[Je]=false;function sr(e){return w(e)&&me(e.length)&&!!ar[x(e)]}function ur(r){return function(e){return r(e)}}var or=typeof exports=="object"&&exports&&!exports.nodeType&&exports;var lr=or&&typeof module=="object"&&module&&!module.nodeType&&module;var vr=lr&&lr.exports===or;var cr=vr&&e.process;var hr=function(){try{var e=lr&&lr.Qb&&lr.Qb("util").types;if(e){return e}return cr&&cr.tg&&cr.tg("util")}catch(e){}}();var dr=hr&&hr.rg;var yr=dr?ur(dr):sr;var mr=Object.prototype;var br=mr.hasOwnProperty;function pr(e,r){var t=k(e),i=!t&&_e(e),n=!t&&!i&&Re(e),f=!t&&!i&&!n&&yr(e),a=t||i||n||f,s=a?ge(e.length,String):[],u=s.length;for(var o in e){if((r||br.call(e,o))&&!(a&&(o=="length"||n&&(o=="offset"||o=="parent")||f&&(o=="buffer"||o=="byteLength"||o=="byteOffset")||fe(o,u)))){s.push(o)}}return s}function xr(r,t){return function(e){return r(t(e))}}var wr=xr(Object.keys,Object);var kr=Object.prototype;var gr=kr.hasOwnProperty;function Mr(e){if(!ke(e)){return wr(e)}var r=[];for(var t in Object(e)){if(gr.call(e,t)&&t!="constructor"){r.push(t)}}return r}function Ir(e){return be(e)?pr(e):Mr(e)}var $r=Object.prototype;var Sr=$r.hasOwnProperty;var Ar=xe(function(e,r){if(ke(r)||be(r)){ve(r,Ir(r),e);return}for(var t in r){if(Sr.call(r,t)){le(e,t,r[t])}}});var _r=H(Object,"create");function Or(){this.ng=_r?_r(null):{};this.size=0}function jr(e){var r=this.has(e)&&delete this.ng[e];this.size-=r?1:0;return r}var Fr="__lodash_hash_undefined__";var Cr=Object.prototype;var Lr=Cr.hasOwnProperty;function Tr(e){var r=this.ng;if(_r){var t=r[e];return t===Fr?undefined:t}return Lr.call(r,e)?r[e]:undefined}var Rr=Object.prototype;var Br=Rr.hasOwnProperty;function Er(e){var r=this.ng;return _r?r[e]!==undefined:Br.call(r,e)}var Nr="__lodash_hash_undefined__";function Pr(e,r){var t=this.ng;this.size+=this.has(e)?0:1;t[e]=_r&&r===undefined?Nr:r;return this}function Dr(e){var r=-1,t=e==null?0:e.length;this.clear();while(++r<t){var i=e[r];this.set(i[0],i[1])}}Dr.prototype.clear=Or;Dr.prototype["delete"]=jr;Dr.prototype.get=Tr;Dr.prototype.has=Er;Dr.prototype.set=Pr;function zr(){this.ng=[];this.size=0}function Ur(e,r){var t=e.length;while(t--){if(se(e[t][0],r)){return t}}return-1}var Wr=Array.prototype;var Gr=Wr.splice;function Hr(e){var r=this.ng,t=Ur(r,e);if(t<0){return false}var i=r.length-1;if(t==i){r.pop()}else{Gr.call(r,t,1)}--this.size;return true}function qr(e){var r=this.ng,t=Ur(r,e);return t<0?undefined:r[t][1]}function Vr(e){return Ur(this.ng,e)>-1}function Jr(e,r){var t=this.ng,i=Ur(t,e);if(i<0){++this.size;t.push([e,r])}else{t[i][1]=r}return this}function Zr(e){var r=-1,t=e==null?0:e.length;this.clear();while(++r<t){var i=e[r];this.set(i[0],i[1])}}Zr.prototype.clear=zr;Zr.prototype["delete"]=Hr;Zr.prototype.get=qr;Zr.prototype.has=Vr;Zr.prototype.set=Jr;var Xr=H(t,"Map");function Kr(){this.size=0;this.ng={hash:new Dr,map:new(Xr||Zr),string:new Dr}}function Yr(e){var r=typeof e;return r=="string"||r=="number"||r=="symbol"||r=="boolean"?e!=="__proto__":e===null}function Qr(e,r){var t=e.ng;return Yr(r)?t[typeof r=="string"?"string":"hash"]:t.map}function et(e){var r=Qr(this,e)["delete"](e);this.size-=r?1:0;return r}function rt(e){return Qr(this,e).get(e)}function tt(e){return Qr(this,e).has(e)}function it(e,r){var t=Qr(this,e),i=t.size;t.set(e,r);this.size+=t.size==i?0:1;return this}function nt(e){var r=-1,t=e==null?0:e.length;this.clear();while(++r<t){var i=e[r];this.set(i[0],i[1])}}nt.prototype.clear=Kr;nt.prototype["delete"]=et;nt.prototype.get=rt;nt.prototype.has=tt;nt.prototype.set=it;function ft(e,r){var t=-1,i=r.length,n=e.length;while(++t<i){e[n+t]=r[t]}return e}function at(){this.ng=new Zr;this.size=0}function st(e){var r=this.ng,t=r["delete"](e);this.size=r.size;return t}function ut(e){return this.ng.get(e)}function ot(e){return this.ng.has(e)}var lt=200;function vt(e,r){var t=this.ng;if(t instanceof Zr){var i=t.ng;if(!Xr||i.length<lt-1){i.push([e,r]);this.size=++t.size;return this}t=this.ng=new nt(i)}t.set(e,r);this.size=t.size;return this}function ct(e){var r=this.ng=new Zr(e);this.size=r.size}ct.prototype.clear=at;ct.prototype["delete"]=st;ct.prototype.get=ut;ct.prototype.has=ot;ct.prototype.set=vt;function ht(e,r){var t=-1,i=e==null?0:e.length,n=0,f=[];while(++t<i){var a=e[t];if(r(a,t,e)){f[n++]=a}}return f}function dt(){return[]}var yt=Object.prototype;var mt=yt.propertyIsEnumerable;var bt=Object.getOwnPropertySymbols;var pt=!bt?dt:function(r){if(r==null){return[]}r=Object(r);return ht(bt(r),function(e){return mt.call(r,e)})};function xt(e,r,t){var i=r(e);return k(e)?i:ft(i,t(e))}function wt(e){return xt(e,Ir,pt)}var kt=H(t,"DataView");var gt=H(t,"Promise");var Mt=H(t,"Set");var It="[object Map]",$t="[object Object]",St="[object Promise]",At="[object Set]",_t="[object WeakMap]";var Ot="[object DataView]";var jt=R(kt),Ft=R(Xr),Ct=R(gt),Lt=R(Mt),Tt=R(q);var Rt=x;if(kt&&Rt(new kt(new ArrayBuffer(1)))!=Ot||Xr&&Rt(new Xr)!=It||gt&&Rt(gt.resolve())!=St||Mt&&Rt(new Mt)!=At||q&&Rt(new q)!=_t){Rt=function(e){var r=x(e),t=r==$t?e.constructor:undefined,i=t?R(t):"";if(i){switch(i){case jt:return Ot;case Ft:return It;case Ct:return St;case Lt:return At;case Tt:return _t}}return r}}var Bt=Rt;var Et=t.Uint8Array;var Nt="__lodash_hash_undefined__";function Pt(e){this.ng.set(e,Nt);return this}function Dt(e){return this.ng.has(e)}function zt(e){var r=-1,t=e==null?0:e.length;this.ng=new nt;while(++r<t){this.add(e[r])}}zt.prototype.add=zt.prototype.push=Pt;zt.prototype.has=Dt;function Ut(e,r){var t=-1,i=e==null?0:e.length;while(++t<i){if(r(e[t],t,e)){return true}}return false}function Wt(e,r){return e.has(r)}var Gt=1,Ht=2;function qt(e,r,t,i,n,f){var a=t&Gt,s=e.length,u=r.length;if(s!=u&&!(a&&u>s)){return false}var o=f.get(e);var l=f.get(r);if(o&&l){return o==r&&l==e}var v=-1,c=true,h=t&Ht?new zt:undefined;f.set(e,r);f.set(r,e);while(++v<s){var d=e[v],y=r[v];if(i){var m=a?i(y,d,v,r,e,f):i(d,y,v,e,r,f)}if(m!==undefined){if(m){continue}c=false;break}if(h){if(!Ut(r,function(e,r){if(!Wt(h,r)&&(d===e||n(d,e,t,i,f))){return h.push(r)}})){c=false;break}}else if(!(d===y||n(d,y,t,i,f))){c=false;break}}f["delete"](e);f["delete"](r);return c}function Vt(e){var t=-1,i=Array(e.size);e.forEach(function(e,r){i[++t]=[r,e]});return i}function Jt(e){var r=-1,t=Array(e.size);e.forEach(function(e){t[++r]=e});return t}var Zt=1,Xt=2;var Kt="[object Boolean]",Yt="[object Date]",Qt="[object Error]",ei="[object Map]",ri="[object Number]",ti="[object RegExp]",ii="[object Set]",ni="[object String]",fi="[object Symbol]";var ai="[object ArrayBuffer]",si="[object DataView]";var ui=n?n.prototype:undefined,oi=ui?ui.valueOf:undefined;function li(e,r,t,i,n,f,a){switch(t){case si:if(e.byteLength!=r.byteLength||e.byteOffset!=r.byteOffset){return false}e=e.buffer;r=r.buffer;case ai:if(e.byteLength!=r.byteLength||!f(new Et(e),new Et(r))){return false}return true;case Kt:case Yt:case ri:return se(+e,+r);case Qt:return e.name==r.name&&e.message==r.message;case ti:case ni:return e==r+"";case ei:var s=Vt;case ii:var u=i&Zt;s||(s=Jt);if(e.size!=r.size&&!u){return false}var o=a.get(e);if(o){return o==r}i|=Xt;a.set(e,r);var l=qt(s(e),s(r),i,n,f,a);a["delete"](e);return l;case fi:if(oi){return oi.call(e)==oi.call(r)}}return false}var vi=1;var ci=Object.prototype;var hi=ci.hasOwnProperty;function di(e,r,t,i,n,f){var a=t&vi,s=wt(e),u=s.length,o=wt(r),l=o.length;if(u!=l&&!a){return false}var v=u;while(v--){var c=s[v];if(!(a?c in r:hi.call(r,c))){return false}}var h=f.get(e);var d=f.get(r);if(h&&d){return h==r&&d==e}var y=true;f.set(e,r);f.set(r,e);var m=a;while(++v<u){c=s[v];var b=e[c],p=r[c];if(i){var x=a?i(p,b,c,r,e,f):i(b,p,c,e,r,f)}if(!(x===undefined?b===p||n(b,p,t,i,f):x)){y=false;break}m||(m=c=="constructor")}if(y&&!m){var w=e.constructor,k=r.constructor;if(w!=k&&("constructor"in e&&"constructor"in r)&&!(typeof w=="function"&&w instanceof w&&typeof k=="function"&&k instanceof k)){y=false}}f["delete"](e);f["delete"](r);return y}var yi=1;var mi="[object Arguments]",bi="[object Array]",pi="[object Object]";var xi=Object.prototype;var wi=xi.hasOwnProperty;function ki(e,r,t,i,n,f){var a=k(e),s=k(r),u=a?bi:Bt(e),o=s?bi:Bt(r);u=u==mi?pi:u;o=o==mi?pi:o;var l=u==pi,v=o==pi,c=u==o;if(c&&Re(e)){if(!Re(r)){return false}a=true;l=false}if(c&&!l){f||(f=new ct);return a||yr(e)?qt(e,r,t,i,n,f):li(e,r,u,t,i,n,f)}if(!(t&yi)){var h=l&&wi.call(e,"__wrapped__"),d=v&&wi.call(r,"__wrapped__");if(h||d){var y=h?e.value():e,m=d?r.value():r;f||(f=new ct);return n(y,m,t,i,f)}}if(!c){return false}f||(f=new ct);return di(e,r,t,i,n,f)}function gi(e,r,t,i,n){if(e===r){return true}if(e==null||r==null||!w(e)&&!w(r)){return e!==e&&r!==r}return ki(e,r,t,i,gi,n)}function Mi(u){return function(e,r,t){var i=-1,n=Object(e),f=t(e),a=f.length;while(a--){var s=f[u?a:++i];if(r(n[s],s,n)===false){break}}return e}}var Ii=Mi();function $i(e,r){return e&&Ii(e,r,Ir)}function Si(f,a){return function(e,r){if(e==null){return e}if(!be(e)){return f(e,r)}var t=e.length,i=a?t:-1,n=Object(e);while(a?i--:++i<t){if(r(n[i],i,n)===false){break}}return e}}var Ai=Si($i);function _i(e){return typeof e=="function"?e:I}function Oi(e,r){var t=k(e)?te:Ai;return t(e,_i(r))}function ji(e,r){return gi(e,r)}function Fi(e){return e===undefined}var Ci=13;var Li=[2,26];var Ti={ID:"__id__",Rp:Li[1],Mp:Li[0],jp:.8,Pp:.2,YM:5,KM:{dom:"div",id:"_amap_custom_labellayer_div_",className:"amap-layer",style:{cssText:"position:absolute;top:0;left:0;",zIndex:"",width:"",height:"",visible:""}},Dp:{Op:180,Ad:70,Td:260,Bd:Math.PI/10},XM:{top:3,right:3,bottom:3,left:3},JM:{ZM:"top",QM:"right",tj:"bottom",LEFT:"left",nj:"middle",ij:"center",ej:"alphabetic"},oj:{CLICK:"click",MOUSEOVER:"mouseover",MOUSEOUT:"mouseout",MOUSEMOVE:"mousemove",MOUSEDOWN:"mousedown",MOUSEUP:"mouseup",aj:"touchstart",uj:"touchend"},sj:{rank:1,angle:0,opacity:1,offset:[0,0],zooms:Li,icon:{type:"image",image:"://visuallocal.amap.com/public/poi-marker.png",clipOrigin:[0,0],clipSize:[36,36],size:[36,36],anchor:"bottom-center",angel:0,pe:true,zooms:Li},text:{type:"billboard",direction:"top",offset:[0,0],zooms:Li,style:{fj:6,fontFamily:"sans-serif",fontSize:12,fontWeight:"normal",fillColor:[0,0,0,1],strokeWidth:0,strokeColor:[.988,.988,.988,1],borderColor:"transparent",padding:[3,3,3,3],backgroundColor:""}}},hj:{cj:{opacity:.2},vj:"fadeIn",lj:"fadeOut",dj:{bj:"start",RUNNING:"running",pj:"complete"},yj:{mj:"opacity",gj:"size"}},_d:3,wj:"_AMap_sdf_com_words",Mj:128,pc:["://sdf.amap.com","://sdf01.amap.com","://sdf02.amap.com","://sdf03.amap.com","://sdf04.amap.com"],sp:4,ec:24,Cd:200/256,Ld:205/256,Aj:{kj:"纹理加载失败，请重试",Oj:"资源加载失败，请重试"},xj:"bufferChanged",Ij:"frameBufferChanged",Tj:"combineFrameBufferChanged",ic:1,ud:12,Cj:12,Ej:"__icon_combination",Nj:"__text_combination",Lj:{file:{0:"://vdata.amap.com/style_icon/2.0/icon-normal-big.png",1:"://vdata.amap.com/style_icon/2.0/icon-biz-big.png"},size:[40,40],Rj:10},Kp:{buffer:3,family:"ios9",size:24},_n:{Uj:[0,0,0,1],Gp:[0,0,0,0]},gH:"sdf",RB:"sdfJson",FN:"version"};var Ri;(function(e){e[e["dynamic"]=0]="dynamic";e[e["icon"]=1]="icon"})(Ri||(Ri={}));var Bi;(function(e){e["BLOB"]="blob";e["TOLOAD"]="toload";e["LOADING"]="loading";e["LOADED"]="loaded";e["UNLOADED"]="unloaded";e["ERROR"]="error";e["RELOADING"]="reloading";e["UNCOMBINED"]="uncombined";e["COMBINING"]="combining";e["COMBINED"]="combined"})(Bi||(Bi={}));var Ei=typeof self===undefined?window:self;var Ni=function(e){var r=[];for(var t=1;t<arguments.length;t++){r[t-1]=arguments[t]}if(!Boolean(e)){console.log.apply(console,r)}};var Pi=typeof window!=="undefined"?window.URL||window.webkitURL||{createObjectURL:function(){console.error("URL not exist, please use more popular browser")}}:URL||webkitURL||{createObjectURL:function(){console.error("URL not exist, please use more popular browser")}};var Di=function(){function e(e,r){this.Ci=e;this.mask=r}e.wi={ZERO:0,ONE:1,SRC_ALPHA:770,ONE_MINUS_SRC_ALPHA:771};e.tH=[true,true,true,true];e.iH=[false,false,false,false];e.disabled=new e([e.wi.ONE,e.wi.ZERO,e.wi.ONE,e.wi.ZERO],e.iH);e.Mi=new e([e.wi.ONE,e.wi.ZERO,e.wi.ONE,e.wi.ZERO],e.tH);e.Ri=new e([e.wi.SRC_ALPHA,e.wi.ONE_MINUS_SRC_ALPHA,e.wi.SRC_ALPHA,e.wi.ONE_MINUS_SRC_ALPHA],e.tH);e.zi=new e([e.wi.ONE,e.wi.ONE_MINUS_SRC_ALPHA,e.wi.ONE,e.wi.ONE_MINUS_SRC_ALPHA],e.tH);e.Si=new e([e.wi.SRC_ALPHA,e.wi.ONE_MINUS_SRC_ALPHA,e.wi.ONE,e.wi.ONE_MINUS_SRC_ALPHA],e.tH);e.eq=new e([e.wi.SRC_ALPHA,e.wi.ONE_MINUS_SRC_ALPHA,e.wi.ONE,e.wi.ZERO],e.tH);return e}();var zi=function(){function e(e,r,t){this.stencilFunc=e;this.stencilOp=r;this.stencilMask=t}e.wi={NOTEQUAL:517,ALWAYS:519,EQUAL:514,GEQUAL:518,GREATER:516,LESS:513,NEVER:512,KEEP:7680,REPLACE:7681,ZERO:0,INCR_WRAP:34055,INCR:7682,DECR:7683};e.disable=new e({test:e.wi.ALWAYS,Li:0,mask:0},[e.wi.KEEP,e.wi.KEEP,e.wi.KEEP],0);e.Ai=new e({test:e.wi.ALWAYS,Li:254,mask:255},[e.wi.KEEP,e.wi.KEEP,e.wi.REPLACE],255);e.Ti=new e({test:e.wi.LESS,Li:240,mask:255},[e.wi.KEEP,e.wi.KEEP,e.wi.KEEP],255);e.nH=new e({test:e.wi.EQUAL,Li:0,mask:255},[e.wi.KEEP,e.wi.KEEP,e.wi.KEEP],255);e.$H=new e({test:e.wi.EQUAL,Li:0,mask:255},[e.wi.KEEP,e.wi.KEEP,e.wi.INCR],255);e.DH=new e({test:e.wi.EQUAL,Li:254,mask:255},[e.wi.KEEP,e.wi.KEEP,e.wi.KEEP],255);e.FH=new e({test:e.wi.EQUAL,Li:254,mask:255},[e.wi.KEEP,e.wi.KEEP,e.wi.DECR],255);e.PH=new e({test:e.wi.ALWAYS,Li:255,mask:255},[e.wi.KEEP,e.wi.KEEP,e.wi.INCR],255);e.HH=new e({test:e.wi.NOTEQUAL,Li:1,mask:1},[e.wi.KEEP,e.wi.KEEP,e.wi.KEEP],255);e.js=new e({test:e.wi.NOTEQUAL,Li:1,mask:255},[e.wi.KEEP,e.wi.KEEP,e.wi.KEEP],255);e.rq=new e({test:e.wi.EQUAL,Li:254,mask:255},[e.wi.KEEP,e.wi.KEEP,e.wi.KEEP],255);e.tq=new e({test:e.wi.ALWAYS,Li:254,mask:255},[e.wi.KEEP,e.wi.KEEP,e.wi.REPLACE],255);e.TE=new e({test:e.wi.EQUAL,Li:0,mask:255},[e.wi.KEEP,e.wi.KEEP,e.wi.INCR],255);e.FE=new e({test:e.wi.EQUAL,Li:1,mask:255},[e.wi.KEEP,e.wi.KEEP,e.wi.ZERO],255);e.test=new e({test:e.wi.NOTEQUAL,Li:254,mask:255},[e.wi.ZERO,e.wi.ZERO,e.wi.INCR],255);e.HE=new e({test:e.wi.EQUAL,Li:1,mask:255},[e.wi.KEEP,e.wi.KEEP,e.wi.KEEP],0);e.mV=new e({test:e.wi.EQUAL,Li:0,mask:255},[e.wi.KEEP,e.wi.KEEP,e.wi.INCR_WRAP],255);e.yV=new e({test:e.wi.EQUAL,Li:1,mask:255},[e.wi.KEEP,e.wi.KEEP,e.wi.KEEP],255);e.EV=new e({test:e.wi.EQUAL,Li:1,mask:255},[e.wi.KEEP,e.wi.KEEP,e.wi.INCR_WRAP],255);return e}();var Ui=function(){function e(e){this.Oi=$n;this.gl=e.gl;this.default=this.Fi();this.current=this.Fi();this.Pi=false}e.prototype.set=function(e){this.current=e};e.prototype.get=function(){return this.current};e.prototype.setDirty=function(){this.Pi=true};e.prototype.reset=function(){this.set(this.default)};e.prototype.ji=function(e){return this.Pi||!this.Oi(e,this.current)};return e}();var Wi=function(e){f(r,e);function r(){return e!==null&&e.apply(this,arguments)||this}r.prototype.Fi=function(){return false};r.prototype.set=function(e){if(!this.ji(e)){return}var r=this.gl;if(e){r.enable(r.BLEND)}else{r.disable(r.BLEND)}this.current=e;this.Pi=false};return r}(Ui);var Gi=function(e){f(r,e);function r(){return e!==null&&e.apply(this,arguments)||this}r.prototype.Fi=function(){var e=this.gl;return[0,0,e.drawingBufferWidth,e.drawingBufferHeight]};r.prototype.set=function(e){var r=this.current;if(e[0]===r[0]&&e[1]===r[1]&&e[2]===r[2]&&e[3]===r[3]&&!this.Pi){return}this.gl.viewport(e[0],e[1],e[2],e[3]);this.current=e;this.Pi=false};return r}(Ui);var Hi=function(e){f(r,e);function r(){return e!==null&&e.apply(this,arguments)||this}r.prototype.Fi=function(){return false};r.prototype.set=function(e){if(!this.ji(e)){return}var r=this.gl;if(e){r.enable(r.DEPTH_TEST);r.depthFunc(r.LEQUAL)}else{r.disable(r.DEPTH_TEST)}this.current=e;this.Pi=false};return r}(Ui);var qi=function(e){f(r,e);function r(){return e!==null&&e.apply(this,arguments)||this}r.prototype.Fi=function(){return{test:this.gl.DEPTH_TEST,bV:this.gl.LESS}};r.prototype.set=function(e){if(!this.ji(e)){return}this.gl.depthFunc(e.bV);this.current=e;this.Pi=false};return r}(Ui);var Vi=function(e){f(r,e);function r(){return e!==null&&e.apply(this,arguments)||this}r.prototype.Fi=function(){return false};r.prototype.set=function(e){if(!this.ji(e)){return}var r=this.gl;if(e){r.enable(r.STENCIL_TEST)}else{r.disable(r.STENCIL_TEST)}this.current=e;this.Pi=false};return r}(Ui);var Ji=function(e){f(r,e);function r(){return e!==null&&e.apply(this,arguments)||this}r.prototype.Fi=function(){return{test:this.gl.ALWAYS,Li:1,mask:65535}};r.prototype.set=function(e){if(!this.ji(e)){return}this.gl.stencilFunc(e.test,e.Li,e.mask);this.current=e;this.Pi=false};return r}(Ui);var Zi=function(e){f(r,e);function r(){return e!==null&&e.apply(this,arguments)||this}r.prototype.Fi=function(){var e=this.gl;return[e.KEEP,e.KEEP,e.KEEP]};r.prototype.set=function(e){var r;if(!this.ji(e)){return}(r=this.gl).stencilOp.apply(r,e);this.current=e;this.Pi=false};return r}(Ui);var Xi=function(e){f(r,e);function r(){return e!==null&&e.apply(this,arguments)||this}r.prototype.Fi=function(){return false};r.prototype.set=function(e){if(!this.ji(e)){return}var r=this.gl;if(e){r.enable(r.CULL_FACE)}else{r.disable(r.CULL_FACE)}this.current=e;this.Pi=false};return r}(Ui);var Ki=function(e){f(r,e);function r(){return e!==null&&e.apply(this,arguments)||this}r.prototype.Fi=function(){return[this.gl.ONE,this.gl.ZERO]};r.prototype.set=function(e){if(!this.ji(e)){return}this.gl.blendFunc(e[0],e[1]);this.current=e;this.Pi=false};return r}(Ui);var Yi=function(e){f(r,e);function r(){return e!==null&&e.apply(this,arguments)||this}r.prototype.Fi=function(){var e=this.gl.ONE;var r=this.gl.ZERO;return[e,r,e,r]};r.prototype.set=function(e){var r;if(!this.ji(e)){return}(r=this.gl).blendFuncSeparate.apply(r,e);this.current=e;this.Pi=false};return r}(Ui);var Qi=function(e){f(r,e);function r(){return e!==null&&e.apply(this,arguments)||this}r.prototype.Fi=function(){return this.gl.FUNC_ADD};r.prototype.set=function(e){if(!this.ji(e)){return}this.gl.blendEquation(e);this.current=e;this.Pi=false};return r}(Ui);var en=function(e){f(r,e);function r(){return e!==null&&e.apply(this,arguments)||this}r.prototype.Fi=function(){return[this.gl.FUNC_ADD,this.gl.FUNC_ADD]};r.prototype.set=function(e){var r;if(!this.ji(e)){return}(r=this.gl).blendEquationSeparate.apply(r,e);this.current=e;this.Pi=false};return r}(Ui);var rn=function(e){f(r,e);function r(){return e!==null&&e.apply(this,arguments)||this}r.prototype.Fi=function(){var e=this.gl;return e.BACK};r.prototype.set=function(e){if(!this.ji(e)){return}this.gl.cullFace(e);this.current=e;this.Pi=false};return r}(Ui);var tn=function(e){f(r,e);function r(){return e!==null&&e.apply(this,arguments)||this}r.prototype.Fi=function(){return this.gl.CCW};r.prototype.set=function(e){if(!this.ji(e)&&!this.Pi){return}this.gl.frontFace(e);this.current=e;this.Pi=false};return r}(Ui);var nn=function(e){f(r,e);function r(){return e!==null&&e.apply(this,arguments)||this}r.prototype.Fi=function(){return 1};r.prototype.set=function(e){if(!this.ji(e)){return}this.gl.clearDepth(e);this.current=e;this.Pi=false};return r}(Ui);var fn=function(e){f(r,e);function r(){return e!==null&&e.apply(this,arguments)||this}r.prototype.Fi=function(){return[0,0,0,0]};r.prototype.set=function(e){var r;if(!this.ji(e)){return}(r=this.gl).clearColor.apply(r,e);this.current=e;this.Pi=false};return r}(Ui);var an=function(e){f(r,e);function r(){return e!==null&&e.apply(this,arguments)||this}r.prototype.Fi=function(){return 0};r.prototype.set=function(e){if(!this.ji(e)){return}this.gl.clearStencil(e);this.current=e;this.Pi=false};return r}(Ui);var sn=function(e){f(r,e);function r(){return e!==null&&e.apply(this,arguments)||this}r.prototype.Fi=function(){return[true,true,true,true]};r.prototype.set=function(e){var r;if(!this.ji(e)){return}(r=this.gl).colorMask.apply(r,e);this.current=e;this.Pi=false};return r}(Ui);var un=function(e){f(r,e);function r(){return e!==null&&e.apply(this,arguments)||this}r.prototype.Fi=function(){return true};r.prototype.set=function(e){if(!this.ji(e)){return}this.gl.depthMask(e);this.current=e;this.Pi=false};return r}(Ui);var on=function(e){f(r,e);function r(){return e!==null&&e.apply(this,arguments)||this}r.prototype.Fi=function(){return 65535};r.prototype.set=function(e){if(!this.ji(e)){return}this.gl.stencilMask(e);this.current=e;this.Pi=false};return r}(Ui);var ln=function(e){f(r,e);function r(){return e!==null&&e.apply(this,arguments)||this}r.prototype.Fi=function(){return null};r.prototype.set=function(e){if(!this.ji(e)){return}var r=this.gl;r.bindFramebuffer(r.FRAMEBUFFER,e);this.current=e;this.Pi=false};return r}(Ui);var vn=function(e){f(r,e);function r(){return e!==null&&e.apply(this,arguments)||this}r.prototype.Fi=function(){return null};r.prototype.set=function(e){if(!this.ji(e)){return}if(this.current&&this.current!==e){this.current.Ni()}if(e){this.gl.useProgram(e.$i)}else{this.gl.useProgram(null)}this.current=e;this.Pi=false};return r}(Ui);var cn=function(e){f(r,e);function r(){return e!==null&&e.apply(this,arguments)||this}r.prototype.Fi=function(){return this.gl.TEXTURE0};r.prototype.set=function(e){if(!this.ji(e)){return}this.gl.activeTexture(this.gl.TEXTURE0+e);this.current=e;this.Pi=false};return r}(Ui);var hn=function(e){f(r,e);function r(){return e!==null&&e.apply(this,arguments)||this}r.prototype.Fi=function(){return null};r.prototype.set=function(e){if(!this.ji(e)){return}var r=this.gl;r.bindTexture(r.TEXTURE_2D,e);this.current=e;this.Pi=false};return r}(Ui);var dn=function(i){f(e,i);function e(e,r){var t=i.call(this,e)||this;t.context=e;t.parent=r;return t}return e}(Ui);var yn=function(e){f(r,e);function r(){return e!==null&&e.apply(this,arguments)||this}r.prototype.set=function(e){if(!this.Pi&&!this.ji(e)){return}var r=this.gl;var t=this.context.bindFramebuffer.current;this.context.bindFramebuffer.set(this.parent.framebuffer);r.framebufferTexture2D(r.FRAMEBUFFER,r.COLOR_ATTACHMENT0,r.TEXTURE_2D,e,0);this.context.bindFramebuffer.set(t);this.current=e};r.prototype.Bi=function(){var e=this.current;var r=this.gl;if(e){r.deleteTexture(e);this.current=null}};r.prototype.Fi=function(){return null};return r}(dn);var mn=function(e){f(r,e);function r(){return e!==null&&e.apply(this,arguments)||this}r.prototype.set=function(e){if(!this.Pi&&!this.ji(e)){return}var r=this.gl;this.context.bindFramebuffer.set(this.parent.framebuffer);r.framebufferRenderbuffer(r.FRAMEBUFFER,r.DEPTH_ATTACHMENT,r.RENDERBUFFER,e);this.current=e};r.prototype.Bi=function(){var e=this.current;var r=this.gl;if(e){r.deleteRenderbuffer(e);this.current=null}};r.prototype.Fi=function(){return null};return r}(dn);var bn=function(e){f(r,e);function r(){return e!==null&&e.apply(this,arguments)||this}r.prototype.Fi=function(){return null};r.prototype.set=function(e){if(e&&e.xe){Ni(true,"WebGLBuffer deleted")}if(!this.ji(e)){return}this.gl.bindBuffer(this.gl.ARRAY_BUFFER,e);this.current=e;this.Pi=false};return r}(Ui);var pn=function(e){f(r,e);function r(){return e!==null&&e.apply(this,arguments)||this}r.prototype.Fi=function(){return null};r.prototype.set=function(e){if(!this.ji(e)){return}this.gl.bindBuffer(this.gl.ELEMENT_ARRAY_BUFFER,e);this.current=e;this.Pi=false};return r}(Ui);var xn=function(e){f(r,e);function r(){return e!==null&&e.apply(this,arguments)||this}r.prototype.Fi=function(){return false};r.prototype.set=function(e){if(!this.ji(e)){return}this.gl.pixelStorei(this.gl.UNPACK_FLIP_Y_WEBGL,e);this.current=e;this.Pi=false};return r}(Ui);var wn=M["Support"];function kn(e,r){if(e===r){return false}if(e.length!==r.length){return true}for(var t=0,i=e.length;t<i;t++){if(e[t]!==r[t]){return true}}return false}function gn(e,r){if(typeof e!==typeof r){return true}if(typeof e==="object"){return Array.isArray(e)!==Array.isArray(r)}return false}function Mn(e,r){return e!==r}function In(e,r){if(gn(e,r)){return true}switch(typeof e){case"boolean":case"number":case"string":return Mn(e,r);case"object":return Array.isArray(e)?kn(e,r):Mn(e,r);default:return true}}function $n(e,r){return!In(e,r)}var Sn=function(){function e(e,r,t){this.enable=e;this.mode=r;this.frontFace=t}e.wi={CW:2304,CCW:2305,FRONT:1028,BACK:1029,FRONT_AND_BACK:1032};e.we=new e(false,e.wi.FRONT_AND_BACK,e.wi.CW);e._e=new e(true,e.wi.FRONT,e.wi.CW);e.back=new e(true,e.wi.BACK,e.wi.CW);return e}();var An=AMap["Util"];var _n=function(){function e(){this.hS=An.stamp(this)}e.prototype.destroy=function(){Ni(false,"please implement destroy for LayerRender")};e.prototype.fH=function(e){var r=e.Ro;var t=e.localCoord.center;var i=[r[0]-t[0],r[1]-t[1]];var n=[r[0]-t[0],r[3]-t[1]];var f=[r[2]-t[0],r[1]-t[1]];var a=[r[2]-t[0],r[3]-t[1]];return u(i,f,n,f,a,n)};e.prototype.OH=function(e,r){if(e===void 0){e=false}if(!r){return zi.nH}if(r&&!e){return zi.DH}if(r&&e){return zi.HH}};e.prototype.BH=function(e,r){if(e===void 0){e=false}if(!r){return zi.$H}if(r&&!e){return zi.FH}if(r&&e){return zi.PH}};return e}();var On=M["Support"];var jn=On.scale;var Fn=function(){function e(){this.Lz={De:[],sizes:[]};this._f=null;this.CG=0}e.prototype.Mz=function(e){var r=e.map,t=e.R_,i=e.z_,n=e.$i;this._map=r;this.Mf=t;this.ac=i;this._f=n};e.prototype.Ce=function(e,r,t,i){if(t===void 0){t={}}var n=Ti.ud,f=Ti.sp;var a=this._f;var s=e.$n,u=e.size;if(!s){return i.iterator}var o=s.mvpMatrix,l=s.zoom,v=s.viewMode;var c=u[0],h=u[1];var d=i.Sa,y=i.from,m=y===void 0?"inner":y,b=i.opacity,p=b===void 0?1:b,x=i.offset,w=x===void 0?[0,0]:x,k=i.Sz,g=i.LF,M=g===void 0?{}:g;var I=i.iterator;var $=1;if(v==="3D"){$=e.map.getView().EF()}var S=t.Rz,A=t.buffer,_=t.od,O=t.zz;r.bindFramebuffer.set(null);r.be.set([0,0,c*jn,h*jn]);var j=S.pp;var F=A;var C=this.fd(i.iq),L=C.De,T=L===void 0?[]:L,R=C.sizes,B=R===void 0?[]:R;var E=n*f;var N=j.length;if(!F||!_){return I}if(N){r.ge.set(a);a.Ae({a_vertex:{type:"vec2",buffer:F,Re:E,offset:0},a_texcoord:{type:"vec2",buffer:F,Re:E,offset:2*f},a_origin:{type:"vec2",buffer:F,Re:E,offset:4*f},a_texIndex:{type:"float",buffer:F,Re:E,offset:6*f},a_type:{type:"float",buffer:F,Re:E,offset:7*f},a_zooms:{type:"vec2",buffer:F,Re:E,offset:8*f},a_height:{type:"float",buffer:F,Re:E,offset:10*f},a_visible:{type:"float",buffer:_,Re:0,offset:O[I]&&O[I].start}});var P=this.l_==="inner"?Di.Ri:Di.Si;for(var D=0;D<N;D++){var z=j[D];var U=z.start,W=U===void 0?0:U,G=z.end,H=G===void 0?0:G,q=z.dp;I++;if(!(H-W)){continue}var V=void 0;if(m==="labelsLayer"&&z.pd){var J=this.ac.getImage(z.pd);if(J.img){var Z=this.dd(r,J),X=Z.texture,K=Z.size;if(X&&X.context){T[Ri.icon]=X;V=B.slice(0);V[Ri.icon*2]=K[0];V[Ri.icon*2+1]=K[1]}}}var Y=z.vd.slice(0,4);var Q=z.vd.slice(4,8);var ee=z.vd.slice(11,15);var re=z.vd.slice(15,19);a.Le({u_matrix:o,u_texture:{De:T,count:4},u_gl_size:[c,h],u_texsize:V?V:B,u_color:Y,u_strokeColor:Q,u_borderColor:re,u_gamma:z.vd[8],u_borderBuffer:z.vd[9],u_buffer:z.vd[10],u_backgroundColor:ee,u_opacity:z.opacity*p,u_zoom:l,u_event:0,u_delta_center:d,u_offset:w,u_transform:[0,0,1,0],u_skyHeight:$});a.Pe((H-W)/n,W/n,undefined,undefined,M.depthTest,P)}}return I};e.prototype.Cz=function(e,r,t,i,n){var f=this._f;var a=Ti.sp;var s=12;var u=e.$n,o=e.size;var l=u.zoom||Li[1];var v=u.mvpMatrix||null;var c=o[0],h=o[1];var d=n.Az,y=n.Iz,m=n.centerCoord;var b=1;if(u.viewMode==="3D"){b=e.map.getView().EF()}if(!v){return}var p=i.$z||{};var x=p.pp,w=p.zs,k=p.od;var g=w&&w.buffer;var M=Math.pow(2,l-y);r.be.set([0,0,c*jn,h*jn]);var I=this.fd(n.iq),$=I.De,S=$===void 0?[]:$,A=I.sizes,_=A===void 0?[]:A;var O=x.length;var j=s*a;var F;var C;var L;var T;var R;var B;var E;var N=y>=l?M:1;var P=[0,0,N,0];if(!g||!k){return}if(O){r.ge.set(this._f);f.Ae({a_vertex:{type:"vec2",buffer:g,Re:j,offset:0},a_texcoord:{type:"vec2",buffer:g,Re:j,offset:2*a},a_origin:{type:"vec2",buffer:g,Re:j,offset:4*a},a_texIndex:{type:"float",buffer:g,Re:j,offset:6*a},a_type:{type:"float",buffer:g,Re:j,offset:7*a},a_zooms:{type:"vec2",buffer:g,Re:j,offset:8*a},a_height:{type:"float",buffer:g,Re:j,offset:10*a},nq:{type:"float",buffer:g,Re:j,offset:11*a},a_visible:{type:"float",buffer:k,Re:0,offset:0}})}var D;for(var z=0;z<O;z++){var U=x[z];F=U[0];C=U[1];L=U[11];T=U[12];R=U[13];E=U[14];if(!(T-L)){continue}for(var W=0,G=d;W<G.length;W++){var H=G[W];D=t[H];if(D&&H===R){B=D.Sa}}if(!B||M<.6){continue}if(!D){continue}B=[0,0];f.Le({u_matrix:v,u_delta_center:B,u_transform:P,u_texture:{De:S,count:S.length},u_gl_size:o,u_texsize:_,u_color:U[3],u_strokeColor:U[4],u_gamma:U[5],u_borderBuffer:U[7],u_buffer:U[8],u_backgroundColor:U[9],u_opacity:1,u_zoom:l,u_event:0,u_skyHeight:b});f.Pe((T-L)/s,L/s,undefined,undefined,undefined,Di.Si)}};e.prototype.gp=function(e,r){var t=e.context;var i=e.Jn();var n=r;var f=t.fe(new Uint16Array([0,0,0,0,0,1,0,1,1,1,1,1,1,0,1,0]),8);if(!n){return}i.Ce({u_texture:n},{a_pos:{type:"vec2",buffer:f,Re:8,offset:0},a_coord:{type:"vec2",buffer:f,Re:8,offset:4}},4,undefined,"TRIANGLE_FAN",undefined,Di.Mi)};e.prototype.reset=function(){this.Df()};e.prototype.destroy=function(){if(this.Lz){for(var e=0,r=this.Lz.De;e<r.length;e++){var t=r[e];t.destroy()}delete this.Lz}};e.prototype.Dz=function(e,r,t){if(t===void 0){t={}}var i=t.start,n=i===void 0?0:i,f=t.dp,a=t.style;var s=6;var u=n;var o=0;var l;var v;var c;var h;var d;for(var y=0,m=f;y<m.length;y++){var b=m[y];l=b.id;v=b.kd;var p=r[l];if(e.uf<n+o+v){e.ff(e.uf*2)}var x=e.value;if(p){var w=(a[l]||{}).showText,k=w===void 0?1:w;var g=0;var M=Infinity;var I=-Infinity;if(!k){c=b.icon;h=b.bg;d=b.Rd;M=c*s;I=(c+d+h)*s}while(g<v){if(!k&&g>=M&&g<=I);else{x[u+o+g]=1}g+=1}}o+=v}u+=o;return u};e.prototype.Df=function(){};e.prototype.fd=function(e){var r=[];var t=[];if(e){r[0]=e;t[0]=e.size[0];t[1]=e.size[1]}var i=this._map.so.texture;if(i){r.push(i);var n=i.size;t.push(n[0],n[1])}return{De:r,sizes:t}};e.prototype.dd=function(e,r){var t=e.gl;var i=r.img,n=r.width,f=r.height;var a=i;if(i&&!i.context){a=e.createTexture(i);a.bind(t.CLAMP_TO_EDGE,t.LINEAR,t.LINEAR);r.img=a}return{texture:a,size:[n,f]}};return e}();var Cn=M["transform"];var Ln=M["Support"];var Tn=M["LabelsRenderUtil"];var Rn=function(){function e(){this._size=[0,0];this.Wz=1;var e=this.canvas=document.createElement("canvas");this.Nz=e.getContext("2d")}e.prototype.Ce=function(e,r,t,i,n){if(!e){return}this.wf=e;var f=e.size;this._size=f;var a=n.centerCoord,s=n.Uf,u=s===void 0?{}:s,o=n.$f,l=n.Sa,v=l===void 0?[0,0]:l;this.Tz();this.Pz();var c=e.$n;var h=c.zoom;var d=c.viewMode;if(!this.Oz(h,r.zooms)){return}if(!this._map&&i){var y=c.projectionId;this._map=i;this.If=Cn[y];this._view=i.getView();this.ac=i.z_}var m=t&&t.other,b=m.coords,p=m.style,x=m.Nf,w=m.Fz,k=w===void 0?[]:w;var g={$n:c,size:this.wf.size,transform:this.If,view:this._view,viewMode:d,centerCoord:a};this.Bz(r);for(var M=0,I=k;M<I.length;M++){var $=I[M];for(var S=0;S<$.length;S++){var A=$[S];if(!u[A]){continue}var _=x[A]||{};var O=b[A]||{};var j=p[A]||{};var F=_.data.extData||{};var C=F.Sa||v||[0,0];var L=_.data||{};var T=L["txt"];var R=_.opts||{};var B=(j.icon||[])[0]||{};var E=B.image;var N=Fi(j.opacity)?1:R.opacity;var P=j.text;if(E&&B&&this.Oz(h,j.icon&&j.icon.zooms)){var D=this.ac["getImage"](E),z=D.img,U=D.width,W=D.height;var G={size:[U,W],opacity:N};var H=O.icon.origin;var q=O.icon.anchorOffset;var V=Tn.wu(H[0]+C[0],H[1]+C[1],h,g);var J=[V[0]+q[0],V[1]+q[1]];this.drawImage(z,B,J,G)}if(T&&P&&this.Oz(h,j.text&&j.text.zooms)){var Z={opacity:N,padding:O.padding};var H=O.text.origin;var q=O.text.offset;var X=Tn.wu(H[0]+C[0],H[1]+C[1],h,g);var K=P.style;var Y=K.fontSize||12;var Q=[X[0]+q[0],X[1]+q[1]+Y];this.Ez(j.text,X,Z);var ee=T.length;var re=K.fold===false?100:6;var te=Math.ceil(ee/re);var ie=Math.floor(ee/te);var ne=3;for(var fe=0;fe<te;fe++){var ae=fe===te-1?ee-fe*ie:ie;var se=T.substr(fe*ie,ae);this.gp(se,P,Q,Z);var ue=Y*5/4+ne;Q[1]=Q[1]+ue}}}}};e.prototype.Ez=function(e,r,t){var i=this.Nz;var n=Ln.scale,f=n===void 0?1:n;var a=e.style.backgroundColor;var s=t.padding;var u=s.offsetX,o=s.offsetY,l=s.w,v=s.h;var c=r[0]+u;var h=r[1]+o;if(i&&a){i.fillStyle=a;i.fillRect(c*f,h*f,l*f,v*f)}};e.prototype.drawImage=function(e,r,t,i){var n=Ln.scale;var f=this.Nz;if(!f||!r){return}var a=r["image"];var s=r["size"];var u=r["clipOrigin"];var o=r["angel"];var l=r["clipSize"];var v=i.opacity,c=v===void 0?1:v;var h=s[0];var d=s[1];var y=e.width||h;var m=e.height||d;var b=l[0];var p=l[1];var x=u[0];var w=u[1];if(Fi(b)){b=h}if(Fi(p)){p=d}if(b>y){b=y}if(p>m){p=m}f.globalAlpha=c*this.Wz;f.drawImage(e,x,w,b,p,t[0]*n,t[1]*n,h*n,d*n)};e.prototype.gp=function(e,r,t,i){var n=Ln.scale,f=n===void 0?1:n;var a=this.Nz;if(!a){return}var s=r.style,u=s===void 0?{}:s;var o=i.opacity,l=o===void 0?1:o;var v=u.fontWeight,c=u.fontSize,h=u.fontFamily,d=h===void 0?"sans-serif":h,y=u.fillColor,m=u.strokeColor,b=u.strokeWidth,p=b===void 0?1:b,x=u.textAlign,w=x===void 0?"center":x,k=u.Gz,g=k===void 0?"Alphabetic":k;a.globalAlpha=l;a.globalAlpha=1;a.font=v+" "+c*f+"px "+d;a.textAlign=w;a.textBaseline=g;var M=t[0];var I=t[1];a.lineJoin="round";if(m&&p){a.strokeStyle=m;a.lineWidth=p;a.strokeText(e,M*f,I*f)}a.fillStyle=y;a.fillText(e,M*f,I*f)};e.prototype.Pz=function(){var e=this.canvas;var r=Ln.scale;var t=this._size||[0,0],i=t[0],n=t[1]};e.prototype.Tz=function(){this.canvas.width=this.canvas.width};e.prototype.reset=function(){this.Pz()};e.prototype.destroy=function(){this.Pz()};e.prototype.Oz=function(e,r){if(r===void 0){r=[]}var t=r[0]||Li[0];var i=r[1]||Li[1];if(e>=t&&e<=i){return true}return false};e.prototype.Bz=function(e){var r=this._container;if(!r){r=this._container=this.fq(this._map)}var t=Ln.scale;var i=e.zIndex,n=i===void 0?100:i,f=e.opacity,a=e.visible,s=e.zooms,u=s===void 0?Li:s;var o=this.wf.$n.zoom;var l=this.Oz(o,u);if(!a||!l||f===0){r.style.display="none"}else{r.style.display="block"}this.Wz=f;var v=this._size;r.setAttribute("width",v[0]*t+"px");r.setAttribute("height",v[1]*t+"px");r.style.width=v[0]+"px";r.style.height=v[1]+"px";r.style.zIndex=n+""};e.prototype.fq=function(e){var r=e.getContainer();var t=r.querySelector(".amap-layers");if(t){t.appendChild(this.canvas)}AMap.DomUtil.addClass(this.canvas,"amap-labellayers");return this.canvas};return e}();var Bn=M["SmartTypedArray"];var En=function(r){f(e,r);function e(){var e=r.call(this)||this;e.type="labelsLayer";e.wf=null;e.Ps={};e._viewMode="2D";e.Wf={};e.Bf={};e.TG={};e.uu=[0,0];return e}e.prototype.Hz=function(e,r,t,i,n,f){if(!this.ac){this._map=n;this._view=n.getView();this.ac=n.z_;this.Mf=n.R_;this._viewMode=r.$n.viewMode;this.fz=n.fS();if(!this._map.isDOMMode()){if(!this.Zz){this.Zz=new Fn}}else{if(!this.Vz){this.Vz=new Rn}}if(this.Zz){this.Zz.Mz({map:n,z_:n.z_,R_:n.R_,$i:e.Zn()})}}};e.prototype.Jz=function(){return{centerCoord:this.uu}};e.prototype.vi=function(e){if(this.fz){var r=this.fz.vi(e,"");return r}return null};e.prototype.destroy=function(){if(this.Zz){this.Zz.destroy();delete this.Zz}if(this.Vz){this.Vz.destroy();delete this.Vz}this.AG()};e.prototype.reset=function(){if(this.Zz){this.Zz.reset()}if(this.Vz){this.Vz.reset()}};e.prototype.Yz=function(e,r,t,i,n){this.Vz.Ce(e,r,t,i,n)};e.prototype.SG=function(){var e=typeof Int8Array!=="undefined";var r;if(e){r=new Bn("uint8",5e5);r.value.fill(0)}return r};e.prototype.zG=function(e){if(!this.TG[e]){this.TG[e]={iterator:0}}var r=this.TG[e];if(!r.LG){r.LG=this.SG()}if(!r.zz){r.zz=[]}return this.TG[e]};e.prototype.AG=function(){var e=this.TG||{};for(var r in e){if(e.hasOwnProperty(r)){var t=e[r];delete t.zz;if(t.od){t.od.destroy();delete t.od}t.iterator=0;if(t.LG){t.LG.value.fill(0)}}}};return e}(_n);var Nn=AMap["Util"];var Pn=M["transform"];var Dn=M["geo"]["lcs"];var zn=M["SmartArrayBuffer"];var Un=function(y){f(e,y);function e(){var e=y.call(this)||this;e.type="labelsLayer";e.l_="labelsLayer";return e}e.prototype.Hz=function(e,r,t,i,n,f){if(!i||!r){return}y.prototype.Hz.call(this,e,r,t,i,n,f);this.wf=r;var a=r.$n;var s=a.projectionId;this.If=Pn[s];var u=a.zoom;if(r&&f.visible&&f.opacity&&Nn.dS(u,f.zooms)){if(!i.Nf){return}if(!this._map.isDOMMode()){var o=e.context;i.upload(o)}if(!i){return}var l=i.rp,v=i.buffer,c=i.zo;var h=a.centerCoord;this.uu=Dn.getLocalByCoord([h[0],h[1]]).center||[0,0];var d=this.Ps=i;this.Ps.lp=l.up;return d}return null};e.prototype.renderFrame=function(e,r,t,i,n){var f=this.fz;if(f){this.Wf=f.Uf;this.Bf=f.$f}if(!this._map){return}if(!this._map.isDOMMode()){this.Jh(e,t,r,i,n)}else{var a=this.Ps.zo;var s=Nn.hp(a,this.wf);this.Yz(t,i,r,this._map,{Sa:s,centerCoord:this.uu,Uf:this.Wf,$f:this.Bf})}};e.prototype.Jz=function(){var e=this.Ps.zo;var r=Nn.hp(e,this.wf);var t={Sa:r,from:"labelsLayer",opacity:1,offset:[0,0],centerCoord:this.uu};return t};e.prototype.Jh=function(e,r,t,i,n){var f=this.Zz;var a=e.context;if(!t){return}if(!t["other"]){return}var s=t["other"],u=s.rp,o=s.buffer,l=s.zo;var v=Nn.hp(l,r);if(!u||!u.up){return}this.AG();var c=this.zG(this.l_);var h=c.LG,d=c.od;var y=Ti.sp;var m=u&&u.pp;var b=m.length;var p=0;var x=0;var w=[];var k=this.Ps.style||{};for(var g=0;g<b;g++){var M=m[g];var I=M.dp||[];p=x;x=f.Dz(h,this.Wf,{start:p,dp:I,style:k});w.push({start:p,end:x})}if(d){d.update(h.value)}else{c.od=new zn(a,h.value,y)}c.zz=w;if(i.ce){e.context.clear({depth:true})}f.Ce(r,a,{Rz:u,buffer:o,od:c.od.buffer,zz:c.zz},{from:this.type,Sz:true,Sa:v,oo:e,LF:i,aY:true,iq:n.aq})};return e}(En);var Wn=typeof Float32Array!=="undefined";if(!Wn){window["Float32Array"]=undefined;qn(Array)}var Gn=1e-6;var Hn=typeof Float32Array!=="undefined"?Float32Array:Array;function qn(e){Hn=e}if(!Math.hypot)Math.hypot=function(){var e=0,r=arguments.length;while(r--){e+=arguments[r]*arguments[r]}return Math.sqrt(e)};function Vn(e,r){var t=e[0],i=e[1],n=e[2],f=e[3];var a=e[4],s=e[5],u=e[6],o=e[7];var l=e[8],v=e[9],c=e[10],h=e[11];var d=e[12],y=e[13],m=e[14],b=e[15];var p=r[0],x=r[1],w=r[2],k=r[3];var g=r[4],M=r[5],I=r[6],$=r[7];var S=r[8],A=r[9],_=r[10],O=r[11];var j=r[12],F=r[13],C=r[14],L=r[15];return Math.abs(t-p)<=Gn*Math.max(1,Math.abs(t),Math.abs(p))&&Math.abs(i-x)<=Gn*Math.max(1,Math.abs(i),Math.abs(x))&&Math.abs(n-w)<=Gn*Math.max(1,Math.abs(n),Math.abs(w))&&Math.abs(f-k)<=Gn*Math.max(1,Math.abs(f),Math.abs(k))&&Math.abs(a-g)<=Gn*Math.max(1,Math.abs(a),Math.abs(g))&&Math.abs(s-M)<=Gn*Math.max(1,Math.abs(s),Math.abs(M))&&Math.abs(u-I)<=Gn*Math.max(1,Math.abs(u),Math.abs(I))&&Math.abs(o-$)<=Gn*Math.max(1,Math.abs(o),Math.abs($))&&Math.abs(l-S)<=Gn*Math.max(1,Math.abs(l),Math.abs(S))&&Math.abs(v-A)<=Gn*Math.max(1,Math.abs(v),Math.abs(A))&&Math.abs(c-_)<=Gn*Math.max(1,Math.abs(c),Math.abs(_))&&Math.abs(h-O)<=Gn*Math.max(1,Math.abs(h),Math.abs(O))&&Math.abs(d-j)<=Gn*Math.max(1,Math.abs(d),Math.abs(j))&&Math.abs(y-F)<=Gn*Math.max(1,Math.abs(y),Math.abs(F))&&Math.abs(m-C)<=Gn*Math.max(1,Math.abs(m),Math.abs(C))&&Math.abs(b-L)<=Gn*Math.max(1,Math.abs(b),Math.abs(L))}function Jn(){var e=new Hn(3);if(Hn!=Float32Array){e[0]=0;e[1]=0;e[2]=0}return e}function Zn(e,r){e[0]=r[0];e[1]=r[1];e[2]=r[2];return e}function Xn(e,r,t,i){e[0]=r;e[1]=t;e[2]=i;return e}function Kn(e,r,t){e[0]=r[0]-t[0];e[1]=r[1]-t[1];e[2]=r[2]-t[2];return e}var Yn=function(){var u=Jn();return function(e,r,t,i,n,f){var a,s;if(!r){r=3}if(!t){t=0}if(i){s=Math.min(i*r+t,e.length)}else{s=e.length}for(a=t;a<s;a+=r){u[0]=e[a];u[1]=e[a+1];u[2]=e[a+2];n(u,u,f);e[a]=u[0];e[a+1]=u[1];e[a+2]=u[2]}return e}}();var Qn=typeof Float64Array!=="undefined";var ef=typeof Float32Array!=="undefined";if(Qn){qn(Float64Array)}else if(ef){qn(Float32Array)}else{window["Float32Array"]=undefined;qn(Array)}var rf=AMap["DomUtil"];var tf=function(r){f(e,r);function e(){var e=r.call(this)||this;e.type="customLayer";e.OF=Jn();e.VM=Jn();return e}e.prototype.renderFrame=function(e,r,t,i){if(!i.alwaysRender&&this.OF&&this.EI&&this.BF&&this.NF&&(Vn(this.NF,t.$n.mvpMatrix)||t.map.TL())){var n=Math.pow(2,t.$n.zoom-this.EI);Kn(this.VM,t.$n.centerCoord,this.OF);Xn(this.VM,-(this.VM[0]/this.BF)*n,this.VM[1]/this.BF*n,0);if(n!==1){i.kv.style[rf.kL]="scale3d("+n+","+n+",1)"}i.kv.style.top=this.VM[1]+"px";i.kv.style.left=this.VM[0]+"px"}else{var f=i.layer;Zn(this.OF,t.$n.centerCoord);this.EI=t.$n.zoom;this.NF=t.$n.mvpMatrix;this.BF=t.$n.resolution;if(f["render"]){var a=f.getLayerConfig().zooms;if(t.$n.zoom>=a[0]&&t.$n.zoom<=a[1]){f.canvas.style.visibility="visible";f["render"]()}else{if(f&&f.canvas&&f.canvas){f.canvas.style.visibility="hidden"}}}i.kv.style[rf.kL]="";i.kv.style.top="";i.kv.style.left="";i.kv.style.height="";i.kv.style.visibility=""}};return e}(_n);var nf={PoiStyle:[{$:{mainkey:"10001",subkey:"1"},StyleItem:[{$:{level:"18,19,20",desc:"50,2,1,1,12,0xff696F71,0xffffffff,0x0,0"}}]},{$:{mainkey:"10001",subkey:"2"},StyleItem:[{$:{level:"17,18,19,20",desc:"50,7,1,1,12,0xff69859F,0xffffffff,0x0,0"}}]},{$:{mainkey:"10001",subkey:"3"},StyleItem:[{$:{level:"19,20",desc:"50,8,1,1,12,0xff69859F,0xffffffff,0x0,0"}}]},{$:{mainkey:"10001",subkey:"4"},StyleItem:[{$:{level:"18",desc:"50,25,2,1,0,0xff84638E,0xffffffff,0x0,0"}},{$:{level:"19,20",desc:"50,25,1,1,12,0xff84638E,0xffffffff,0x0,0"}}]},{$:{mainkey:"10001",subkey:"5"},StyleItem:[{$:{level:"17,18,19,20",desc:"50,59,2,1,0,0xff84638E,0xffffffff,0x0,0"}}]},{$:{mainkey:"10001",subkey:"6"},StyleItem:[{$:{level:"18,19,20",desc:"50,3,1,1,12,0xff84638E,0xffffffff,0x0,0"}}]},{$:{mainkey:"10001",subkey:"7"},StyleItem:[{$:{level:"18,19,20",desc:"50,4,1,1,12,0xff816B4E,0xffffffff,0x0,0"}}]},{$:{mainkey:"10001",subkey:"8"},StyleItem:[{$:{level:"17,18,19,20",desc:"50,9,1,1,12,0xff935676,0xffffffff,0x0,0"}}]},{$:{mainkey:"10001",subkey:"9"},StyleItem:[{$:{level:"18,19,20",desc:"50,10,1,1,12,0xff935676,0xffffffff,0x0,0"}}]},{$:{mainkey:"10001",subkey:"10"},StyleItem:[{$:{level:"18,19,20",desc:"50,14,1,1,12,0xff696F71,0xffffffff,0x0,0"}}]},{$:{mainkey:"10001",subkey:"11"},StyleItem:[{$:{level:"18,19,20",desc:"50,15,1,1,12,0xff696F71,0xffffffff,0x0,0"}}]},{$:{mainkey:"10001",subkey:"12"},StyleItem:[{$:{level:"18,19,20",desc:"50,17,1,1,12,0xff816B4E,0xffffffff,0x0,0"}}]},{$:{mainkey:"10001",subkey:"13"},StyleItem:[{$:{level:"18,19,20",desc:"50,18,1,1,12,0xff69859F,0xffffffff,0x0,0"}}]},{$:{mainkey:"10001",subkey:"14"},StyleItem:[{$:{level:"18,19,20",desc:"50,19,1,1,12,0xff696F71,0xffffffff,0x0,0"}}]},{$:{mainkey:"10001",subkey:"15"},StyleItem:[{$:{level:"18,19,20",desc:"50,22,1,1,12,0xff696F71,0xffffffff,0x0,0"}}]},{$:{mainkey:"10001",subkey:"16"},StyleItem:[{$:{level:"20",desc:"50,24,1,1,12,0xff696F71,0xffffffff,0x0,0"}}]},{$:{mainkey:"10001",subkey:"17"},StyleItem:[{$:{level:"19,20",desc:"50,1,0,1,12,0xff696F71,0xffffffff,0x0,0"}}]},{$:{mainkey:"10001",subkey:"18"},StyleItem:[{$:{level:"18,19,20",desc:"50,27,1,1,12,0xff84638E,0xffffffff,0x0,0"}}]},{$:{mainkey:"10001",subkey:"19"},StyleItem:[{$:{level:"18,19,20",desc:"50,36,1,1,12,0xff8E3A3D,0xffffffff,0x0,0"}}]},{$:{mainkey:"10001",subkey:"20"},StyleItem:[{$:{level:"17,18,19,20",desc:"50,39,1,1,12,0xff935676,0xffffffff,0x0,0"}}]},{$:{mainkey:"10001",subkey:"21"},StyleItem:[{$:{level:"18,19",desc:"50,44,2,1,0,0xff62686B,0xffffffff,0x0,0"}},{$:{level:"20",desc:"50,44,1,1,12,0xff62686B,0xffffffff,0x0,0"}}]},{$:{mainkey:"10001",subkey:"22"},StyleItem:[{$:{level:"18,19",desc:"50,45,2,1,0,0xff62686B,0xffffffff,0x0,0"}},{$:{level:"20",desc:"50,45,1,1,12,0xff62686B,0xffffffff,0x0,0"}}]},{$:{mainkey:"10001",subkey:"23"},StyleItem:[{$:{level:"18,19",desc:"50,46,2,1,0,0xff62686B,0xffffffff,0x0,0"}},{$:{level:"20",desc:"50,46,1,1,12,0xff62686B,0xffffffff,0x0,0"}}]},{$:{mainkey:"10001",subkey:"24"},StyleItem:[{$:{level:"18,19",desc:"50,47,2,1,0,0xff62686B,0xffffffff,0x0,0"}},{$:{level:"20",desc:"50,47,1,1,12,0xff62686B,0xffffffff,0x0,0"}}]},{$:{mainkey:"10001",subkey:"25"},StyleItem:[{$:{level:"18,19",desc:"50,48,2,1,0,0xff62686B,0xffffffff,0x0,0"}},{$:{level:"20",desc:"50,48,1,1,12,0xff62686B,0xffffffff,0x0,0"}}]},{$:{mainkey:"10001",subkey:"26"},StyleItem:[{$:{level:"18,19",desc:"50,49,2,1,0,0xff62686B,0xffffffff,0x0,0"}},{$:{level:"20",desc:"50,49,1,1,12,0xff62686B,0xffffffff,0x0,0"}}]},{$:{mainkey:"10001",subkey:"27"},StyleItem:[{$:{level:"18,19",desc:"50,50,2,1,0,0xff62686B,0xffffffff,0x0,0"}},{$:{level:"20",desc:"50,50,1,1,12,0xff62686B,0xffffffff,0x0,0"}}]},{$:{mainkey:"10001",subkey:"28"},StyleItem:[{$:{level:"18,19",desc:"50,51,2,1,0,0xff62686B,0xffffffff,0x0,0"}},{$:{level:"20",desc:"50,51,1,1,12,0xff62686B,0xffffffff,0x0,0"}}]},{$:{mainkey:"10001",subkey:"29"},StyleItem:[{$:{level:"18,19",desc:"50,52,2,1,0,0xff62686B,0xffffffff,0x0,0"}},{$:{level:"20",desc:"50,52,1,1,12,0xff62686B,0xffffffff,0x0,0"}}]},{$:{mainkey:"10001",subkey:"30"},StyleItem:[{$:{level:"18,19",desc:"50,53,2,1,0,0xff62686B,0xffffffff,0x0,0"}},{$:{level:"20",desc:"50,53,1,1,12,0xff62686B,0xffffffff,0x0,0"}}]},{$:{mainkey:"10001",subkey:"31"},StyleItem:[{$:{level:"18,19",desc:"50,54,2,1,0,0xff62686B,0xffffffff,0x0,0"}},{$:{level:"20",desc:"50,54,1,1,12,0xff62686B,0xffffffff,0x0,0"}}]},{$:{mainkey:"10001",subkey:"32"},StyleItem:[{$:{level:"18,19",desc:"50,55,2,1,0,0xff62686B,0xffffffff,0x0,0"}},{$:{level:"20",desc:"50,55,1,1,12,0xff62686B,0xffffffff,0x0,0"}}]},{$:{mainkey:"10001",subkey:"33"},StyleItem:[{$:{level:"18,19",desc:"50,56,2,1,0,0xff62686B,0xffffffff,0x0,0"}},{$:{level:"20",desc:"50,56,1,1,12,0xff62686B,0xffffffff,0x0,0"}}]},{$:{mainkey:"10001",subkey:"34"},StyleItem:[{$:{level:"18,19",desc:"50,57,2,1,0,0xff696F71,0xffffffff,0x0,0"}},{$:{level:"20",desc:"50,57,1,1,12,0xff696F71,0xffffffff,0x0,0"}}]},{$:{mainkey:"10001",subkey:"35"},StyleItem:[{$:{level:"17,18,19,20",desc:"50,6,2,1,0,0xff696F71,0xffffffff,0x0,0"}}]},{$:{mainkey:"10001",subkey:"36"},StyleItem:[{$:{level:"18,19,20",desc:"50,12,1,1,12,0xff69859F,0xffffffff,0x0,0"}}]},{$:{mainkey:"10001",subkey:"37"},StyleItem:[{$:{level:"19,20",desc:"50,13,1,1,12,0xff696F71,0xffffffff,0x0,0"}}]},{$:{mainkey:"10001",subkey:"38"},StyleItem:[{$:{level:"18,19,20",desc:"50,16,1,1,12,0xff696F71,0xffffffff,0x0,0"}}]},{$:{mainkey:"10001",subkey:"39"},StyleItem:[{$:{level:"17",desc:"50,20,2,1,0,0xff69859F,0xffffffff,0x0,0"}},{$:{level:"18,19,20",desc:"50,20,1,1,12,0xff69859F,0xffffffff,0x0,0"}}]},{$:{mainkey:"10001",subkey:"40"},StyleItem:[{$:{level:"17",desc:"50,5,2,1,0,0xff69859F,0xffffffff,0x0,0"}},{$:{level:"18,19,20",desc:"50,5,1,1,12,0xff69859F,0xffffffff,0x0,0"}}]},{$:{mainkey:"10001",subkey:"41"},StyleItem:[{$:{level:"20",desc:"50,28,1,1,12,0xff696F71,0xffffffff,0x0,0"}}]},{$:{mainkey:"10001",subkey:"42"},StyleItem:[{$:{level:"18,19,20",desc:"50,29,1,1,12,0xff4C6776,0xffffffff,0x0,0"}}]},{$:{mainkey:"10001",subkey:"43"},StyleItem:[{$:{level:"18,19,20",desc:"50,31,1,1,12,0xff000000,0xffffffff,0x0,0"}}]},{$:{mainkey:"10001",subkey:"44"},StyleItem:[{$:{level:"18,19,20",desc:"50,32,2,1,0,0xff4C6776,0xffffffff,0x0,0"}}]},{$:{mainkey:"10001",subkey:"45"},StyleItem:[{$:{level:"18,19,20",desc:"50,33,2,1,0,0xff4C6776,0xffffffff,0x0,0"}}]},{$:{mainkey:"10001",subkey:"46"},StyleItem:[{$:{level:"18",desc:"50,34,2,1,0,0xff935676,0xffffffff,0x0,0"}},{$:{level:"19,20",desc:"50,34,1,1,12,0xff935676,0xffffffff,0x0,0"}}]},{$:{mainkey:"10001",subkey:"47"},StyleItem:[{$:{level:"18,19,20",desc:"50,35,2,1,0,0xff4C6776,0xffffffff,0x0,0"}}]},{$:{mainkey:"10001",subkey:"48"},StyleItem:[{$:{level:"19,20",desc:"50,37,1,1,12,0xff4C6776,0xffffffff,0x0,0"}}]},{$:{mainkey:"10001",subkey:"49"},StyleItem:[{$:{level:"18,19,20",desc:"50,38,2,1,0,0xff4C6776,0xffffffff,0x0,0"}}]},{$:{mainkey:"10001",subkey:"50"},StyleItem:[{$:{level:"18,19,20",desc:"50,42,1,1,12,0xff69859F,0xffffffff,0x0,0"}}]},{$:{mainkey:"10001",subkey:"51"},StyleItem:[{$:{level:"18,19,20",desc:"50,41,1,1,12,0xff69859F,0xffffffff,0x0,0"}}]},{$:{mainkey:"10001",subkey:"52"},StyleItem:[{$:{level:"20",desc:"50,43,1,1,12,0xff696F71,0xffffffff,0x0,0"}}]},{$:{mainkey:"10001",subkey:"53"},StyleItem:[{$:{level:"17,18,19,20",desc:"50,58,2,1,0,0xff696F71,0xffffffff,0x0,0"}}]},{$:{mainkey:"10001",subkey:"54"},StyleItem:[{$:{level:"17,18,19,20",desc:"50,21,1,1,12,0xff69859F,0xffffffff,0x0,0"}}]},{$:{mainkey:"10001",subkey:"55"},StyleItem:[{$:{level:"17,18,19,20",desc:"50,30,1,1,12,0xff69859F,0xffffffff,0x0,0"}}]},{$:{mainkey:"10001",subkey:"56"},StyleItem:[{$:{level:"19,20",desc:"50,1,0,1,12,0xff000000,0xffffffff,0x0,0"}}]},{$:{mainkey:"10001",subkey:"57"},StyleItem:[{$:{level:"18,19,20",desc:"50,23,2,1,0,0xff69859F,0xffffffff,0x0,0"}}]},{$:{mainkey:"10001",subkey:"58"},StyleItem:[{$:{level:"18,19,20",desc:"50,40,2,1,0,0xff69859F,0xffffffff,0x0,0"}}]},{$:{mainkey:"10001",subkey:"59"},StyleItem:[{$:{level:"18,19,20",desc:"50,11,2,1,0,0xff69859F,0xffffffff,0x0,0"}}]},{$:{mainkey:"10001",subkey:"60"},StyleItem:[{$:{level:"16,17",desc:"50,1,0,1,20,0xff6590a6,0xffffffff,0x0,0"}}]},{$:{mainkey:"10001",subkey:"62"},StyleItem:[{$:{level:"17,18,19,20",desc:"50,61,2,1,0,0xff62686B,0xffffffff,0x0,0"}}]},{$:{mainkey:"10001",subkey:"63"},StyleItem:[{$:{level:"17,18,19,20",desc:"50,60,2,1,0,0xff62686B,0xffffffff,0x0,0"}}]},{$:{mainkey:"10001",subkey:"64"},StyleItem:[{$:{level:"17",desc:"50,62,2,1,0,0xff62686B,0xffffffff,0x0,0"}},{$:{level:"18,19,20",desc:"50,62,1,1,12,0xff62686B,0xffffffff,0x0,0"}}]},{$:{mainkey:"10001",subkey:"65"},StyleItem:[{$:{level:"17",desc:"50,63,2,1,0,0xff62686B,0xffffffff,0x0,0"}},{$:{level:"18,19,20",desc:"50,63,1,1,12,0xff62686B,0xffffffff,0x0,0"}}]},{$:{mainkey:"10001",subkey:"66"},StyleItem:[{$:{level:"17",desc:"50,64,2,1,0,0xff62686B,0xffffffff,0x0,0"}},{$:{level:"18,19,20",desc:"50,64,1,1,12,0xff62686B,0xffffffff,0x0,0"}}]},{$:{mainkey:"10001",subkey:"67"},StyleItem:[{$:{level:"17",desc:"50,65,2,1,0,0xff62686B,0xffffffff,0x0,0"}},{$:{level:"18,19,20",desc:"50,65,1,1,12,0xff62686B,0xffffffff,0x0,0"}}]},{$:{mainkey:"10001",subkey:"68"},StyleItem:[{$:{level:"17",desc:"50,66,2,1,0,0xff62686B,0xffffffff,0x0,0"}},{$:{level:"18,19,20",desc:"50,66,1,1,12,0xff62686B,0xffffffff,0x0,0"}}]},{$:{mainkey:"10001",subkey:"69"},StyleItem:[{$:{level:"17",desc:"50,67,2,1,0,0xff62686B,0xffffffff,0x0,0"}},{$:{level:"18,19,20",desc:"50,67,1,1,12,0xff62686B,0xffffffff,0x0,0"}}]},{$:{mainkey:"10001",subkey:"70"},StyleItem:[{$:{level:"17",desc:"50,68,2,1,0,0xff62686B,0xffffffff,0x0,0"}},{$:{level:"18,19,20",desc:"50,68,1,1,12,0xff62686B,0xffffffff,0x0,0"}}]},{$:{mainkey:"10001",subkey:"71"},StyleItem:[{$:{level:"17",desc:"50,69,2,1,0,0xff62686B,0xffffffff,0x0,0"}},{$:{level:"18,19,20",desc:"50,69,1,1,12,0xff62686B,0xffffffff,0x0,0"}}]},{$:{mainkey:"10001",subkey:"72"},StyleItem:[{$:{level:"17",desc:"50,70,2,1,0,0xff62686B,0xffffffff,0x0,0"}},{$:{level:"18,19,20",desc:"50,70,1,1,12,0xff62686B,0xffffffff,0x0,0"}}]},{$:{mainkey:"10001",subkey:"73"},StyleItem:[{$:{level:"17,18,19,20",desc:"50,71,2,1,0,0xff62686B,0xffffffff,0x0,0"}}]},{$:{mainkey:"10001",subkey:"74"},StyleItem:[{$:{level:"17,18,19,20",desc:"50,72,2,1,0,0xff62686B,0xffffffff,0x0,0"}}]},{$:{mainkey:"10001",subkey:"75"},StyleItem:[{$:{level:"18,19",desc:"50,73,2,1,0,0xff62686B,0xffffffff,0x0,0"}},{$:{level:"20",desc:"50,73,1,1,12,0xff62686B,0xffffffff,0x0,0"}}]},{$:{mainkey:"10001",subkey:"76"},StyleItem:[{$:{level:"18,19",desc:"50,74,2,1,0,0xff62686B,0xffffffff,0x0,0"}},{$:{level:"20",desc:"50,74,1,1,12,0xff62686B,0xffffffff,0x0,0"}}]},{$:{mainkey:"10001",subkey:"77"},StyleItem:[{$:{level:"18,19",desc:"50,75,2,1,0,0xff62686B,0xffffffff,0x0,0"}},{$:{level:"20",desc:"50,75,1,1,12,0xff62686B,0xffffffff,0x0,0"}}]},{$:{mainkey:"10001",subkey:"78"},StyleItem:[{$:{level:"18,19",desc:"50,76,2,1,0,0xff62686B,0xffffffff,0x0,0"}},{$:{level:"20",desc:"50,76,1,1,12,0xff62686B,0xffffffff,0x0,0"}}]},{$:{mainkey:"10001",subkey:"79"},StyleItem:[{$:{level:"19,20",desc:"50,81,1,1,12,0xff69859F,0xffffffff,0x0,0"}}]},{$:{mainkey:"10001",subkey:"80"},StyleItem:[{$:{level:"19,20",desc:"50,89,1,1,12,0xff69859F,0xffffffff,0x0,0"}}]},{$:{mainkey:"10001",subkey:"81"},StyleItem:[{$:{level:"19,20",desc:"50,85,1,1,12,0xff69859F,0xffffffff,0x0,0"}}]},{$:{mainkey:"10001",subkey:"82"},StyleItem:[{$:{level:"19,20",desc:"50,90,1,1,12,0xff69859F,0xffffffff,0x0,0"}}]},{$:{mainkey:"10001",subkey:"83"},StyleItem:[{$:{level:"19,20",desc:"50,83,1,1,12,0xff69859F,0xffffffff,0x0,0"}}]},{$:{mainkey:"10001",subkey:"84"},StyleItem:[{$:{level:"19,20",desc:"50,103,1,1,12,0xff69859F,0xffffffff,0x0,0"}}]},{$:{mainkey:"10001",subkey:"85"},StyleItem:[{$:{level:"19,20",desc:"50,98,1,1,12,0xff69859F,0xffffffff,0x0,0"}}]},{$:{mainkey:"10001",subkey:"86"},StyleItem:[{$:{level:"19,20",desc:"50,86,1,1,12,0xff69859F,0xffffffff,0x0,0"}}]},{$:{mainkey:"10001",subkey:"87"},StyleItem:[{$:{level:"19,20",desc:"50,87,1,1,12,0xff69859F,0xffffffff,0x0,0"}}]},{$:{mainkey:"10001",subkey:"88"},StyleItem:[{$:{level:"19,20",desc:"50,111,1,1,12,0xff69859F,0xffffffff,0x0,0"}}]},{$:{mainkey:"10001",subkey:"89"},StyleItem:[{$:{level:"19,20",desc:"50,88,1,1,12,0xff69859F,0xffffffff,0x0,0"}}]},{$:{mainkey:"10001",subkey:"90"},StyleItem:[{$:{level:"19,20",desc:"50,91,1,1,12,0xff69859F,0xffffffff,0x0,0"}}]},{$:{mainkey:"10001",subkey:"91"},StyleItem:[{$:{level:"19,20",desc:"50,93,1,1,12,0xff69859F,0xffffffff,0x0,0"}}]},{$:{mainkey:"10001",subkey:"92"},StyleItem:[{$:{level:"19,20",desc:"50,113,1,1,12,0xff69859F,0xffffffff,0x0,0"}}]},{$:{mainkey:"10001",subkey:"93"},StyleItem:[{$:{level:"19,20",desc:"50,95,1,1,12,0xff69859F,0xffffffff,0x0,0"}}]},{$:{mainkey:"10001",subkey:"94"},StyleItem:[{$:{level:"19,20",desc:"50,100,1,1,12,0xff69859F,0xffffffff,0x0,0"}}]},{$:{mainkey:"10001",subkey:"95"},StyleItem:[{$:{level:"19,20",desc:"50,97,1,1,12,0xff69859F,0xffffffff,0x0,0"}}]},{$:{mainkey:"10001",subkey:"96"},StyleItem:[{$:{level:"19,20",desc:"50,94,1,1,12,0xff69859F,0xffffffff,0x0,0"}}]},{$:{mainkey:"10001",subkey:"97"},StyleItem:[{$:{level:"18,19,20",desc:"50,108,1,1,12,0xff69859F,0xffffffff,0x0,0"}}]},{$:{mainkey:"10001",subkey:"98"},StyleItem:[{$:{level:"18,19,20",desc:"50,1,2,1,0,0xff69859F,0xffffffff,0x0,0"}}]},{$:{mainkey:"10001",subkey:"99"},StyleItem:[{$:{level:"18,19,20",desc:"50,1,0,1,12,0xff696F71,0xffffffff,0x0,1"}}]},{$:{mainkey:"10001",subkey:"105"},StyleItem:[{$:{level:"16,17,18",desc:"50,1,0,1,14,0xff696F71,0xffffffff,0x0,0"}}]},{$:{mainkey:"10001",subkey:"106"},StyleItem:[{$:{level:"19,20",desc:"50,1,0,1,12,0xff4d4e51,0xffffffff,0x0,0"}}]},{$:{mainkey:"10001",subkey:"107"},StyleItem:[{$:{level:"16,17,18,19,20",desc:"50,109,1,1,12,0xff4d4e51,0xffffffff,0x0,0"}}]}],LineStyle:[{$:{mainkey:"20001",subkey:"1"},StyleItem:[{$:{level:"15,16,17,18,19,20",desc:"88,2,10,0,0,0,0xffe68e00,0xffe68e00,0xffe68e00,0xffe68e00"}}]},{$:{mainkey:"20001",subkey:"2"},StyleItem:[{$:{level:"15,16,17,18,19,20",desc:"88,2,8,0,0,0,0xffababab,0xffababab,0xff5e492f,0xffffe080"}}]}],RegionStyle:[{$:{mainkey:"30001",subkey:"1"},StyleItem:[{$:{level:"15,16,17,18,19,20",desc:"90,1,0xfffcfbed"}}]},{$:{mainkey:"30001",subkey:"99"},StyleItem:[{$:{level:"19,20",desc:"90,1,0x1a151b2b"}}]},{$:{mainkey:"30001",subkey:"98"},StyleItem:[{$:{level:"19,20",desc:"90,1,0x8c151b2b"}}]}],BuildingStyle:[{$:{mainkey:"30001",subkey:"2"},StyleItem:[{$:{level:"17,18,19,20",desc:"99,0xffe6e6e6,0xff858585,0xffcfcfcf,0xffb8b8b8,255"}}]},{$:{mainkey:"30001",subkey:"3"},StyleItem:[{$:{level:"15,16,17,18,19,20",desc:"99,0xffe6e6e6,0xff858585,0xffcfcfcf,0xffb8b8b8,255"}}]},{$:{mainkey:"30001",subkey:"4"},StyleItem:[{$:{level:"15,16,17,18,19,20",desc:"99,0xffbfd6e9 ,0xff6f7c87,0xffacc0d1,0xff99abba,255"}}]},{$:{mainkey:"30001",subkey:"5"},StyleItem:[{$:{level:"17,18,19,20",desc:"99,0xffcce3e8 ,0xff778487,0xffb7ccd0,0xffa3b6ba,255"}}]},{$:{mainkey:"30001",subkey:"6"},StyleItem:[{$:{level:"15,16,17,18,19,20",desc:"99,0xffcce3e8,0xff778487,0xffb7ccd0,0xffa3b6ba,255"}}]},{$:{mainkey:"30001",subkey:"7"},StyleItem:[{$:{level:"15,16,17,18,19,20",desc:"99,0xffe5dae8,0xff857f87,0xffcec4d0,0xffb7aeba,255"}}]},{$:{mainkey:"30001",subkey:"8"},StyleItem:[{$:{level:"15,16,17,18,19,20",desc:"99,0xfffaeccd,0xff948c79,0xffe1d4b8,0xffc8bda4,255"}}]},{$:{mainkey:"30001",subkey:"9"},StyleItem:[{$:{level:"15,16,17,18,19,20",desc:"99,0xff90bae8,0xff546d87,0xff81a7d0,0xff7395ba,255"}}]},{$:{mainkey:"30001",subkey:"10"},StyleItem:[{$:{level:"15,16,17,18,19,20",desc:"99,0xfff0e3df,0xff8f8d8c,0xffd8ccc8,0xffc0b6b2,255"}}]},{$:{mainkey:"30001",subkey:"11"},StyleItem:[{$:{level:"15,16,17,18,19,20",desc:"99,0xffbfd3e9,0xff6f7b87,0xffacbdd1,0xff99a9ba,255"}}]},{$:{mainkey:"30001",subkey:"12"},StyleItem:[{$:{level:"15,16,17,18,19,20",desc:"99,0xffdae2f4,0xff7f848f,0xffc4cbdb,0xffaeb5c3,255"}}]},{$:{mainkey:"30001",subkey:"13"},StyleItem:[{$:{level:"15,16,17,18,19,20",desc:"99,0xff95e3f5,0xff598791,0xff86ccdc,0xff77b6c4,255"}}]},{$:{mainkey:"30001",subkey:"14"},StyleItem:[{$:{level:"15,16,17,18,19,20",desc:"99,0xffc9edf5,0xff778d91,0xffb5d5dc,0xffa1bec4,255"}}]},{$:{mainkey:"30001",subkey:"15"},StyleItem:[{$:{level:"15,16,17,18,19,20",desc:"99,0xfff4c4ba,0xff8f726d,0xffdbb0a7,0xffc39d95,255"}}]},{$:{mainkey:"30001",subkey:"16"},StyleItem:[{$:{level:"15,16,17,18,19,20",desc:"99,0xffdbe8b3,0xff7f8768,0xffc5d0a1,0xffafba8f,255"}}]},{$:{mainkey:"30001",subkey:"17"},StyleItem:[{$:{level:"15,16,17,18,19,20",desc:"99,0xfff5cedc,0xff917a82,0xffdcb9c6,0xffc4a5b0,255"}}]}]};var ff=["strokeColor","strokeOpacity","strokeWeight","fillColor","fillOpacity","strokeStyle","strokeDasharray","fontSize"];var af={setOptions:function(e){},init:function(){this.NC={};this.UC(nf);this.WC=[];return this.NC},GC:function(e){var r=AMap.getConfig()["protocol"]+"://webapi.amap.com"+"/images/indoor_icon/"+("36/"+e+"@2x")+".png";return r},HC:function(e){var r=true;for(var t=13;t<=22;t++){var i=this.VC(e,t);if(i&&(i.fontSize>0||i.iconId)){r=false;break}}return r},VC:function(e,r){return this.Tn(e,r)},ZC:function(e,r){return this.Tn(e,r)},Pr:function(e,r){return this.Tn(e,r)},YC:function(e,r){var t=ff;if(r){for(var i in r){if(r.hasOwnProperty(i)&&t.indexOf(i)>=0&&e[i]===void 0){e[i]=r[i]}}}return e},JC:function(e,r){if(!e){return null}var t=ff;var i={};for(var n=0,f=t.length;n<f;n++){var a=t[n];if(e.hasOwnProperty(a)&&e[a]!==void 0){i[a]=e[a]}}this.YC(i,r);return i},Tn:function(e,r){var t=e[0];var i=e[1];var n=t+"_"+i;r=Math.round(r);var f=this.NC[n];if(!f){if(this.WC.indexOf(n)<0){this.WC.push(n)}return null}for(var a=0,s=f.length;a<s;a++){if(f[a].levels.indexOf(""+r)>=0){return f[a].styleOpts}}if(r>20){var u=f[f.length-1];if(u.levels.indexOf("20")>=0){u.levels.push(""+r);return u.styleOpts}}return null},UC:function(e){for(var r in e){if(e.hasOwnProperty(r)){this.XC(e[r],r)}}},XC:function(e,r){for(var t=0,i=e.length;t<i;t++){this.qC(e[t],r)}},qC:function(e,r){var t=e["$"];if(!t){return}var i=t["mainkey"];var n=t["subkey"];var f=e["StyleItem"];var a=i+"_"+n;if(this.NC[a]);this.NC[a]=this.QC(f,r)},QC:function(e,r){var t=[];for(var i=0,n=e.length;i<n;i++){var f=this.KC(e[i],r);if(!f){continue}t.push(f)}return t},KC:function(e,r){var t=e["$"];if(!t){return}var i={};i["levels"]=t["level"].split(",");i["desc"]=t["desc"].split(",");i["styleOpts"]=this.$I(i,i.desc,r);i["styleOpts"]["levels"]=i.levels;return i},BI:function(e){var r=[];for(var t=0,i=e.length;t<i;t+=2){r.push(parseInt(e.substr(t,2),16))}r.push(r.shift());r=r.slice(0,3);var n="rgb("+r.join(",")+")";return n},WI:function(e){if(e.trim){e=e.trim()}var r=this.BI(e.substr(2,8));return r},GI:function(){return this.HI++},$I:function(e,r,t){var i;switch(t){case"PoiStyle":i={iconId:parseInt(r[1],10),fontSize:Math.min(15,parseInt(r[4],10)||0),fillColor:this.WI(r[5]),strokeColor:this.WI(r[6]),VI:parseInt(r[8],10)===0};if(i.iconId===1){i.iconId=0}break;case"LineStyle":i={fillColor:"rgb(252, 249, 242)",strokeColor:this.WI(r[7]),strokeWeight:Math.max(2,Math.round(parseInt(r[2],10)/3))};break;case"RegionStyle":i={fillColor:this.WI(r[2])};break;case"BuildingStyle":i={fillColor:this.WI(r[1]),strokeColor:this.WI(r[2])};break;default:return null}i["_uid"]=this.GI();return i}};var sf=M["assign"];var uf={high:{fillColor:"rgb(252, 249, 242)",strokeColor:"rgb(230,142,0)"},unHigh:{fillColor:"rgb(252, 249, 242)",strokeColor:"rgb(171,171,171)"}};var of=M["TileState"];var lf=function(r){f(e,r);function e(){var e=r.call(this)||this;e._config=AMap["getConfig"]();e.YI=[17,22];e.l$=af.init();e.a$=new M["LabelsLayer"]({opacity:1,collision:true,allowCollision:true,zIndex:9,zooms:[17,22],visible:false});e.GL=false;e.i$=false;e.WL="";e._map=null;e.f$=false;e.UL=null;e.pD=false;e.t$();e.sZ=false;return e}e.prototype["getContainer"]=function(){return document.createElement("div")};e.prototype.renderFrame=function(e,r,t,i,n){};e.prototype.render=function(e){var r=this;var t=e.data;if(!t||t.length<1||!this.gs){return false}this._map=this.gs.map;if(!this.sZ){this.sZ=true;this._map.on("click",function(e){if(r.e$){r.e$.hide()}r.gs.oZ()})}var i=this.gs.ZI();var n=i.indoor,f=i.floorInfo;if(i&&i["visible"]===false){return false}var a=this.qI(t);this.UL=t;if(!a){return false}if(!i["changeFloor"]){var s={centerId:a};this.gs.setRenderData(s)}var u=Object.keys(t);for(var o=0;o<u.length;o++){var l=u[o];var v=t[l];var c=v["building"];if(!c||!c["properties"]){continue}var h=this.gs.getIntersect(c["properties"]["outside_outline"]);if(!h){continue}if(!n[l]){var d="1";if(f[l]){d=f[l]}this.gS(v,d)}else{var y=n[l]["curFloor"];var d=f[l];if(y!==d){this.gS(v,d)}}}};e.prototype.HF=function(e){this.gs=e};e.prototype.t$=function(){var e=this;if(!this.i$){AMap["plugin"]("AMap.IndoorMapFloorBar",function(){e.i$=true})}};e.prototype.QI=function(e,r){var a=this;var t=this.gs.ZI();var i=t.floorInfo,n=t.showId,f=t.centerId,s=t.sq;var u=null;var o=null;var l=Number(i[r])||1;var v=e.properties;if(v&&v["floor_nonas"]){u=v["floor_nonas"];o=v["floor_indexs"]}if(!u||!o){return false}if(o.length>1){if(o[0]>o[1]){u=u.reverse();o=o.reverse()}}if(!this.e$&&this.i$){if(M&&M.module){this.e$=new M["IndoorMapFloorBar"]({floors:u,floorIndexs:o,currentFloor:l});this.WL=f;this.gs.setBar(this.e$);this.gs.setRenderData({barCenterId:this.WL})}if(!this.e$){return false}this._map.addControl(this.e$);this.e$.on("floorchange",function(e){a.pD=true;var r=e["currentIndex"];var t=a.gs.ZI();var i=r;var n=t.centerId;a.gs.n$(n,i);var f=a._map.Mv.getSource(a.gs.co());if(n){a.gs.setRenderData({changeFloor:true});f.JR(n,i)}})}else if(this.e$){this.WL=f;this.e$["setOption"]({floors:u,floorIndexs:o,currentFloor:l});this.gs.setRenderData({barCenterId:this.WL})}if(s&&this.e$){this.e$.hide()}if(!this.GL&&this._map){this.GL=true;this._map.on("moveend",function(){var e=a.vD();if(e){var r={centerId:e};a.gs.setRenderData(r)}a.gs.setRenderData({changeFloor:false});a.uq();a.gs.uD()})}};e.prototype.uq=function(){var e=1;var r=this.gs.ZI();var t=r.centerId;if(t===this.WL){return false}if(r["floorInfo"][t]){e=r["floorInfo"][t]}if(this.UL&&this.UL[t]&&this.UL[t]["building"]){var i=this.UL[t]["building"];var n=i.properties;var f=null;var a=null;if(n&&n["floor_nonas"]){f=n["floor_nonas"];a=n["floor_indexs"]}if(!f||!a){return false}if(a.length>1){if(a[0]>a[1]){f=f.reverse();a=a.reverse()}}if(this.e$){this.e$["setOption"]({floors:f,floorIndexs:a,currentFloor:Number(e)});this.WL=t;this.gs.setRenderData({barCenterId:this.WL})}}};e.prototype.qI=function(e){var r=this._map.getCenter().toJSON();var t=null;var i="";var n=Object.keys(e);for(var f=0;f<n.length;f++){var a=n[f];var s=e[a];if(s["building"]&&s["building"]["properties"]&&s["building"]["properties"]["centerPoint"]){var u=s["building"]["properties"]["centerPoint"];var o=new AMap["LngLat"](u[0],u[1]);var l=AMap["GeometryUtil"]["distance"](r,o);if(t){if(l<t){t=l;i=a}}else{t=l;i=a}}}return i};e.prototype.vD=function(){var e=this._map.getCenter().toJSON();var r=null;var t="";var i=this.gs.ZI();var n=i["indoor"];var f=Object.keys(n);for(var a=0;a<f.length;a++){var s=f[a];var u=n[s];if(u["buildingCenter"]){var o=u["buildingCenter"];var l=new AMap["LngLat"](o[0],o[1]);var v=AMap["GeometryUtil"]["distance"](e,l);if(r){if(v<r){r=v;t=s}}else{r=v;t=s}}}return t};e.prototype.fD=function(e,r){var t=this.gs.ZI();if(!t["floorInfo"]){t["floorInfo"]={}}t["floorInfo"][e]=r;this.gs.setRenderData(t)};e.prototype.gS=function(e,r){var t=Object.keys(e["data"])[0];if(r){t=r}if(!e["data"][t]){return false}var i=e["data"][t]["floor"];var n=e["data"][t]["id"];if(!i||!n){return false}var f=this.gs.ZI();this.fD(n,r);var a=f["centerId"];if(a===n){this.QI(e["building"],n)}this.o$(i,n,e["building"],r);this.gs.mD(true)};e.prototype.ar=function(e){var r=this.gs.ZI();var t=r.indoor;if(t&&t[e]){if(t[e]["polygons"]){this.gs.$F.remove(t[e]["polygons"])}if(t[e]&&t[e]["markers"]&&t[e]["markers"].length>0){this.a$.remove(t[e]["markers"])}}};e.prototype.h$=function(e){var r=this;if(!e||!e["properties"]){return null}var t=e["properties"]["poitype"];var i=e["position"];var n=t.join("_");var f=this.l$[n]&&this.l$[n][0];var a=this.gs.ZI();if(f&&f["styleOpts"]&&f["styleOpts"]["iconId"]){var s=f["styleOpts"]["iconId"];var u=af.GC(s);var o={position:i,zooms:e["zooms"],opacity:a["opacity"],rank:3e5,icon:{size:[18,18],image:u,anchor:"center"},extData:e["properties"],innerOverlay:true};if(e["text"]){var l=f["styleOpts"]["fillColor"]||"rgb(132,99,142)";var v=f["styleOpts"]["strokeColor"]||"#FFFFFF";o=sf(o,{text:{content:e["text"],direction:"bottom",style:{fillColor:l,strokeColor:v,fontSize:12}}})}var c=new AMap["LabelMarker"](o);c.on("click",function(e){if(r._map&&r._map.getStatus().isHotspot){r.bi("click",e)}});c.on("mousemove",function(e){if(r._map&&r._map.getStatus().isHotspot){r.bi("mousemove",e)}});c.on("mouseout",function(e){if(r._map&&r._map.getStatus().isHotspot){r.bi("mousemove",e)}});return c}return null};e.prototype.bi=function(e,r){var t="hotspot";var i;var n=r.target.getExtData();switch(e){case"click":i=t+e;break;case"mouseover":i=t+"over";break;case"mouseout":i=t+"out";break}if(i){var f=this._map.getProjection();var a=f["unproject"](r["lnglat"]["lng"],r["lnglat"]["lat"]),s=a[0],u=a[1];var o={type:i,id:n["pid"],name:n["name"],lnglat:r["lnglat"],originEvent:r["originEvent"]};this._map.emit(i,o)}};e.prototype.o$=function(e,r,t,i){var u=this;if(!this._map||!r){return false}var n=this.gs.ZI();this.ar(r);var f=this._map["getZoom"]();var a=[];var s=[];var o=e["shops"];var l=e["floor"];var v=e["cons"];var c={building_id:r,floor:l};var h=o.length;var d=[];var y=[];var m=[];var b=[];var p=[];for(var x=0;x<h;x++){var w=o[x];var k=w.properties,g=w.geometry;var M=sf({shop:{id:k["cpid"],name:k["name"]}},c);var I="#FFFFFF";var $="#FE9A2E";if(k&&k["regiontype"]){var S=k["regiontype"].join("_");var A=this.l$[S]&&this.l$[S][0];if(A&&A["styleOpts"]){I=A["styleOpts"]["fillColor"];$=A["styleOpts"]["strokeColor"]}}y.push(I);m.push($);p.push(n["opacity"]);b.push({indoorPolygon:true,indoorData:M,id:r});d.push(g.coordinates);if(k["zoom_min"]&&k["zoom_max"]&&k["font_anthor_point"]){var _=k["font_anthor_point"];var O={position:[_[0],_[1]],text:k["name"],properties:k,zooms:[k["zoom_min"],k["zoom_max"]]};var j=this.h$(O);if(j){s.push(j)}}}var F=new AMap["Polygon"]({path:d,innerOverlay:true,cursor:n["cursor"],zooms:this.YI,async:true,fillColor:function(e){return y[e]},strokeColor:function(e){return m[e]},fillOpacity:function(e){return p[e]},strokeOpacity:n["opacity"],strokeWeight:1,zIndex:n["zIndex"]+2});F.on("click",function(e){var r=b[e.vectorIndex];var t=r.id;if(u.e$){u.e$.show()}if(t){var i={centerId:t,changeFloor:true};u.gs.setRenderData(i);u.uq();u.gs.uD()}r["indoorData"]["ext"]={type:"polygon",data:e};u.gs.emit("click",r["indoorData"])});F.on("mouseover",function(e){for(var r=0,t=b.length;r<t;r++){var i=b[r];if(i["originFillOpacity"]&&i["originFillColor"]){y[r]=i["originFillColor"];p[r]=i["originFillOpacity"]}}var n=b[e.vectorIndex];var f=e.lnglat;n["originFillOpacity"]=p[e.vectorIndex];n["originFillColor"]=y[e.vectorIndex];y[e.vectorIndex]="#B45F04";p[e.vectorIndex]=.4;if(n["indoorData"]&&n["indoorData"]["shop"]&&n["indoorData"]["shop"]["name"]){var a=n["indoorData"]["shop"]["name"];var s="<div style="+\'"padding: 5px; border: 1px solid rgba(41,38,36,0.87);; white-space:nowrap; border-radius: 2px;color: #000000; background: #FBF5EF; font-size:12px;">\'+a+"</div>";u.JT=new AMap["Marker"]({position:f,content:s,anchor:"bottom-left",map:u._map,noSelect:true})}F.to()});F.on("mouseout",function(e){for(var r=0,t=b.length;r<t;r++){var i=b[r];if(i["originFillOpacity"]&&i["originFillColor"]){y[r]=i["originFillColor"];p[r]=i["originFillOpacity"]}}if(u.JT){u._map.remove(u.JT)}F.to()});a.push(F);var C=null;var L=[];if(l["geometry"]&&l["geometry"]["coordinates"]){var I=uf["unHigh"]["fillColor"];var $=uf["unHigh"]["strokeColor"];if(n["centerId"]===r){$=uf["high"]["strokeColor"]}var T=l["geometry"]["coordinates"];if(l["geometry"]["type"]&&l["geometry"]["type"]==="MultiPolygon"){if(T[0]&&T[0].length>1){var R=[];for(var B=0;B<T[0].length;B++){R.push(T[0][B])}T=R}}for(var E=0;E<T.length;E++){var N=new AMap["Polygon"]({async:true,strokeWeight:3,innerOverlay:true,zooms:this.YI,path:T[E],fillColor:I,strokeColor:$,zIndex:n["zIndex"]+1,fillOpacity:n["opacity"],strokeOpacity:n["opacity"],extData:{indoorPolygon:true,id:r}});C=true;N.on("click",function(e){var r=e.target.getExtData();var t=r.id;if(u.e$){u.e$.show()}if(t){var i={centerId:t,changeFloor:true};u.gs.setRenderData(i)}u.uq();u.gs.uD()});L.push(N);a.push(N)}}if(n["showId"]){this.gs.setRenderData({centerId:n["showId"]})}this.gs.uD();this.gs.$F.add(a);if(!n["indoor"][r]){n["indoor"][r]={}}n["indoor"][r]["curFloor"]=i;n["indoor"][r]["polygons"]=a;n["indoor"][r]["outline"]=L;if(t&&t["properties"]&&t["properties"]["centerPoint"]){n["indoor"][r]["buildingCenter"]=t["properties"]["centerPoint"]}if(n&&n["showId"]===r&&C){if(n["animateState"]!=="undefined"){this._map.setStatus({animateEnable:n["animateState"]})}}var P=v.length;for(var D=0;D<P;D++){var z=v[D];var g=z.geometry,k=z.properties;var U=k.zoom_min,W=k.zoom_max;var O={properties:k,position:[g["coordinates"][0],g["coordinates"][1]],zooms:[U,W]};var j=this.h$(O);if(j){s.push(j)}}if(!this.f$){this._map.add(this.a$);this.gs.setRenderData({labelsLayer:this.a$});this.f$=true}n["indoor"][r]["markers"]=s;if(typeof n["zIndex"]!=="undefined"){this.a$.setzIndex(n["zIndex"]+9)}this.a$.add(s);var G=this._map&&this._map["showLabel"];if(n["showLabels"]&&G){this.a$.show()}this.gs.KI(n);var H={status:0,id:r,building:{id:r}};if(t["properties"]){var q=t["properties"];H["building"]["name"]=q["name_cn"];H["building"]["lnglat"]=q["centerPoint"];H["building"]["floor"]=i||1;H["building"]["floor_details"]={floor_indexs:q["floor_indexs"],floor_nonas:q["floor_nonas"],floor_names:q["floor_names"]};this.gs.setRenderData(H)}if(!n["complete"]){n["complete"]={}}if(!n["complete"][r]){n["complete"][r]={}}if(!n["complete"][r][i]){this.gs.emit("floor_complete",H);n["complete"][r][i]=true}else if(this.pD){this.gs.emit("floor_complete",H);this.pD=false}this.gs.setRenderData(n["complete"])};return e}(_n);var vf=function(){function e(){}e.prototype.destroy=function(){if(this.wo&&this.wo.parentNode){this.wo.parentNode.removeChild(this.wo)}};return e}();var cf=M["transform"];var hf=function(i){f(e,i);function e(e,r){var t=i.call(this)||this;t.Co={};t.bo=0;t.GT(e,r);return t}e.prototype.renderFrame=function(e,r,t,i,n,f){var a=n.map;var s=t.$n;var u=f.getLayerConfig();var o=u.zooms||Li;var l=s.boundsCoord;var v=[0,0];this.wo.style.zIndex=u.zIndex+"";this.wo.style.opacity=u.opacity+"";this.wo.style.visibility=u.visible?"visible":"hidden";if(this.bo!==s.zoom){this.xo()}if(r["tiles"].length<=0){return}if(s.optimalZoom<o[0]||s.optimalZoom>o[1]){return}this.mo=[l[0],l[3]];var c=r["tiles"]||[];this.ko(c);for(var h=0,d=c.length;h<d;h+=1){var y=c[h];for(var m=0,b=y.length;m<b;m+=1){var p=y[m];if(p.status==="loaded"){var x=p.Ro;v[0]=x[0]-this.mo[0];v[1]=x[3]-this.mo[1];var w={center:s.centerCoord,rotation:s.rotation,size:t.size,$n:s};var k=cf[s.projectionId].yo(v[0],v[1],p.zo.z,w);if(p.data){var g=Math.pow(2,s.zoom-p.zo.z);var M=Math.ceil(256*g)+"px";var I=p.data;if(this.So.contains){if(this.So.contains(p.data)){var $=new Image;$.src=p.data.src;I=$}}else{if(p.data.parentNode===this.So){var $=new Image;$.src=p.data.src;I=$}}if(p.data.tagName==="CANVAS"){I=new Image;I.src=p.data.toDataURL()}this.Co[p.zo.key]=p;I.className="xyz-"+p.zo.x+"-"+p.zo.y+"-"+p.zo.z;I.style.width=I.style.height=M;I.width=I.height=Math.ceil(256*g);I.style.left=Math.ceil(k[0]*g)+"px";I.style.top=Math.ceil(k[1]*g)+"px";if(this.Co[p.zo.key]&&this.bo===s.zoom){this.Co[p.zo.key].data=p.data;var $=this.wo.querySelector(".xyz-"+p.zo.x+"-"+p.zo.y+"-"+p.zo.z);if($){this.wo.removeChild($)}}this.So.appendChild(I)}}}}this.wo.appendChild(this.So);this.bo=s.zoom;return};e.prototype["getContainer"]=function(){return this.wo};e.prototype.destroy=function(){if(this.wo&&this.wo.parentNode){this.wo.parentNode.removeChild(this.wo)}};e.prototype.GT=function(e,r){this.wo=document.createElement("div");this.wo.className="amap-layer amap-layer-tile amap-"+r.co();this.wo.style.zIndex=r.getLayerConfig().zIndex+"";this.wo.style.opacity=r.getLayerConfig().opacity+"";this.wo.style.visibility=r.getLayerConfig().visible?"visible":"hidden";this.So=document.createDocumentFragment();e.do.appendChild(this.wo)};e.prototype.xo=function(){this.wo.innerHTML="";this.Co={}};e.prototype.ko=function(e){var r=Object.keys(this.Co);for(var t=0,i=r.length;t<i;t++){var n=r[t];var f=false;for(var a=0,s=e.length;a<s;a++){var u=e[a];for(var o=0,l=u.length;o<l;o++){if(u[o].zo.key===n){f=true;break}}}if(!f){var v=this.Co[n].zo;var c=this.wo.querySelector(".xyz-"+v.x+"-"+v.y+"-"+v.z);delete this.Co[n];if(c){this.wo.removeChild(c)}}}};return e}(vf);var df=function(){function e(e){this.map=e}e.prototype.lS=function(e,r){var t=this.map.fS();var i=t.uS();var n={};for(var f in i){if(i.hasOwnProperty(f)){var a=i[f];var s=r.uo.getData(a.co(),r.$n,this.context||null);n[f]=s}}t.cS(e,r,n)};return e}();var yf=function(i){f(e,i);function e(e,r){var t=i.call(this)||this;t.GT(e,r);return t}e.prototype.renderFrame=function(e,r,t,i,n,f){var a=n.map;var s=r.Ro;var u=f.getLayerConfig();this.wo.style.zIndex=u.zIndex+"";this.wo.style.opacity=u.opacity+"";this.wo.style.visibility=u.visible?"visible":"hidden";var o=a.coordToContainer([s[0],s[3]]);var l=a.coordToContainer([s[2],s[1]]);r.image.style.top=o[1]+"px";r.image.style.left=o[0]+"px";r.image.style.width=l[0]-o[0]+"px";r.image.style.height=l[1]-o[1]+"px";this.wo.appendChild(r.image);return};e.prototype["getContainer"]=function(){return this.wo};e.prototype.GT=function(e,r){this.wo=document.createElement("div");this.wo.className="amap-layer amap-layer-image amap-"+r.co();this.wo.style.zIndex=r.getLayerConfig().zIndex+"";this.wo.style.opacity=r.getLayerConfig().opacity+"";this.wo.style.visibility=r.getLayerConfig().visible?"visible":"hidden";e.do.appendChild(this.wo)};e.prototype.xo=function(){this.wo.innerHTML=""};return e}(vf);var mf=function(){function e(){this.vI={}}e["addListener"]=function(e,r,t){e.on(r,t)};e["trigger"]=function(e,r,t){e.emit(r,t)};e["clearListeners"]=function(e,r){e.clearEvents(r)};e["addDomListener"]=function(e,r,t){e.addEventListener(r,t)};e.extend=function(e,t,i){if(typeof e==="string"){e=[e]}Oi(e,function(r){t.on(r,function(e){i.emit(r,e)})})};e.prototype["on"]=function(e,r,t,i){if(t===void 0){t=this}if(i===void 0){i=false}var n;if(!Array.isArray(e)){n=[e]}else{n=e}for(var f=0,a=n;f<a.length;f++){var s=a[f];this._on(s,r,t,i)}return this};e.prototype["off"]=function(e,r,t){if(t===void 0){t=this}var i=this.vI;if(e in i){for(var n=0;n<i[e].length;n+=1){if(i[e][n].fn===r&&i[e][n].context===t){i[e].splice(n,1);return this}}}return this};e.prototype["hasEvents"]=function(e,r,t){if(t===void 0){t=this}var i=this.vI;if(e&&r&&e in i){for(var n=0;n<i[e].length;n+=1){if(i[e][n].fn===r&&i[e][n].context===t){return true}}}return false};e.prototype["clearEvents"]=function(e){if(e){if(this.vI[e]){delete this.vI[e]}}else{this.vI={}}return this};e.prototype["emit"]=function(e,r){if(r===void 0){r={}}if(!(e in this.vI)){return this}var t=s(s({},r),{type:e});var i=this.vI[e];for(var n=0,f=i.length;n<f;n+=1){var a=i[n];if(!a.fn){continue}a.fn.call(a.context,t);if(a.once){this.vI[e].splice(n,1);n-=1;f-=1}}if(i.length===0){delete this.vI[e]}return this};e.prototype["getEvents"]=function(){return this.vI};e.prototype["_on"]=function(e,r,t,i){if(t===void 0){t=this}if(i===void 0){i=false}if(this.hasEvents(e,r,t)){return this}var n=this.vI;n[e]=n[e]||[];n[e].push({fn:r,context:t||this,once:i});return this};return e}();var bf={};var pf=function(){function e(e,r,t,i){this.project=r;this.unproject=t;this.getResolution=i;bf[e]=this}e.prototype.oq=function(e,r,t){var i=this.getResolution(t);var n=r[0]*i;var f=r[1]*i;var a=this.project(e[0],e[1]);return this.unproject(a[0]+n,a[1]+f)};e.prototype.lq=function(e,r){var t=this.project(e[0],e[1]);var i=[t[0]+r[0],t[1]+r[1]];return this.unproject(i[0],i[1])};return e}();var xf={getProjection:function(e){return bf[e]}};var wf=function(){var e=function(e,r){return[e,r]};var r=function(e,r){return[e,r]};var t=function(e){return 180/256/Math.pow(2,e)};return new pf("EPSG:4326",e,r,t)}();var kf=function(){var f=Math.PI/180;var n=180/Math.PI;var a=6378137;var s=85.0511287798;var e=function(e,r){var t=s;r=Math.max(Math.min(t,r),-t);var i=e*f;var n=r*f;n=Math.log(Math.tan(Math.PI/4+n/2));return[i*a,n*a]};var r=function(e,r){var t=e/a*n;var i=(2*Math.atan(Math.exp(r/a))-Math.PI/2)*n;return[t,i]};var t=function(e){return 20037508.342789244*2/256/Math.pow(2,e)};return new pf("EPSG:3857",e,r,t)}();var gf=function(){function e(e,r,t){if(t===void 0){t=false}this.className="AMap.Size";if(isNaN(e)||isNaN(r)){throw new Error("Invalid Object: Pixel("+e+", "+r+")")}this["width"]=t?Math.round(e):Number(e);this["height"]=t?Math.round(r):Number(r)}e.prototype["getWidth"]=function(){return this.width};e.prototype["getHeight"]=function(){return this.height};e.prototype["toString"]=function(){return this.width+","+this.height};e.prototype["toArray"]=function(){return[this.width,this.height]};return e}();var Mf=function(e){var r=[];for(var t=1;t<arguments.length;t++){r[t-1]=arguments[t]}var i=Array.prototype.slice.call(arguments,1);var n;var f;var a;for(n=0,f=i.length;n<f;n=n+1){a=i[n]||{};for(var s in a){if(a.hasOwnProperty(s)){var u=a[s];if(typeof u!=="function"||!e.prototype){e[s]=u}else{e.prototype[s]=u}}}}return e};function If(){return typeof window!=="undefined"&&typeof document!=="undefined"}function $f(){try{if(typeof WebAssembly==="object"&&typeof WebAssembly.instantiate==="function"&&TextDecoder&&TextEncoder){var e=new WebAssembly.Module(new Uint8Array([0,97,115,109,1,0,0,0]));if(e instanceof WebAssembly.Module){return new WebAssembly.Instance(e)instanceof WebAssembly.Instance}}}catch(e){}return false}var Sf=function(e){var r=new Image;r.src="data:image/webp;base64,UklGRi4AAABXRUJQVlA4TCEAAAAvAUAAEB8wAiMw"+"AgSSNtse/cXjxyCCmrYNWPwmHRH9jwMA";r.onload=r.onerror=function(){e(r.height===2)}};function Af(){try{var e=!!document;return false}catch(e){return true}}function _f(e){var r={runSupport:(new Date).getTime()};var t=false;var i=false;var n=false;var f=false;var a=false;var s=$f();var u=navigator.userAgent.toLowerCase();var o=function(e){return u.indexOf(e)!==-1};var l=true;var v=o("macintosh");var c=o("ipad;")||o("ipad "),h=o("ipod touch;"),d=o("iphone;")||o("iphone "),y=d||c||h,m=(v||y)&&o("safari")&&o("version/"),b=o("macwechat"),p=o("windowswechat");var x={vq:a,cq:v,Ue:t,g:f,$e:i,scale:1,hq:n,DW:Af(),dq:s,safari:m,AQ:b,gQ:p,amapRunTime:r};if(If()){var w=window,k=document,g=k.documentElement,M=/([a-z0-9]*\\d+[a-z0-9]*)/,I=function(e){if(!e){return null}e=e.toLowerCase();var r=null;var t=e.match(/angle \\((.*)\\)/);if(t){e=t[1];e=e.replace(/\\s*direct3d.*$/,"")}e=e.replace(/\\s*\\([^\\)]*wddm[^\\)]*\\)/,"");if(e.indexOf("intel")>=0){r=["Intel"];if(0<=e.indexOf("mobile")){r.push("Mobile")}if(0<=e.indexOf("gma")||0<=e.indexOf("graphics media accelerator")){r.push("GMA")}if(0<=e.indexOf("haswell")){r.push("Haswell")}else if(0<=e.indexOf("ivy")){r.push("HD 4000")}else if(0<=e.indexOf("sandy")){r.push("HD 3000")}else if(0<=e.indexOf("ironlake")){r.push("HD")}else{if(0<=e.indexOf("hd")){r.push("HD")}var i=e.match(M);if(i){r.push(i[1].toUpperCase())}}r=r.join(" ");return r}if(e.indexOf("nvidia")>=0||e.indexOf("quadro")>=0||e.indexOf("geforce")>=0||e.indexOf("nvs")>=0){r=["nVidia"];if(0<=e.indexOf("geforce")){r.push("geForce")}if(0<=e.indexOf("quadro")){r.push("Quadro")}if(0<=e.indexOf("nvs")){r.push("NVS")}if(e.match(/\\bion\\b/)){r.push("ION")}if(e.match(/gtx\\b/)){r.push("GTX")}else if(e.match(/gts\\b/)){r.push("GTS")}else if(e.match(/gt\\b/)){r.push("GT")}else if(e.match(/gs\\b/)){r.push("GS")}else if(e.match(/ge\\b/)){r.push("GE")}else if(e.match(/fx\\b/)){r.push("FX")}var i=e.match(M);if(i){r.push(i[1].toUpperCase().replace("GS",""))}if(0<=e.indexOf("titan")){r.push("TITAN")}else if(0<=e.indexOf("ti")){r.push("Ti")}r=r.join(" ");return r}if(e.indexOf("amd")>=0||e.indexOf("ati")>=0||e.indexOf("radeon")>=0||e.indexOf("firegl")>=0||e.indexOf("firepro")>=0){r=["AMD"];if(0<=e.indexOf("mobil")){r.push("Mobility")}var n=e.indexOf("radeon");if(0<=n){r.push("Radeon")}if(0<=e.indexOf("firepro")){r.push("FirePro")}else if(0<=e.indexOf("firegl")){r.push("FireGL")}if(0<=e.indexOf("hd")){r.push("HD")}if(n>=0){e=e.substring(n)}var i=e.match(M);if(i){r.push(i[1].toUpperCase().replace("HD",""))}r=r.join(" ");return r}return e.substring(0,100)},$="google swiftshader;microsoft basic render driver;vmware svga 3d;Intel 965GM;Intel B43;Intel G41;Intel G45;Intel G965;Intel GMA 3600;Intel Mobile 4;Intel Mobile 45;Intel Mobile 965".split(";"),S="ActiveXObject"in w,A=window["detectRetina"]==false?false:"devicePixelRatio"in w&&w["devicePixelRatio"]>1||S&&"matchMedia"in w&&w.matchMedia("(min-resolution:144dpi)")&&w.matchMedia("(min-resolution:144dpi)").matches,_=o("windows nt"),O=u.search(/windows nt [1-5]\\./)!==-1,j=u.search(/windows nt 5\\.[12]/)!==-1,F=o("windows nt 10"),C=o("windows phone"),L=o("Mb2345Browser"),T=y&&u.search(/ os [456]_/)!==-1,R=y&&u.search(/ os [4-8]_/)!==-1,B=y&&u.search(/ os [78]_/)!==-1,E=y&&o("os 8_"),N=y&&o("os 10_"),P=o("android");var D=0;if(P){D=parseInt(u.split("android")[1])||0}var z=P&&D<4,U=P&&D>=5,W=U||u.search(/android 4.4/)!==-1,G=P?"android":y?"ios":_?"windows":v?"mac":"other",H=S&&!w["XMLHttpRequest"],q=S&&!k.querySelector,V=S&&!k.addEventListener,J=S&&o("msie 9"),Z=S&&o("msie 10"),X=S&&o("rv:11"),K=V||J,Y=o("edge"),Q=o("qtweb"),ee=o("ucbrowser"),re=o("alipay")||P&&ee,te=o("miuibrowser"),ie=o("micromessenger"),ne=o("dingtalk"),fe=o("mqqbrowser"),ae=o("baidubrowser"),se=o("crios/"),ue=o("chrome/"),oe=(ue||se)&&o("chromium"),le=!oe&&(ue&&parseInt(u.split("chrome/")[1])>30||se&&parseInt(u.split("crios/")[1])>30),ve=o("firefox"),ce=ve&&parseInt(u.split("firefox/")[1])>27,he=m&&parseInt(u.split("version/")[1])>7,de=y&&o("aliapp"),ye=P||y||C||o("mobile"),me="ontouchstart"in k,be=w["navigator"]&&w["navigator"]["msPointerEnabled"]&&!!w["navigator"]["msMaxTouchPoints"],pe=w["navigator"]&&!!w["navigator"]["maxTouchPoints"],xe=!me&&(pe||be),we=me||xe,ke=function(){if(!ye){return w.devicePixelRatio||1}var e=document.getElementsByTagName("meta");if(window.parent&&window.parent!==window){try{if(window.parent.location.origin===window.location.origin){e=window.parent.document.getElementsByTagName("meta")}else{return 1}}catch(e){return 1}}for(var r=e.length-1;r>=0;r-=1){if(e[r].name==="viewport"){var t=e[r].content;var i=void 0,n=void 0,f=void 0;if(t.indexOf("initial-scale")!==-1){i=parseFloat(t.split("initial-scale=")[1])}if(t.indexOf("minimum-scale")!==-1){n=parseFloat(t.split("minimum-scale=")[1])}else{n=0}if(t.indexOf("maximum-scale")!==-1){f=parseFloat(t.split("maximum-scale=")[1])}else{f=Infinity}if(i){if(f>=n){if(i>f){return f}else if(i<n){return n}else{return i}}else{console&&console.log&&console.log("viewport参数不合法");return null}}else{if(f>=n){if(n>=1){return 1}else{return Math.min(f,1)}}else{console&&console.log&&console.log("viewport参数不合法");return null}}}}return undefined},ge=ke(),Me=A&&(!ye||!!ge&&ge>=1),Ie=S&&"transition"in g.style,$e=!!k.createElementNS&&!!k.createElementNS("http://www.w3.org/2000/svg","svg")["createSVGRect"],Se=k.createElement("canvas"),Ae=!!(Se&&Se.getContext),_e=window["URL"]||window["webkitURL"],Oe=false;var je=window["disableWorker"]!==true&&!S&&!(ee&&P&&!le)&&window["Worker"]&&_e&&_e["createObjectURL"]&&window["Blob"],Fe="",Ce="",Le=0,Te=window["higtQualityRender"]==false?A?false:true:true,Re=window["movingDraw"],Be=window["forceWebGL"]?{alpha:true,antialias:Te,depth:true,stencil:true}:{alpha:true,antialias:Te,depth:true,stencil:true},Ee=function(){if(!Ae||!je){return false}var e=["webgl","experimental-webgl","moz-webgl"];var r=null;for(var t=0;t<e.length;t+=1){try{var i=Be;r=Se.getContext(e[t],i)}catch(e){}if(!r){continue}else{if(r.drawingBufferWidth!==Se.width||r.drawingBufferHeight!==Se.height){return false}if(!r.getShaderPrecisionFormat||!r.getParameter||!r.getExtension){return false}Le=r.getParameter(r.MAX_RENDERBUFFER_SIZE);var n=r.getParameter(r.MAX_VIEWPORT_DIMS);if(!n){return false}Le=Math.min(Le,n[0],n[1]);if(m&&G==="mac"){Le=Math.min(Le,4096)}var f=Math.max(screen.width,screen.height);if(Me){f*=Math.min(2,window.devicePixelRatio||1)}if(f>Le){return false}if(23>r.getShaderPrecisionFormat(35632,36338).precision||23>r.getShaderPrecisionFormat(35633,36338).precision){return false}Ce=r.getExtension("WEBGL_debug_renderer_info")?r.getParameter(37446):null;var a=I(Ce);if(a){if(a.indexOf("google swiftshader")>-1){l=false;return false}if(-1!==$.indexOf(a)){return false}}Fe=e[t];return true}}return false},Ne=Ee(),Pe=e[8]!==undefined?e[8]:true,De=window["Uint8Array"]&&Pe&&!window["forbidenWebGL"]&&Ne&&(window["forceWebGL"]||(le||ce||he||Y||ie||ne)&&G!=="other"),ze=window["forceWebGLBaseRender"]?"w":De?"w":"d",Ue=o("webkit"),We="WebKitCSSMatrix"in w&&"m11"in new window["WebKitCSSMatrix"],Ge="MozPerspective"in g.style,He="vV"in g.style,qe=Ie||We||Ge||He,Ve=false,Je=e[12]!==undefined?e[12]:null;var Ze=true;try{if(typeof w.localStorage==="undefined"){Ze=false}else{var Xe=(new Date).getTime()+"";w.localStorage.setItem("_test",Xe);if(w.localStorage.getItem("_test")!==Xe){Ze=false}w.localStorage.removeItem("_test")}}catch(e){Ze=false}var Ke=function(e,r){var t={};Mf(t,Be);Mf(t,r);return e.getContext(Fe,t)};var Ye=parseInt(u.split("chrome/")[1]);x={yq:c,mq:d,size:d?100:P?200:500,cq:v,bq:_,pq:y,uT:N,hq:P,xq:z,cT:re,wq:G,kq:ae,gq:fe,safari:m,Mq:ie,ie:S,Iq:H,$q:q,Sq:J,Aq:Z,xv:V,fT:K,_q:X,Oq:Y,hT:S&&!X,lT:L,RL:Ze,vT:Je,geolocation:ye||S&&!V||Y,SL:ee,uc:ee&&!ue,chrome:ue,gT:true,jq:ve,Fq:l,$e:ye,Cq:ye&&Ue,Lq:ye&&We,Tq:ye&&w.opera,Ue:A,bT:ge,Mr:Me,vq:we,Rq:be,Bq:pe,yT:xe,pT:ue&&Ye>=57,mT:!ye&&ue&&Ye>=64,g:Ue,Eq:Ie,Nq:We,Pq:Ge,Dq:He,zq:qe,Uq:$e,Wq:Ae,Eb:je,TT:Ve,Tm:De,AT:Fe,xT:Be,ST:Ce,wT:Le,MT:Oe,movingDraw:Re,baseRender:Pe?ze:"d",scale:A?2:1,getContext:Ke,mH:false,dq:s,amapRunTime:r,xZ:Ee};Sf(function(e){x.mH=e})}return x}var Of=_f(typeof config==="undefined"?[]:config);if(typeof createImageBitmap!=="undefined"&&typeof ImageBitmap!=="undefined"){Of.imageBitmap=true}var jf=Boolean(Of.DW?!Of.safari&&!Of.AQ&&!Of.gQ&&self.fetch&&self.Request&&self.AbortController&&self.Request.prototype.hasOwnProperty("signal"):!Of.safari&&!Of.AQ&&!Of.gQ&&window.fetch&&window.Request&&window.AbortController&&window.Request.prototype.hasOwnProperty("signal"));Of.AY=jf;Of["amapRunTime"]={workerTime:{}};var Ff=function(){function t(e,r,t){if(t===void 0){t=false}this.className="AMap.Pixel";if(isNaN(e)||isNaN(r)){throw new Error("Invalid Object: Pixel("+e+", "+r+")")}this["x"]=t?Math.round(e):Number(e);this["y"]=t?Math.round(r):Number(r)}t.prototype["getX"]=function(){return this.x};t.prototype["round"]=function(){return new t(Math.round(this.x),Math.round(this.y))};t.prototype["getY"]=function(){return this.y};t.prototype["toString"]=function(){return this.x+","+this.y};t.prototype["equals"]=function(e){if(!(e instanceof t)){return false}var r=Math.max(Math.abs(this.x-e.x),Math.abs(this.y-e.y));return r<=1e-9};t.prototype["toArray"]=function(){return[this.x,this.y]};t.prototype["subtract"]=function(e,r){return new t(this.x-e.x,this.y-e.y,r)};t.prototype["multiplyBy"]=function(e,r){return new t(this.x*e,this.y*e,r)};t.prototype["direction"]=function(){var e=this.x;var r=this.y;if(e===0&&r===0){return null}if(e===0){return r>0?90:270}var t=Math.atan(r/e)*180/Math.PI;if(e<0&&r>0){return t+180}else if(e<0&&r<0){return t+180}else if(e>0&&r<0){return t+360}else{return t}};t.prototype.toJSON=function(){return[this.x,this.y]};return t}();var Cf=function(){var a={};var s=4;var l=.001;var u=1e-7;var o=10;var v=11;var c=1/(v-1);var h=typeof Float32Array==="function";function i(e,r){return 1-3*r+3*e}function n(e,r){return 3*r-6*e}function f(e){return 3*e}function d(e,r,t){return((i(r,t)*e+n(r,t))*e+f(r))*e}function y(e,r,t){return 3*i(r,t)*e*e+2*n(r,t)*e+f(r)}function m(e,r,t,i,n){var f,a,s=0;do{a=r+(t-r)/2;f=d(a,i,n)-e;if(f>0){t=a}else{r=a}}while(Math.abs(f)>u&&++s<o);return a}function b(e,r,t,i){for(var n=0;n<s;++n){var f=y(r,t,i);if(f===0){return r}var a=d(r,t,i)-e;r-=a/f}return r}function p(e){return e}return function(s,r,u,t){if(!(0<=s&&s<=1&&0<=u&&u<=1)){throw new Error("bezier x values must be in [0, 1] range")}var e=arguments.toString();if(a[e]){return a[e]}if(s===r&&u===t){return p}var o=h?new Float32Array(v):new Array(v);for(var i=0;i<v;++i){o[i]=d(i*c,s,u)}function n(e){var r=0;var t=1;var i=v-1;for(;t!==i&&o[t]<=e;++t){r+=c}--t;var n=(e-o[t])/(o[t+1]-o[t]);var f=r+n*c;var a=y(f,s,u);if(a>=l){return b(e,f,s,u)}else if(a===0){return f}else{return m(e,r,r+c,s,u)}}var f=function(e){if(e===0){return 0}if(e===1){return 1}return d(n(e),r,t)};a[e]=f;return f}}();function Lf(e,r,t,i){if(e>=1){return i}var n=1-e;return n*n*r+2*n*e*t+e*e*i}function Tf(e,r,t,i,n){if(e>=1){return n}var f=3*(t.pos[0]-r.pos[0]),a=3*(i.pos[0]-t.pos[0])-f,s=n.pos[0]-r.pos[0]-f-a;var u=3*(t.pos[1]-r.pos[1]),o=3*(i.pos[1]-t.pos[1])-u,l=n.pos[1]-r.pos[1]-u-o;var v=s*Math.pow(e,3)+a*Math.pow(e,2)+f*e+r.pos[0];var c=l*Math.pow(e,3)+o*Math.pow(e,2)+u*e+r.pos[1];return xf.getProjection("EPSG:3857").unproject(v,c)}function Rf(e,r,t,i){return xf.getProjection("EPSG:3857").unproject(Lf(e,r.pos[0],t.pos[0],i.pos[0]),Lf(e,r.pos[1],t.pos[1],i.pos[1]))}function Bf(e,r){if(Array.isArray(r)){r=new Ff(r[0],r[1])}return e.ai(r,20)}function Ef(e,r){var t={tolerance:4,interpolateNumLimit:[3,300]};var i=t["tolerance"],n=t["interpolateNumLimit"];i=Math.max(2,i);var f=0,a=0;for(var s=0,u=e.length;s<u-1;s++){var o=e[s],l=e[s+1];f+=Math.abs(l.pos[0]-o.pos[0]);a+=Math.abs(l.pos[1]-o.pos[1])}return Math.min(n[1],Math.max(n[0],Math.round(Math.max(f,a)/r/i)))}function Nf(e,r){var t=null;switch(r.length){case 3:t=Rf;break;case 4:t=Tf;break;default:return null}var i=[];var n=[0].concat(r);for(var f=1;f<e-2;f++){n[0]=f/e;i.push(t.apply(null,n))}i.push(r[r.length-1]);return i}function Pf(e,r,t,i){var n=null;if(e&&t&&t.length){var f=[e];f.push.apply(f,t);f.push(r);var a=f.length;var s=Ef(f,i);n=Nf(s,f)}return n||[r]}var Df={ag:Rf,ug:Tf,sg:Cf,xb:function(e,r){var t,i,n=[];for(t=0,i=e.length;t<i;t+=1){n.push.apply(n,Pf(e[t-1],e[t],e[t]["controlPoints"],r))}return n},fg:function(e,r,t,i){var n=this.xb(e,r,t,i);var f=[];for(var a=0,s=n.length;a<s;a++){f.push(Bf(r,n[a]))}return f}};var zf=function(){function e(){this.hg=[-20037508.342789244,-20037508.342789244,20037508.342789244,20037508.342789244];this.cg=128;this.vg=128;this.lg=(this.hg[2]-this.hg[0])/this.cg;this.dg=(this.hg[3]-this.hg[1])/this.vg}e.prototype.setMap=function(e){this.map=e};e.prototype.getSize=function(){return[this.lg,this.dg]};e.prototype.getNum=function(){return[this.cg,this.vg]};e.prototype.getLocalByLnglat=function(e){var r;var t=(r=xf.getProjection("EPSG:3857")).project.apply(r,e);return this.getLocalByCoord(t)};e.prototype.getLocalByCoord=function(e){var r=Math.floor(e[0]/this.lg);var t=Math.floor(e[1]/this.dg);var i=this.getLocalCenterByXY(r,t);var n=[e[0]-i.center[0],e[1]-i.center[1]];return{Sa:n,x:r,y:t,center:i.center,Ro:i.Ro}};e.prototype.getLocalCenterByXY=function(e,r){var t={x:e,y:r,center:[0,0],Ro:[0,0,0,0]};t.center=[(e+.5)*this.lg,(r+.5)*this.dg];t.Ro=[e*this.lg,r*this.dg,(e+1)*this.lg,(r+1)*this.dg];return t};e.prototype.getDeltaCoord=function(e){var r=this.getLocalByCoord(e);return[e[0]-r.center[0],e[1]-r.center[1]]};return e}();var Uf=new zf;var Wf;(function(e){e["LITE"]="lite";e["LEFT"]="left";e["ALL"]="all";e["NONE"]=""})(Wf||(Wf={}));var Gf={2:"all",3:"all",4:"all",5:"all",6:"lite",7:"all",8:"lite",9:"all",10:"lite",11:"lite",12:"all",13:"all",14:"all",15:"lite",16:"lite",17:"all",18:"all",19:"all",20:"all"};var Hf={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",grey:"#808080",gray:"#808080",green:"#008000",greenyellow:"#adff2f",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgrey:"#d3d3d3",lightgreen:"#90ee90",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370d8",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#d87093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"};var qf=function(){var u={CLASS_NAME:"AMap.Util",WorldAxesCenter:{x:0,y:0},Single:{},stamp:function(){var r=Of.DW===true;var t=1e5;var i="_amap_id";return function(e){e[i]=r?++t:--t;return e[i]}}(),singlton:function(e){var r=c.Single;var t=r[e];if(!t){t=new e}return t},getOptimalZoom:function(e){return e<Math.floor(e)+.8?Math.floor(e):Math.ceil(e)},join:function(e,r){if(e.join){return e.join(r)}else{var t=[];for(var i in e){if(e.hasOwnProperty(i)){t.push(i+"="+(e[i]||""))}}return t.join(r)}},getGuid:function(e,r){if(r===void 0){r=10}return(e||"")+Math.round(Math.random()*Math.pow(10,r))+"_"+(new Date).getTime()},uuid:function(){var a="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz".split("");return function(e,r){if(e===void 0){e=0}if(r===void 0){r=62}var t=a;var i=[];var n;r=r||t.length;if(e){for(n=0;n<e;n++){i[n]=t[0|Math.random()*r]}}else{var f=void 0;i[8]=i[13]=i[18]=i[23]="-";i[14]="4";for(n=0;n<36;n++){if(!i[n]){f=0|Math.random()*16;i[n]=t[n===19?f&3|8:f]}}}return i.join("")}}(),endsWith:function(e,r){if(e["endsWith"]){return e["endsWith"](r)}if(e.length<r.length){return false}if(e.substr(e.length-r.length)===r){return true}return false},mg:[],gg:268435456,wg:[215440491,106744817],Mg:{start:function(r){r.startTime=new Date;r.jg=[];var t=(new Date).getTime();var i=function(){var e=(new Date).getTime();r.jg.push(e-t);t=e;r.id=c.requestAnimFrame(i)};r.id=c.requestAnimFrame(i)},cancel:function(e){if(e.id){c.cancelAnimFrame(e.id)}},stop:function(e){e.Ag=Date.now()-e.startTime;this.cancel(e);e.Mg=Math.round(1e3/(e.Ag/(e.jg.length+1)))}},kg:function(e,r,t,i,n){if(i===void 0){i="linear"}if(n===void 0){n=false}if(e===r){return r}else{switch(i){case"ease":t=Df.sg(.25,.1,.25,1)(t);break;case"ease-in":t=Df.sg(.42,0,1,1)(t);break;case"ease-out":t=Df.sg(0,0,.58,1)(t);break;case"ease-in-out":t=Df.sg(.42,0,.58,1)(t);break}var f=e+(r-e)*t;if(n){f=f>>0}return f}},createObjectURL:function(e,r){if(r===void 0){r="text/javascript; charset=utf-8"}var t=null;try{var i=Ei["URL"]||Ei["webkitURL"];t=i["createObjectURL"](new Blob([e],{type:r}))}catch(e){t=null}return t},revokeObjectURL:function(e){try{var r=Ei["URL"]||Ei["webkitURL"];r["revokeObjectURL"](e)}catch(e){}},Og:function(e){var r={};for(var t=0,i=e.length;t<i;t++){r[e[t]]=t}return r},xg:function(e){var r={};if(c.is(e,"object")){for(var t in e){if(e.hasOwnProperty(t)){r[e[t]]=t}}}return r},Ig:function(e,r){if(r.length<5e4){e.push.apply(e,r);return}for(var t=0,i=r.length;t<i;t+=1){e.push(r[t])}},clone:function(e){if(typeof e==="object"&&e!==null){if(e.Tg||this.is(e,"Float32Array")||this.is(e,"Uint16Array")){return e}else{var r=this.isArray(e)?[]:{};for(var t in e){if(e.hasOwnProperty(t)){r[t]=c.clone(e[t])}}return r}}else{return e}},isInteger:function(e){return(e|0)===e},vB:function(e){return!isNaN(e)},setPrototypeOf:function(){if(typeof Object["setPrototypeOf"]==="function"){return Object["setPrototypeOf"]}else{return function(e,r){for(var t in r){e[t]=r[t]}}}}(),isFunction:function(e){return typeof e==="function"},_g:function(e,r){if(r===void 0){r="webgl"}if(!e){return e}var t=[];for(var i=0,n=e.length;i<n;i+=2){var f=parseInt(e.substr(i,2),16);if(r==="webgl"||r==="rgba"&&i===0){f=this.format(f/255,3)}t.push(f)}t.push(t.shift());return t},Sg:function(){},keys:function(){if(typeof Object.keys==="function"){return Object.keys}else{return function(e){var r=[];for(var t in e){if(e.hasOwnProperty(t)){r.push(t)}}return r}}}(),map:function(i,n,f){if(f===void 0){f=null}var a=[];if(i&&i.length){c.Cg(i,function(){var e=[];for(var r=0;r<arguments.length;r++){e[r]=arguments[r]}var t=e[1];a[t]=n.apply(f||i,e)})}else{return i}return a},forEach:function(e,r){if(e&&e.length){var t=e.length;if(t>0){r(e[0],0);if(t>1){r(e[1],1);for(var i=2;i<t;i++){r(e[i],i)}}}}},Cg:function(e,r,t){if(t===void 0){t=null}if(e&&e.length){for(var i=0,n=e.length;i<n;i++){if(r.call(t,e[i],i,e)===false){break}}}},find:function(e,r,t){if(t===void 0){t=null}for(var i=0,n=e.length;i<n;i++){if(typeof r==="function"){if(r.call(t,e[i],i,e)){return e[i]}}else{if(e[i]===r){return e[i]}}}return null},isDOM:function(e){if(typeof HTMLElement==="object"){return e instanceof HTMLElement}else{return e&&typeof e==="object"&&e.nodeType===1&&typeof e.nodeName==="string"}},Eg:function(e,r){var t="ASDFGHJKLQWERTYUIO!sdfghjkleiu3~yr5-P&mq9`%zCN*b=8@^xpVM";r=r||"v5";var i,n;if(r>"v5"){i=t.length;n=512}else{i=27;t=t.substr(0,27);n=333}var f,a,s,u,o;a=[];s=NaN;for(u=0,o=e.length;u<o;u++){f=e[u];f=t.indexOf(f);if(isNaN(s)){s=f*i}else{a.push(s+f-n);s=NaN}}return a},Ng:function(e,r){var t=1;if(r.length>512){t=Math.round(Math.pow(r.length,.5))}else{t=r.length}var i=Math.ceil(r.length/t);for(var n=0;n<i;n+=1){var f=t*n;var a=f+t;if(a>r.length){a=r.length}for(var s=f;s<a;s+=1){e(r[s])}}},Lg:function(e){if(/^rgba\\(/.test(e)){return this.Dg(e)}else{var r=this.colorNameToHex(e);var t=r;if(r[0]==="#"){r=r.substring(1);if(r.length===3){r=r.replace(/./g,function(e){return e+e})}t=this.argbHex2Rgba(r.length===8?r:"ff"+r)}return this.Dg(t)}},colorNameToHex:function(e){if(e===void 0){e=""}e=e.toLowerCase();if(typeof e==="string"){if(Hf[e]){return Hf[e]}else{return e}}else{return e}},Rg:function(e,r,t){var i,n,f,a,s,u;a=Math.floor(t/2);f=t-a;i=(1<<a)-1<<f;n=(1<<f)-1;u=r&i|e&n;s=e&i|r&n;return[t,s,u]},Pg:function(e){if(e){return encodeURIComponent(e)}return""},getStyle:function(e,r,t,i){var n,f,a;a=e[r]["i"][t];if(typeof a==="undefined"){return null}f=e[r]["s"];if(typeof a==="number"){return f[a]}while(typeof a[i.toString()]==="undefined"){i-=1;if(i<3){break}}n=a[i.toString()];if(typeof n==="number"){return f[n]}else{return null}},Dg:function(e){var r=e.split(",");r[0]=parseFloat(r[0].split("rgba(")[1])/255;r[1]=parseFloat(r[1])/255;r[2]=parseFloat(r[2])/255;r[3]=parseFloat(r[3]);return r},Ug:function(e){var r=e.split(",");r[0]=parseFloat(r[0].split("rgb(")[1])/255;r[1]=parseFloat(r[1])/255;r[2]=parseFloat(r[2])/255;return r},Bg:function(e){return"rgba("+e[0]*255+","+e[1]*255+","+e[2]*255+","+e[3]+")"},color2Rgba:function(e){return this.Bg(this.color2RgbaArray(e))},color2RgbaArray:function(e){if(e instanceof Array){if(e.length==3){e.push(1)}return e}var r=this.colorNameToHex(e);if(r.indexOf("rgb(")==0){var t=this.Ug(r);t.push(1);return t}else if(r.indexOf("rgba(")==0){return this.Dg(r)}else if(r.indexOf("#")==0){if(r.length===4){var i=r.substr(1);var n=i.replace(/./g,function(e){return e+e});return this.zg(n)}else if(r.length==7){return this.zg(r.substr(1))}else if(r.length==9){var f=r.substr(1);return this.qg(f)}}else if(r.indexOf("hsla")===0){var a=e.substr(5).split(",");var s=parseInt(a[0],10)/360;var u=parseInt(a[1],10)/100;var o=parseInt(a[2],10)/100;var l=parseFloat(a[3]);return this.GQ(s,u,o,l)}else if(r.indexOf("hsl")===0){var a=e.substr(4).split(",");var s=parseInt(a[0],10)/360;var u=parseInt(a[1],10)/100;var o=parseInt(a[2],10)/100;return this.GQ(s,u,o,1)}else{if(r.length===3){var n=r.replace(/./g,function(e){return e+e});return this.zg(n)}else if(r.length==6){return this.zg(r)}else if(r.length==8){return this.qg(r)}}},GQ:function(e,r,t,i){var n;var f;var a;if(r===0){n=f=a=t}else{var s=t<.5?t*(1+r):t+r-t*r;var u=2*t-s;n=this.uQ(u,s,e+1/3);f=this.uQ(u,s,e);a=this.uQ(u,s,e-1/3)}return[n,f,a,i]},uQ:function(e,r,t){if(t<0){t+=1}if(t>1){t-=1}if(t<1/6){return e+(r-e)*6*t}if(t<1/2){return r}if(t<2/3){return e+(r-e)*(2/3-t)*6}return e},rgbHex2Rgba:function(e){if(e.startsWith("#")){e=e.slice(1)}return c.argbHex2Rgba("ff"+e)},argbHex2Rgba:function(e){if(e.startsWith("#")){e=e.slice(1)}var r=[];for(var t=0,i=e.length;t<i;t+=2){r.push(parseInt(e.substr(t,2),16))}r.push((r.shift()/255).toFixed(2));return"rgba("+r.join(",")+")"},Opacity2Rgba:function(e,r){var t=r;if(r&&r[3]&&e){r[3]=Math.floor(255*e)}return t},Hex2Rgba:function(e){if(typeof e!=="string"){return false}var r=[];for(var t=0,i=e.length;t<i;t+=2){r.push(parseInt(e.substr(t,2),16))}r.push(parseInt(r.shift()));return r},zg:function(e){return this.uE(e+"ff")},qg:function(e){var r=[];for(var t=0,i=e.length;t<i;t+=2){r.push(parseInt(e.substr(t,2),16)/255)}r.push(r.shift());return r},uE:function(e){var r=parseInt(e,16);var t=[(r>>24&255)/255,(r>>16&255)/255,(r>>8&255)/255,(r&255)/255];return t},isEmpty:function(e){for(var r in e){if(e.hasOwnProperty(r)){return false}}return true},Wg:function(e,r){if(r>=0){e.splice(r,1)}return e},startsWith:function(e,r){if(e["startsWith"]){return e["startsWith"](r)}else{return e.substr(0,r.length)===r}},deleteItemFromArray:function(e,r){var t=c.indexOf(e,r);return c.Wg(e,t)},deleteItemFromArrayByIndex:function(e,r){return c.Wg(e,r)},filter:function(e,t,i){var n=[];c.Cg(e,function(e,r){if(t.call(i,e,r)){n.push(e)}});return n},indexOf:function(e,r){if(!e||!e.length){return-1}if(e["indexOf"]){return e["indexOf"](r)}else{for(var t=0;t<e.length;t+=1){if(e[t]===r){return t}}return-1}},Gg:function(e,r){if(e["endsWith"]){return e["endsWith"](r)}if(e.length<r.length){return false}if(e.substr(e.length-r.length)==r){return true}return false},bind:function(){var i=false;if(Boolean(Function.prototype.bind)){i=true}return function(e,r){var t=arguments.length>2?Array.prototype.slice.call(arguments,2):null;if(i){if(t){t.unshift(r);return e.bind.apply(e,t)}else{return e.bind(r)}}else{return function(){return e.apply(r,t||arguments)}}}}(),setOptions:function(e,r){r=r||{};e.opts=Ar({},e.opts,r);return e.opts},yn:function(e,r,t){return typeof r=="function"?this.Hg(e,true,this.Vg(r,t,1)):this.Hg(e,true)},Hg:function(t,i,n,e,r,f,a){var s;if(n){s=r?n(t,e,r):n(t)}if(s!==undefined){return s}if(!this.$g(t)){return t}var u=this.isArray(t);if(u){s=this.Yg(t);if(!i){return this.Kg(t,s)}}else{var o=Object.prototype.toString.call(t),l=o=="[object Function]";if(o=="[object Object]"||o=="[object Arguments]"||l&&!r){s=this.Xg(l?{}:t);if(!i){return this.baseAssign(s,t)}}else{return r?t:{}}}f||(f=[]);a||(a=[]);var v=f.length;while(v--){if(f[v]==t){return a[v]}}f.push(t);a.push(s);(u?this.Zg:this.Qg)(t,function(e,r){s[r]=c.Hg(e,i,n,r,t,f,a)});return s},baseAssign:function(e,r){return r==null?e:this.tM(r,Object.keys(r),e)},$g:function(e){var r=typeof e;return!!e&&(r=="object"||r=="function")},rM:function(e){return!!e&&typeof e=="object"},nM:function(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=9007199254740991},Yg:function(e){var r=e.length,t=new Array(r);if(r&&typeof e[0]=="string"&&Object.hasOwnProperty.call(e,"index")){t.index=e.index;t.input=e.input}return t},Kg:function(e,r){var t=-1,i=e.length;r||(r=Array(i));while(++t<i){r[t]=e[t]}return r},Xg:function(e){var r=e.constructor;if(!(typeof r=="function"&&r instanceof r)){r=Object}return new r},Vg:function(f,a,e){if(typeof f!="function"){return this.identity}if(a===undefined){return f}switch(e){case 1:return function(e){return f.call(a,e)};case 3:return function(e,r,t){return f.call(a,e,r,t)};case 4:return function(e,r,t,i){return f.call(a,e,r,t,i)};case 5:return function(e,r,t,i,n){return f.call(a,e,r,t,i,n)}}return function(){return f.apply(a,arguments)}},Zg:function(e,r){var t=-1,i=e.length;while(++t<i){if(r(e[t],t,e)===false){break}}return e},identity:function(e){return e},iM:function(u){return function(e,r,t){var i=c.eM(e),n=t(e),f=n.length,a=u?f:-1;while(u?a--:++a<f){var s=n[a];if(r(i[s],s,i)===false){break}}return e}},Qg:function(e,r){var t=c.iM();return t(e,r,Object.keys)},eM:function(e){return c.$g(e)?e:Object(e)},tM:function(e,r,t){t||(t={});var i=-1,n=r.length;while(++i<n){var f=r[i];t[f]=e[f]}return t},oM:function(){return false},aM:"data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=",uM:function(){return Date.now?function(){return Date.now()}:function(){return(new Date).getTime()}}(),sM:function(e,r,t,i){var n;if(i){var f=0,a,s=this.uM;n=function(){a=s();if(a-f<r){return false}f=a;e.apply(t,arguments)}}else{var u,o,l;l=function(){u=false;if(o){n.apply(t,o);o=false}};n=function(){if(u){o=arguments}else{u=true;e.apply(t,arguments);setTimeout(l,r)}}}return n},format:function(e,r){if(e===e<<0){return e}return+parseFloat(e+"").toFixed(r||0)},isArray:function(){if(Array.isArray){return Array.isArray}else{return function(e){return this.is(e,"array")}}}(),is:function(e,r){return Object.prototype.toString.call(e).split(" ")[1].slice(0,-1).toLowerCase()===r.toLowerCase()},includes:function(){if(typeof Array.prototype.includes==="function"){return function(e,r){return e.includes(r)}}else{return function(e,r){return this.indexOf(e,r)!==-1}}}(),fM:function(e){var r=0;if(e.length===0){return r}var t;for(var i=0,n=e.length;i<n;i+=1){t=e.charCodeAt(i);r=(r<<5)-r+t;r=r&r}return r},hM:function(e,r){r=r?Math.ceil(parseInt(r.substr(6))/24):1;var t="";for(var i=0,n=e.length;i<n;i++){t+=String.fromCharCode((e.charCodeAt(i)-256-r+65535)%65535)}return t},cM:function(e,r){var t=(e+"").slice(-2);var i=(r+"").slice(-2);e=e.slice(0,-2);r=r.slice(0,-2);var n=parseInt((i+t).slice(1));var f=Math.ceil(n/250)%2?1:-1;var a=n/500>1?1:-1;var s=parseInt("1"+t)/3e3;var u=parseInt("1"+i)/3e3;e-=s*f;r-=u*a;return new ca(parseFloat(e).toFixed(5),parseFloat(r).toFixed(5))},vM:function(e){if(typeof JSON!=="undefined"&&JSON.stringify){return c.fM(JSON.stringify(e))}return null},lM:function(e,r){var t="_amap_hash";if(r||!e.hasOwnProperty(t)){var i=c.vM(e);if(i){e[t]=i}}return e[t]},parseLngLatData:function(e){if(c.isArray(e)){if(c.isArray(e[0])){for(var r=0;r<e.length;r+=1){e[r]=c.parseLngLatData(e[r])}}else{var t=typeof e[0];if(t==="string"||t==="number"){return new ca(e[0],e[1])}else{return e}}}return e},dM:function(e){var r=[];for(var t=0,i=e.length;t<i;t+=1){r[t]=[e[t].x,e[t].y]}return r},bM:function(e){if(c.isArray(e)){return new gf(e[0],e[1])}return e},hp:function(e,r){var t=[0,0];var i=c.getOptimalZoom(r.$n.zoom);if(e&&i>=Ci){var n=Uf.getSize();var f=r.$n.centerCoord;var a=Uf.getLocalByCoord([f[0],f[1]]);var s=e.x-a.x;var u=e.y-a.y;if(s!==0){s*=n[0];t[0]=s}if(u!==0){u*=n[1];t[1]=u}}else if(e){t[0]+=e.center[0];t[1]+=e.center[1]}return t},dS:function(e,r){return e>=r[0]&&e<=r[1]},kD:function(e,r,t){if(e===void 0){e=""}if(t===void 0){t=false}var i=e.split(",")[0]||"";if(t){return"all"}if(i&&r){return Gf[r]||"all"}return"all"},VF:function(e,r,t){if(t===void 0){t=false}if(t){return"all"}if(e&&r){return Gf[r]||"all"}return"all"},LD:function(e,r){var t=false;if(!e||!r){return t}var i=this.iN(e);var n=this.iN(r);return i>=n},SD:function(e){if(e===void 0){e="all"}var r;switch(e){case"lite":{r=0;break}case"left":{r=1;break}case"all":default:{r=2}}return r},pW:function(e){if(e===void 0){e=2}var r;switch(e){case 0:{r=Wf.LITE;break}case 1:{r=Wf.LEFT;break}case 2:default:{r=Wf.ALL}}return r},iN:function(e){var r=0;switch(e){case"lite":{r=0;break}case"left":{r=1;break}case"all":{r=2;break}}return r}};(function(){var i=0;function e(e){var r=+new Date,t=Math.max(0,(Of.hq?50:20)-(r-i));i=r+t;return Ei.setTimeout(e,t)}var r=function(e){Ei.clearTimeout(e)};if(Of.DW){var n=e;var t=r;u["requestAnimFrame"]=function(e,r,t,i){if(t){if(r){c.bind(e,r).call(r,i)}else{e()}}else{return n(function(){if(r){c.bind(e,r).call(r,i)}else{e()}})}};u["cancelAnimFrame"]=function(e){if(e){t.call(Ei,e)}};return}function f(e){var r,t,i=["webkit","moz","o","ms"];for(r=0;r<i.length&&!t;r+=1){t=Ei[i[r]+e]}return t}var a=Ei.requestAnimationFrame||f("RequestAnimationFrame")||e;var s=Ei.cancelAnimationFrame||f("CancelAnimationFrame")||f("CancelRequestAnimationFrame")||r;u["requestAnimFrame"]=function(e,r,t,i){if(t){if(r){c.bind(e,r).call(r,i)}else{e()}}else{return a(function(){if(r){c.bind(e,r).call(r,i)}else{e()}})}};u["cancelAnimFrame"]=function(e){if(e){s.call(Ei,e)}}})();(function(){if(Of.DW){return}u["requestIdleCallback"]=Ei["requestIdleCallback"]?function(e,r){return Ei["requestIdleCallback"](e,r)}:function(e,r){if(r===void 0){r={}}var t=c.uM();return setTimeout(function(){e({didTimeout:false,timeRemaining:function(){return Math.max(0,70-(c.uM()-t))}})},r.timeout||0)};u["cancelIdleCallback"]=Ei["cancelIdleCallback"]?function(e){return Ei["cancelIdleCallback"](e)}:function(e){clearTimeout(e)}})();var c=u;return c}();function Vf(e){return e&&e.className==="AMap.LngLat"}function Jf(e){var r=+e;return typeof+r==="number"&&!isNaN(r)}function Zf(e){return Array.isArray(e)&&Jf(e[0])}function Xf(e){if(Array.isArray(e)){if(Array.isArray(e[0])){for(var r=0;r<e.length;r+=1){e[r]=Xf(e[r])}}else{var t=typeof e[0];if(t==="string"||t==="number"){return new ca(e[0],e[1])}else{return e}}}return e}var Kf={lr:function(e,r){var t=Infinity;for(var i=0,n=1,f=r.length;n<f;i=n,n+=1){t=Math.min(t,this.ur(e,[r[i],r[n]]))}return Math.sqrt(t)},ur:function(e,r){return this.cr(e,this.closestOnSegment(e,r))},cr:function(e,r){var t=e[0]-r[0];var i=e[1]-r[1];return t*t+i*i},pr:function(e,r,t,i){i=i||1e-6;if(t[0]===r[0]){var n=Math.min(r[1],t[1]);var f=Math.max(r[1],t[1]);return Math.abs(e[0]-t[0])<i&&e[1]>=n&&e[1]<=f}var a=Math.min(r[0],t[0]);var s=Math.max(r[0],t[0]);var u=(t[1]-r[1])/(t[0]-r[0])*(e[0]-r[0])+r[1];return Math.abs(u-e[1])<i&&e[0]>=a&&e[0]<=s},closestOnSegment:function(e,r){var t=e[0];var i=e[1];var n=r[0];var f=r[1];var a=n[0];var s=n[1];var u=f[0];var o=f[1];var l=u-a;var v=o-s;var c=l===0&&v===0?0:(l*(t-a)+v*(i-s))/(l*l+v*v||0);var h;var d;if(c<=0){h=a;d=s}else if(c>=1){h=u;d=o}else{h=a+c*l;d=s+c*v}return[h,d]},isClockwise:function(e){var r=e.length;var t=0;var i=e[r-1];var n=i[0];var f=i[1];var a;var s;var u;for(var o=0;o<r;o+=1){u=e[o];a=u[0];s=u[1];t+=(a-n)*(s+f);n=a;f=s}return t>0},ss:function(e,r,t){var i=e[0];var n=e[1];var f=false;var a;var s;var u;var o;var l=r.length;for(var v=0,c=l-1;v<l;c=v,v+=1){var h=false;a=r[v][0];s=r[v][1];u=r[c][0];o=r[c][1];if(a===i&&s===n||u===i&&o===n){return t?true:false}if(s<n===o>=n){var d=(u-a)*(n-s)/(o-s)+a;if(i===d){return t?true:false}else{h=i<d}}if(h){f=!f}}return f},dr:function(e,r){var t=function(e,r,t){return(t[0]-r[0])*(e[1]-r[1])>(t[1]-r[1])*(e[0]-r[0])};var i=function(e,r,t,i){var n=[e[0]-r[0],e[1]-r[1]],f=[t[0]-i[0],t[1]-i[1]],a=e[0]*r[1]-e[1]*r[0],s=t[0]*i[1]-t[1]*i[0],u=1/(n[0]*f[1]-n[1]*f[0]);return[(a*f[0]-s*n[0])*u,(a*f[1]-s*n[1])*u]};var n,f,a,s;var u=e;n=r[r.length-2];for(var o=0,l=r.length-1;o<l;o++){f=r[o];var v=u;u=[];a=v[v.length-1];for(var c=0,h=v.length;c<h;c++){s=v[c];if(t(s,n,f)){if(!t(a,n,f)){u.push(i(n,f,a,s))}u.push(s)}else if(t(a,n,f)){u.push(i(n,f,a,s))}a=s}n=f}if(u.length<3){return[]}u.push(u[0]);return u}};var Yf=typeof globalThis!=="undefined"?globalThis:typeof window!=="undefined"?window:typeof global!=="undefined"?global:typeof self!=="undefined"?self:{};function Qf(e){return e&&e.gP&&Object.prototype.hasOwnProperty.call(e,"default")?e["default"]:e}function ea(e,r){return r={exports:{}},e(r,r.exports),r.exports}var ra=ea(function(e,t){(function(e,r){r(t)})(Yf,function(e){function i(e,r){return e>r?1:e<r?-1:0}var m=function e(r,t){if(r===void 0)r=i;if(t===void 0)t=false;this.bP=r;this.yP=null;this._size=0;this.mP=!!t};var r={size:{configurable:true}};m.prototype.TP=function e(r){var t=r.right;if(t){r.right=t.left;if(t.left){t.left.parent=r}t.parent=r.parent}if(!r.parent){this.yP=t}else if(r===r.parent.left){r.parent.left=t}else{r.parent.right=t}if(t){t.left=r}r.parent=t};m.prototype.wP=function e(r){var t=r.left;if(t){r.left=t.right;if(t.right){t.right.parent=r}t.parent=r.parent}if(!r.parent){this.yP=t}else if(r===r.parent.left){r.parent.left=t}else{r.parent.right=t}if(t){t.right=r}r.parent=t};m.prototype.AP=function e(r){while(r.parent){var t=r.parent;if(!t.parent){if(t.left===r){this.wP(t)}else{this.TP(t)}}else if(t.left===r&&t.parent.left===t){this.wP(t.parent);this.wP(t)}else if(t.right===r&&t.parent.right===t){this.TP(t.parent);this.TP(t)}else if(t.left===r&&t.parent.right===t){this.wP(t);this.TP(t)}else{this.TP(t);this.wP(t)}}};m.prototype.xP=function e(r){var t,i,n,f,a;while(r.parent){t=r.parent;i=t.parent;if(i&&i.parent){n=i.parent;if(n.left===i){n.left=r}else{n.right=r}r.parent=n}else{r.parent=null;this.yP=r}f=r.left;a=r.right;if(r===t.left){if(i){if(i.left===t){if(t.right){i.left=t.right;i.left.parent=i}else{i.left=null}t.right=i;i.parent=t}else{if(f){i.right=f;f.parent=i}else{i.right=null}r.left=i;i.parent=r}}if(a){t.left=a;a.parent=t}else{t.left=null}r.right=t;t.parent=r}else{if(i){if(i.right===t){if(t.left){i.right=t.left;i.right.parent=i}else{i.right=null}t.left=i;i.parent=t}else{if(a){i.left=a;a.parent=i}else{i.left=null}r.right=i;i.parent=r}}if(f){t.right=f;f.parent=t}else{t.right=null}r.left=t;t.parent=r}}};m.prototype.replace=function e(r,t){if(!r.parent){this.yP=t}else if(r===r.parent.left){r.parent.left=t}else{r.parent.right=t}if(t){t.parent=r.parent}};m.prototype.MP=function e(r){if(r===void 0)r=this.yP;if(r){while(r.left){r=r.left}}return r};m.prototype.SP=function e(r){if(r===void 0)r=this.yP;if(r){while(r.right){r=r.right}}return r};m.prototype.Xc=function e(r,t){var i=this.yP;var n=null;var f=this.bP;var a;if(this.mP){while(i){n=i;a=f(i.key,r);if(a===0){return}else if(f(i.key,r)<0){i=i.right}else{i=i.left}}}else{while(i){n=i;if(f(i.key,r)<0){i=i.right}else{i=i.left}}}i={key:r,data:t,left:null,right:null,parent:n};if(!n){this.yP=i}else if(f(n.key,i.key)<0){n.right=i}else{n.left=i}this.xP(i);this._size++;return i};m.prototype.find=function e(r){var t=this.yP;var i=this.bP;while(t){var n=i(t.key,r);if(n<0){t=t.right}else if(n>0){t=t.left}else{return t}}return null};m.prototype.contains=function e(r){var t=this.yP;var i=this.bP;while(t){var n=i(r,t.key);if(n===0){return true}else if(n<0){t=t.left}else{t=t.right}}return false};m.prototype.remove=function e(r){var t=this.find(r);if(!t){return false}this.xP(t);if(!t.left){this.replace(t,t.right)}else if(!t.right){this.replace(t,t.left)}else{var i=this.MP(t.right);if(i.parent!==t){this.replace(i,i.right);i.right=t.right;i.right.parent=i}this.replace(t,i);i.left=t.left;i.left.parent=i}this._size--;return true};m.prototype.removeNode=function e(r){if(!r){return false}this.xP(r);if(!r.left){this.replace(r,r.right)}else if(!r.right){this.replace(r,r.left)}else{var t=this.MP(r.right);if(t.parent!==r){this.replace(t,t.right);t.right=r.right;t.right.parent=t}this.replace(r,t);t.left=r.left;t.left.parent=t}this._size--;return true};m.prototype.$P=function e(r){var t=this.find(r);if(!t){return}this.xP(t);var i=t.left;var n=t.right;var f=null;if(i){i.parent=null;f=this.SP(i);this.xP(f);this.yP=f}if(n){if(i){f.right=n}else{this.yP=n}n.parent=f}this._size--};m.prototype.pop=function e(){var r=this.yP,t=null;if(r){while(r.left){r=r.left}t={key:r.key,data:r.data};this.remove(r.key)}return t};m.prototype.next=function e(r){var t=r;if(t){if(t.right){t=t.right;while(t&&t.left){t=t.left}}else{t=r.parent;while(t&&t.right===r){r=t;t=t.parent}}}return t};m.prototype.NM=function e(r){var t=r;if(t){if(t.left){t=t.left;while(t&&t.right){t=t.right}}else{t=r.parent;while(t&&t.left===r){r=t;t=t.parent}}}return t};m.prototype.forEach=function e(r){var t=this.yP;var i=[],n=false,f=0;while(!n){if(t){i.push(t);t=t.left}else{if(i.length>0){t=i.pop();r(t,f++);t=t.right}else{n=true}}}return this};m.prototype.range=function e(r,t,i,n){var f=[];var a=this.bP;var s=this.yP,u;while(f.length!==0||s){if(s){f.push(s);s=s.left}else{s=f.pop();u=a(s.key,t);if(u>0){break}else if(a(s.key,r)>=0){if(i.call(n,s)){return this}}s=s.right}}return this};m.prototype.keys=function e(){var r=this.yP;var t=[],i=[],n=false;while(!n){if(r){t.push(r);r=r.left}else{if(t.length>0){r=t.pop();i.push(r.key);r=r.right}else{n=true}}}return i};m.prototype.values=function e(){var r=this.yP;var t=[],i=[],n=false;while(!n){if(r){t.push(r);r=r.left}else{if(t.length>0){r=t.pop();i.push(r.data);r=r.right}else{n=true}}}return i};m.prototype.at=function e(r){var t=this.yP;var i=[],n=false,f=0;while(!n){if(t){i.push(t);t=t.left}else{if(i.length>0){t=i.pop();if(f===r){return t}f++;t=t.right}else{n=true}}}return null};m.prototype.load=function e(r,t,i){if(r===void 0)r=[];if(t===void 0)t=[];if(i===void 0)i=false;if(this._size!==0){throw new Error("bulk-load: tree is not empty")}var n=r.length;if(i){o(r,t,0,n-1,this.bP)}this.yP=l(null,r,t,0,n);this._size=n;return this};m.prototype.min=function e(){var r=this.MP(this.yP);if(r){return r.key}else{return null}};m.prototype.max=function e(){var r=this.SP(this.yP);if(r){return r.key}else{return null}};m.prototype.isEmpty=function e(){return this.yP===null};r.size.get=function(){return this._size};m.LP=function e(r,t,i,n,f){return new m(i,f).load(r,t,n)};Object.defineProperties(m.prototype,r);function l(e,r,t,i,n){var f=n-i;if(f>0){var a=i+Math.floor(f/2);var s=r[a];var u=t[a];var o={key:s,data:u,parent:e};o.left=l(o,r,t,i,a);o.right=l(o,r,t,a+1,n);return o}return null}function o(e,r,t,i,n){if(t>=i){return}var f=e[t+i>>1];var a=t-1;var s=i+1;while(true){do{a++}while(n(e[a],f)<0);do{s--}while(n(e[s],f)>0);if(a>=s){break}var u=e[a];e[a]=e[s];e[s]=u;u=r[a];r[a]=r[s];r[s]=u}o(e,r,t,s,n);o(e,r,s+1,i,n)}var a=0;var u=1;var v=2;var c=3;var b=0;var s=1;var p=2;var h=3;function x(e,r,t){if(r===null){e.PP=false;e.OP=true}else{if(e._P===r._P){e.PP=!r.PP;e.OP=r.OP}else{e.PP=!r.OP;e.OP=r.NP()?!r.PP:r.PP}if(r){e.CP=!n(r,t)||r.NP()?r.CP:r}}var i=n(e,t);if(i){e.hN=f(e,t)}else{e.hN=0}}function n(e,r){switch(e.type){case a:switch(r){case b:return!e.OP;case s:return e.OP;case p:return e._P&&e.OP||!e._P&&!e.OP;case h:return true}break;case v:return r===b||r===s;case c:return r===p;case u:return false}return false}function f(e,r){var t=!e.PP;var i=!e.OP;var n;switch(r){case b:n=t&&i;break;case s:n=t||i;break;case h:n=t^i;break;case p:if(e._P){n=t&&!i}else{n=i&&!t}break}return n?+1:-1}var d=function e(r,t,i,n,f){this.left=t;this.kP=r;this.IP=i;this._P=n;this.type=f||a;this.PP=false;this.OP=false;this.CP=null;this.hN=0;this.lN=-1;this.dN=-1;this.DP=true};var t={EP:{configurable:true}};d.prototype.FP=function e(r){var t=this.kP,i=this.IP.kP;return this.left?(t[0]-r[0])*(i[1]-r[1])-(i[0]-r[0])*(t[1]-r[1])>0:(i[0]-r[0])*(t[1]-r[1])-(t[0]-r[0])*(i[1]-r[1])>0};d.prototype.RP=function e(r){return!this.FP(r)};d.prototype.NP=function e(){return this.kP[0]===this.IP.kP[0]};t.EP.get=function(){return this.hN!==0};d.prototype.clone=function e(){var r=new d(this.kP,this.left,this.IP,this._P,this.type);r.UP=this.UP;r.hN=this.hN;r.CP=this.CP;r.DP=this.DP;r.PP=this.PP;r.OP=this.OP;return r};Object.defineProperties(d.prototype,t);function y(e,r){if(e[0]===r[0]){if(e[1]===r[1]){return true}else{return false}}return false}var w=11102230246251565e-32;var T=134217729;var R=(3+8*w)*w;function B(e,r,t,i,n){var f,a,s,u;var o=r[0];var l=i[0];var v=0;var c=0;if(l>o===l>-o){f=o;o=r[++v]}else{f=l;l=i[++c]}var h=0;if(v<e&&c<t){if(l>o===l>-o){a=o+f;s=f-(a-o);o=r[++v]}else{a=l+f;s=f-(a-l);l=i[++c]}f=a;if(s!==0){n[h++]=s}while(v<e&&c<t){if(l>o===l>-o){a=f+o;u=a-f;s=f-(a-u)+(o-u);o=r[++v]}else{a=f+l;u=a-f;s=f-(a-u)+(l-u);l=i[++c]}f=a;if(s!==0){n[h++]=s}}}while(v<e){a=f+o;u=a-f;s=f-(a-u)+(o-u);o=r[++v];f=a;if(s!==0){n[h++]=s}}while(c<t){a=f+l;u=a-f;s=f-(a-u)+(l-u);l=i[++c];f=a;if(s!==0){n[h++]=s}}if(f!==0||h===0){n[h++]=f}return h}function E(e,r){var t=r[0];for(var i=1;i<e;i++){t+=r[i]}return t}function k(e){return Yf.Float64Array?new Float64Array(e):new Array(e)}var g=(3+16*w)*w;var N=(2+12*w)*w;var P=(9+64*w)*w*w;var D=k(4);var z=k(8);var U=k(12);var W=k(16);var G=k(4);function M(e,r,t,i,n,f,a){var s,u,o,l;var v,c,h,d,y,m,b,p,x,w,k,g,M,I;var $=e-n;var S=t-n;var A=r-f;var _=i-f;w=$*_;c=T*$;h=c-(c-$);d=$-h;c=T*_;y=c-(c-_);m=_-y;k=d*m-(w-h*y-d*y-h*m);g=A*S;c=T*A;h=c-(c-A);d=A-h;c=T*S;y=c-(c-S);m=S-y;M=d*m-(g-h*y-d*y-h*m);b=k-M;v=k-b;D[0]=k-(b+v)+(v-M);p=w+b;v=p-w;x=w-(p-v)+(b-v);b=x-g;v=x-b;D[1]=x-(b+v)+(v-g);I=p+b;v=I-p;D[2]=p-(I-v)+(b-v);D[3]=I;var O=E(4,D);var j=N*a;if(O>=j||-O>=j){return O}v=e-$;s=e-($+v)+(v-n);v=t-S;o=t-(S+v)+(v-n);v=r-A;u=r-(A+v)+(v-f);v=i-_;l=i-(_+v)+(v-f);if(s===0&&u===0&&o===0&&l===0){return O}j=P*a+R*Math.abs(O);O+=$*l+_*s-(A*o+S*u);if(O>=j||-O>=j){return O}w=s*_;c=T*s;h=c-(c-s);d=s-h;c=T*_;y=c-(c-_);m=_-y;k=d*m-(w-h*y-d*y-h*m);g=u*S;c=T*u;h=c-(c-u);d=u-h;c=T*S;y=c-(c-S);m=S-y;M=d*m-(g-h*y-d*y-h*m);b=k-M;v=k-b;G[0]=k-(b+v)+(v-M);p=w+b;v=p-w;x=w-(p-v)+(b-v);b=x-g;v=x-b;G[1]=x-(b+v)+(v-g);I=p+b;v=I-p;G[2]=p-(I-v)+(b-v);G[3]=I;var F=B(4,D,4,G,z);w=$*l;c=T*$;h=c-(c-$);d=$-h;c=T*l;y=c-(c-l);m=l-y;k=d*m-(w-h*y-d*y-h*m);g=A*o;c=T*A;h=c-(c-A);d=A-h;c=T*o;y=c-(c-o);m=o-y;M=d*m-(g-h*y-d*y-h*m);b=k-M;v=k-b;G[0]=k-(b+v)+(v-M);p=w+b;v=p-w;x=w-(p-v)+(b-v);b=x-g;v=x-b;G[1]=x-(b+v)+(v-g);I=p+b;v=I-p;G[2]=p-(I-v)+(b-v);G[3]=I;var C=B(F,z,4,G,U);w=s*l;c=T*s;h=c-(c-s);d=s-h;c=T*l;y=c-(c-l);m=l-y;k=d*m-(w-h*y-d*y-h*m);g=u*o;c=T*u;h=c-(c-u);d=u-h;c=T*o;y=c-(c-o);m=o-y;M=d*m-(g-h*y-d*y-h*m);b=k-M;v=k-b;G[0]=k-(b+v)+(v-M);p=w+b;v=p-w;x=w-(p-v)+(b-v);b=x-g;v=x-b;G[1]=x-(b+v)+(v-g);I=p+b;v=I-p;G[2]=p-(I-v)+(b-v);G[3]=I;var L=B(C,U,4,G,W);return W[L-1]}function I(e,r,t,i,n,f){var a=(r-f)*(t-n);var s=(e-n)*(i-f);var u=a-s;if(a===0||s===0||a>0!==s>0){return u}var o=Math.abs(a+s);if(Math.abs(u)>=g*o){return u}return-M(e,r,t,i,n,f,o)}function $(e,r,t){var i=I(e[0],e[1],r[0],r[1],t[0],t[1]);if(i>0){return-1}if(i<0){return 1}return 0}function S(e,r){var t=e.kP;var i=r.kP;if(t[0]>i[0]){return 1}if(t[0]<i[0]){return-1}if(t[1]!==i[1]){return t[1]>i[1]?1:-1}return A(e,r,t)}function A(e,r,t,i){if(e.left!==r.left){return e.left?1:-1}if($(t,e.IP.kP,r.IP.kP)!==0){return!e.FP(r.IP.kP)?1:-1}return!e._P&&r._P?1:-1}function _(e,r,t){var i=new d(r,false,e,e._P);var n=new d(r,true,e.IP,e._P);if(y(e.kP,e.IP.kP)){console.warn("what is that, a collapsed segment?",e)}i.UP=n.UP=e.UP;if(S(n,e.IP)>0){e.IP.left=true;n.left=false}e.IP.IP=n;e.IP=i;t.push(n);t.push(i);return t}function O(e,r){return e[0]*r[1]-e[1]*r[0]}function j(e,r){return e[0]*r[0]+e[1]*r[1]}function F(e,r,t,i,n){var f=[r[0]-e[0],r[1]-e[1]];var a=[i[0]-t[0],i[1]-t[1]];function s(e,r,t){return[e[0]+r*t[0],e[1]+r*t[1]]}var u=[t[0]-e[0],t[1]-e[1]];var o=O(f,a);var l=o*o;var v=j(f,f);if(l>0){var c=O(u,a)/o;if(c<0||c>1){return null}var h=O(u,f)/o;if(h<0||h>1){return null}if(c===0||c===1){return n?null:[s(e,c,f)]}if(h===0||h===1){return n?null:[s(t,h,a)]}return[s(e,c,f)]}o=O(u,f);l=o*o;if(l>0){return null}var d=j(f,u)/v;var y=d+j(f,a)/v;var m=Math.min(d,y);var b=Math.max(d,y);if(m<=1&&b>=0){if(m===1){return n?null:[s(e,m>0?m:0,f)]}if(b===0){return n?null:[s(e,b<1?b:1,f)]}if(n&&m===0&&b===1){return null}return[s(e,m>0?m:0,f),s(e,b<1?b:1,f)]}return null}function C(e,r,t){var i=F(e.kP,e.IP.kP,r.kP,r.IP.kP);var n=i?i.length:0;if(n===0){return 0}if(n===1&&(y(e.kP,r.kP)||y(e.IP.kP,r.IP.kP))){return 0}if(n===2&&e._P===r._P){return 0}if(n===1){if(!y(e.kP,i[0])&&!y(e.IP.kP,i[0])){_(e,i[0],t)}if(!y(r.kP,i[0])&&!y(r.IP.kP,i[0])){_(r,i[0],t)}return 1}var f=[];var a=false;var s=false;if(y(e.kP,r.kP)){a=true}else if(S(e,r)===1){f.push(r,e)}else{f.push(e,r)}if(y(e.IP.kP,r.IP.kP)){s=true}else if(S(e.IP,r.IP)===1){f.push(r.IP,e.IP)}else{f.push(e.IP,r.IP)}if(a&&s||a){r.type=u;e.type=r.PP===e.PP?v:c;if(a&&!s){_(f[1].IP,f[0].kP,t)}return 2}if(s){_(f[0],f[1].kP,t);return 3}if(f[0]!==f[3].IP){_(f[0],f[1].kP,t);_(f[1],f[2].kP,t);return 3}_(f[0],f[1].kP,t);_(f[3].IP,f[2].kP,t);return 3}function L(e,r){if(e===r){return 0}if($(e.kP,e.IP.kP,r.kP)!==0||$(e.kP,e.IP.kP,r.IP.kP)!==0){if(y(e.kP,r.kP)){return e.FP(r.IP.kP)?-1:1}if(e.kP[0]===r.kP[0]){return e.kP[1]<r.kP[1]?-1:1}if(S(e,r)===1){return r.RP(e.kP)?-1:1}return e.FP(r.kP)?-1:1}if(e._P===r._P){var t=e.kP,i=r.kP;if(t[0]===i[0]&&t[1]===i[1]){t=e.IP.kP;i=r.IP.kP;if(t[0]===i[0]&&t[1]===i[1]){return 0}else{return e.UP>r.UP?1:-1}}}else{return e._P?-1:1}return S(e,r)===1?1:-1}function H(e,r,t,i,n,f){var a=new m(L);var s=[];var u=Math.min(i[2],n[2]);var o,l,v;while(e.length!==0){var c=e.pop();s.push(c);if(f===b&&c.kP[0]>u||f===p&&c.kP[0]>i[2]){break}if(c.left){l=o=a.Xc(c);v=a.MP();if(o!==v){o=a.NM(o)}else{o=null}l=a.next(l);var h=o?o.key:null;var d=void 0;x(c,h,f);if(l){if(C(c,l.key,e)===2){x(c,h,f);x(c,l.key,f)}}if(o){if(C(o.key,c,e)===2){var y=o;if(y!==v){y=a.NM(y)}else{y=null}d=y?y.key:null;x(h,d,f);x(c,h,f)}}}else{c=c.IP;l=o=a.find(c);if(o&&l){if(o!==v){o=a.NM(o)}else{o=null}l=a.next(l);a.remove(c);if(l&&o){C(o.key,l.key,e)}}}}return s}var q=function e(){this.points=[];this.vN=[];this.gN=null;this.depth=null};q.prototype.pN=function e(){return this.gN==null};function V(e){var r,t,i,n;var f=[];for(t=0,i=e.length;t<i;t++){r=e[t];if(r.left&&r.EP||!r.left&&r.IP.EP){f.push(r)}}var a=false;while(!a){a=true;for(t=0,i=f.length;t<i;t++){if(t+1<i&&S(f[t],f[t+1])===1){n=f[t];f[t]=f[t+1];f[t+1]=n;a=false}}}for(t=0,i=f.length;t<i;t++){r=f[t];r.lN=t}for(t=0,i=f.length;t<i;t++){r=f[t];if(!r.left){n=r.lN;r.lN=r.IP.lN;r.IP.lN=n}}return f}function J(e,r,t,i){var n=e+1,f=r[e].kP,a;var s=r.length;if(n<s){a=r[n].kP}while(n<s&&a[0]===f[0]&&a[1]===f[1]){if(!t[n]){return n}else{n++}a=r[n].kP}n=e-1;while(t[n]&&n>i){n--}return n}function Z(e,r,t){var i=new q;if(e.CP!=null){var n=e.CP;var f=n.dN;var a=n.hN;if(a>0){var s=r[f];if(s.gN!=null){var u=s.gN;r[u].vN.push(t);i.gN=u;i.depth=r[f].depth}else{r[f].vN.push(t);i.gN=f;i.depth=r[f].depth+1}}else{i.gN=null;i.depth=r[f].depth}}else{i.gN=null;i.depth=0}return i}function X(e){var a,r;var s=V(e);var u={};var o=[];var t=function(){if(u[a]){return}var r=o.length;var e=Z(s[a],o,r);var t=function(e){u[e]=true;s[e].dN=r};var i=a;var n=a;var f=s[a].kP;e.points.push(f);while(true){t(i);i=s[i].lN;t(i);e.points.push(s[i].kP);i=J(i,s,u,n);if(i==n){break}}o.push(e)};for(a=0,r=s.length;a<r;a++)t();return o}var K=Q;var Y=Q;function Q(e,r){if(!(this instanceof Q)){return new Q(e,r)}this.data=e||[];this.length=this.data.length;this.compare=r||ee;if(this.length>0){for(var t=(this.length>>1)-1;t>=0;t--){this.zP(t)}}}function ee(e,r){return e<r?-1:e>r?1:0}Q.prototype={push:function(e){this.data.push(e);this.length++;this.El(this.length-1)},pop:function(){if(this.length===0){return undefined}var e=this.data[0];this.length--;if(this.length>0){this.data[0]=this.data[this.length];this.zP(0)}this.data.pop();return e},GP:function(){return this.data[0]},El:function(e){var r=this.data;var t=this.compare;var i=r[e];while(e>0){var n=e-1>>1;var f=r[n];if(t(i,f)>=0){break}r[e]=f;e=n}r[e]=i},zP:function(e){var r=this.data;var t=this.compare;var i=this.length>>1;var n=r[e];while(e<i){var f=(e<<1)+1;var a=f+1;var s=r[f];if(a<this.length&&t(r[a],s)<0){f=a;s=r[a]}if(t(s,n)>=0){break}r[e]=s;e=f}r[e]=n}};K.default=Y;var re=Math.max;var te=Math.min;var ie=0;function ne(e,r,t,i,n,f){var a,s,u,o,l,v;for(a=0,s=e.length-1;a<s;a++){u=e[a];o=e[a+1];l=new d(u,false,undefined,r);v=new d(o,false,l,r);l.IP=v;if(u[0]===o[0]&&u[1]===o[1]){continue}l.UP=v.UP=t;if(!f){l.DP=false;v.DP=false}if(S(l,v)>0){v.left=true}else{l.left=true}var c=u[0],h=u[1];n[0]=te(n[0],c);n[1]=te(n[1],h);n[2]=re(n[2],c);n[3]=re(n[3],h);i.push(l);i.push(v)}}function fe(e,r,t,i,n){var f=new K(null,S);var a,s,u,o,l,v;for(u=0,o=e.length;u<o;u++){a=e[u];for(l=0,v=a.length;l<v;l++){s=l===0;if(s){ie++}ne(a[l],true,ie,f,t,s)}}for(u=0,o=r.length;u<o;u++){a=r[u];for(l=0,v=a.length;l<v;l++){s=l===0;if(n===p){s=false}if(s){ie++}ne(a[l],false,ie,f,i,s)}}return f}var ae=[];function se(e,r,t){var i=null;if(e.length*r.length===0){if(t===b){i=ae}else if(t===p){i=e}else if(t===s||t===h){i=e.length===0?r:e}}return i}function ue(e,r,t,i,n){var f=null;if(t[0]>i[2]||i[0]>t[2]||t[1]>i[3]||i[1]>t[3]){if(n===b){f=ae}else if(n===p){f=e}else if(n===s||n===h){f=e.concat(r)}}return f}function oe(e,r,t){if(typeof e[0][0][0]==="number"){e=[e]}if(typeof r[0][0][0]==="number"){r=[r]}var i=se(e,r,t);if(i){return i===ae?null:i}var n=[Infinity,Infinity,-Infinity,-Infinity];var f=[Infinity,Infinity,-Infinity,-Infinity];var a=fe(e,r,n,f,t);i=ue(e,r,n,f,t);if(i){return i===ae?null:i}var s=H(a,e,r,n,f,t);var u=X(s);var o=[];for(var l=0;l<u.length;l++){var v=u[l];if(v.pN()){var c=[v.points];for(var h=0;h<v.vN.length;h++){var d=v.vN[h];c.push(u[d].points)}o.push(c)}}return o}function le(e,r){return oe(e,r,s)}function ve(e,r){return oe(e,r,p)}function ce(e,r){return oe(e,r,h)}function he(e,r){return oe(e,r,b)}var de={VP:s,BP:p,HP:b,WP:h};e.ZP=ve;e.qP=he;e.YP=de;e.Gq=le;e.xor=ce;Object.defineProperty(e,"gP",{value:true})})});var ta=Qf(ra);var ia={vr:Math.PI/180,mr:180/Math.PI,yr:6378137};function na(e,r){function t(e){switch(e){case"EPSG3857":return xf.getProjection("EPSG:3857");case"EPSG4326":return xf.getProjection("EPSG:4326")}return xf.getProjection("EPSG3857")}var i=t(e);return{project:function(e){if(qf.isArray(e)){e=new ca(e[0],e[1])}return i.project(e.lng,e.lat)},unproject:function(e){if(qf.isArray(e)){e=new Ff(e[0],e[1])}return i.unproject(e.x,e.y)},normalizePoint:function(e){return qf.parseLngLatData(e)},distance:function(e,r){r=this["normalizePoint"](r);if(qf.isArray(r)){return this["distanceToLine"](e,r)}e=this["normalizePoint"](e);var t=ia.vr;var i=Math.cos;var n=e.lat*t,f=e.lng*t,a=r.lat*t,s=r.lng*t;var u=ia.yr*2;var o=a-n;var l=s-f;var v=(1-i(o)+(1-i(l))*i(n)*i(a))/2;return u*Math.asin(Math.sqrt(v))},ringArea:function(e){e=this["normalizeLine"](e);var r=ia.yr*ia.vr;var t=0,i=e,n=i.length;if(n<3){return 0}var f=0;for(;f<n-1;f+=1){var a=i[f];var s=i[f+1];var u=a.lng*r*Math.cos(a.lat*ia.vr);var o=a.lat*r;var l=s.lng*r*Math.cos(s.lat*ia.vr);var v=s.lat*r;t+=u*v-l*o}var c=i[f];var h=i[0];var d=c.lng*r*Math.cos(c.lat*ia.vr);var y=c.lat*r;var m=h.lng*r*Math.cos(h.lat*ia.vr);var b=h.lat*r;t+=d*b-m*y;var p=.5*Math.abs(t);return p},sphericalCalotteArea:function(e){var r=ia.yr;var t=e/r;var i=r-r*Math.cos(t);return 2*Math.PI*r*i}}}function fa(){return{normalizePoint:function(e){if(e&&e["x"]&&e["y"]){return[e["x"],e["y"]]}return e},distance:function(e,r){var t=e[0]-r[0],i=e[1]-r[1];return Math.sqrt(t*t+i*i)},project:function(e){return e},unproject:function(e){return e},ringArea:function(e){var r=[0,0];var t=[0,0];var i=0;var n=e[0];var f=e.length;for(var a=2;a<f;a++){var s=e[a-1];var u=e[a];r[0]=n[0]-u[0];r[1]=n[1]-u[1];t[0]=n[0]-s[0];t[1]=n[1]-s[1];i+=r[0]*t[1]-r[1]*t[0]}return i/2}}}function aa(e){var r=0;var t=e.length;for(var i=0;i<t-1;i++){var n=e[i],f=e[i+1];r+=(f[0]-n[0])*(f[1]+n[1])}if(e[t-1][0]!==e[0][0]||e[t-1][1]!==e[0][1]){var n=e[t-1],f=e[0];r+=(f[0]-n[0])*(f[1]+n[1])}return r>0}var sa=function(){function r(e){this.CLASS_NAME="AMap.GeometryUtil";this._opts=Ar({onSegmentTolerance:5,crs:"EPSG3857",maxZoom:Li[1]},e);this["setCrs"](this._opts["crs"])}r.prototype["clone"]=function(e){return new r(Ar({},this._opts,e))};r.prototype["isPoint"]=function(e){return e&&(e instanceof ca||qf.isArray(e)&&!isNaN(e[0]))};r.prototype["normalizePoint"]=function(e){return e};r.prototype["normalizeLine"]=function(e){var r=[];for(var t=0,i=e.length;t<i;t++){r.push(this["normalizePoint"](e[t]))}return r};r.prototype["normalizeMultiLines"]=function(e){if(qf.isArray(e)&&this["isPoint"](e[0])){e=[e]}var r=[];for(var t=0,i=e.length;t<i;t++){r.push(this["normalizeLine"](e[t]))}return r};r.prototype["setCrs"]=function(e){var r;if(e&&e["project"]&&e["unproject"]){r=e}else if(e==="plane"){r=fa()}else{r=na(e,this._opts["maxZoom"])}Ar(this,r);return};r.prototype["distance"]=function(e,r){throw new Error("distance Not implemented!")};r.prototype.xr=function(e,r){e=this["normalizeLine"](e);if(!this["isPoint"](e[0])){e=e[0]}var t=[];for(var i=0,n=e.length;i<n;i++){t.push(this["project"](e[i]))}if(r===true){t=this["makesureClockwise"](t)}else if(r===false){t=this["makesureClockwise"](t);t.reverse()}return t};r.prototype.br=function(e){var r=[];for(var t=0,i=e.length;t<i;t++){r.push(this["unproject"](e[t]))}return r};r.prototype["closestOnSegment"]=function(e,r,t){var i=Kf.closestOnSegment(this["project"](e),this.xr([r,t]));return this["unproject"](i)};r.prototype["closestOnLine"]=function(e,r){r=this["normalizeLine"](r);var t=Infinity,i;for(var n=0,f=r.length;n<f-1;n++){var a=this["closestOnSegment"](e,r[n],r[n+1]),s=this["distance"](e,a);if(s<t){t=s;i=a}}return i};r.prototype["distanceToSegment"]=function(e,r,t){return this["distanceToLine"](e,[r,t])};r.prototype["distanceToLine"]=function(e,r){r=this["normalizeLine"](r);if(!this["isPoint"](r[0])){r=r[0]}var t=Infinity;for(var i=0,n=r.length;i<n-1;i++){var f=this["closestOnSegment"](e,r[i],r[i+1]);t=Math.min(t,this["distance"](e,f))}return t};r.prototype["distanceToPolygon"]=function(e,r){if(this["isPointInRing"](e,r)){return 0}else{return this["distanceToLine"](e,r)}};r.prototype["isPointOnSegment"]=function(e,r,t,i){if(!i&&i!==0||i<0){i=this._opts["onSegmentTolerance"]}return this["distanceToSegment"](e,r,t)<=i};r.prototype["isPointOnLine"]=function(e,r,t){r=this["normalizeLine"](r);for(var i=0,n=r.length;i<n-1;i++){if(this["isPointOnSegment"](e,r[i],r[i+1],t)){return true}}return false};r.prototype["isPointOnRing"]=function(e,r,t){r=this["normalizeLine"](r);for(var i=0,n=r.length;i<n;i++){if(this["isPointOnSegment"](e,r[i],r[i===n-1?0:i+1],t)){return true}}return false};r.prototype["isPointOnPolygon"]=function(e,r,t){r=this["normalizeMultiLines"](r);for(var i=0,n=r.length;i<n;i++){if(this["isPointOnRing"](e,r[i],t)){return true}}return false};r.prototype["makesureClockwise"]=function(e){if(!aa(e)){e=[].concat(e);e.reverse()}return e};r.prototype["makesureAntiClockwise"]=function(e){if(aa(e)){e=[].concat(e);e.reverse()}return e};r.prototype["pointInRing"]=function(e,r,t){var i=false;for(var n=0;n<r.length&&!i;n++){if(s(e,r[n][0],t)){var f=false;var a=1;while(a<r[n].length&&!f){if(s(e,r[n][a],!t)){f=true}a++}if(!f){i=true}}}function s(e,r,t){var i=false;if(r[0][0]===r[r.length-1][0]&&r[0][1]===r[r.length-1][1]){r=r.slice(0,r.length-1)}for(var n=0,f=r.length-1;n<r.length;f=n++){var a=r[n][0];var s=r[n][1];var u=r[f][0];var o=r[f][1];var l=e[1]*(a-u)+s*(u-e[0])+o*(e[0]-a)===0&&(a-e[0])*(u-e[0])<=0&&(s-e[1])*(o-e[1])<=0;if(l){return!t}var v=s>e[1]!==o>e[1]&&e[0]<(u-a)*(e[1]-s)/(o-s)+a;if(v){i=!i}}return i}return i};r.prototype["isPointInBbox"]=function(e,r){var t=Infinity;var i=Infinity;var n=-Infinity;var f=-Infinity;for(var a=0;a<r.length;a++){var s=r[a];t=Math.min(t,s[0]);n=Math.max(n,s[0]);i=Math.min(i,s[1]);f=Math.max(f,s[1])}return e[0]>t&&e[0]<n&&e[1]>i&&e[1]<f};r.prototype["isPointInRing"]=function(e,r){r=this["normalizeLine"](r);var t=this.xr(r,true);var i=Kf.ss(this["project"](e),t,false);return i};r.prototype["isRingInRing"]=function(e,r){for(var t=0,i=e.length;t<i;t++){if(!this["isPointInRing"](e[t],r)){return false}}return true};r.prototype["isRingInRingByOutsea"]=function(e,r){for(var t=0,i=e.length;t<i;t++){if(this["isPointInRing"](e[t],r)){return true}}for(var t=0,i=r.length;t<i;t++){if(this["isPointInRing"](r[t],e)){return true}}return false};r.prototype["isRingInRingByMapbox"]=function(e,r){for(var t=0,i=e.length;t<i;t++){if(!this["isPointInRing"](e[t],r)){return false}}return true};r.prototype["isRingInRingByMapboxB"]=function(e,r){for(var t=0,i=e.length;t<i;t++){if(this["isPointInRing"](e[t],r)){return true}}return false};r.prototype["isPixelRingInRing"]=function(e,r){for(var t=0,i=e.length;t<i;t++){var n=Kf.ss(e[t],r,false);if(n){return true}}return false};r.prototype["isPointInPolygon"]=function(e,r){r=this["normalizeMultiLines"](r);var t;for(var i=0,n=r.length;i<n;i+=1){t=this["isPointInRing"](e,r[i]);if(i>0){t=!t}if(!t){break}}return Boolean(t)};r.prototype["doesSegmentsIntersect"]=function(e,r,t,i){var n=this.xr([e,r,t,i]);e=n[0];r=n[1];t=n[2];i=n[3];var f=false;var a=(i[0]-t[0])*(e[1]-t[1])-(i[1]-t[1])*(e[0]-t[0]);var s=(r[0]-e[0])*(e[1]-t[1])-(r[1]-e[1])*(e[0]-t[0]);var u=(i[1]-t[1])*(r[0]-e[0])-(i[0]-t[0])*(r[1]-e[1]);if(u!==0){var o=a/u;var l=s/u;if(0<=o&&o<=1&&0<=l&&l<=1){f=true}}return f};r.prototype["doesSegmentLineIntersect"]=function(e,r,t){t=this["normalizeLine"](t);for(var i=0,n=t.length;i<n-1;i++){if(this["doesSegmentsIntersect"](e,r,t[i],t[i+1])){return true}}return false};r.prototype["doesSegmentRingIntersect"]=function(e,r,t){t=this["normalizeLine"](t);for(var i=0,n=t.length;i<n;i++){if(this["doesSegmentsIntersect"](e,r,t[i],t[i===n-1?0:i+1])){return true}}return false};r.prototype["doesSegmentPolygonIntersect"]=function(e,r,t){t=this["normalizeMultiLines"](t);for(var i=0,n=t.length;i<n;i++){if(this["doesSegmentRingIntersect"](e,r,t[i])){return true}}return false};r.prototype["doesLineLineIntersect"]=function(e,r){e=this["normalizeLine"](e);for(var t=0,i=e.length;t<i-1;t++){if(this["doesSegmentLineIntersect"](e[t],e[t+1],r)){return true}}return false};r.prototype["doesLineRingIntersect"]=function(e,r){e=this["normalizeLine"](e);for(var t=0,i=e.length;t<i-1;t++){if(this["doesSegmentRingIntersect"](e[t],e[t+1],r)){return true}}return false};r.prototype["doesPolygonPolygonIntersect"]=function(e,r){if(this["doesRingRingIntersect"](r,e)||this["isRingInRing"](e,r)||this["isRingInRing"](r,e)){return true}return false};r.prototype["doesRingRingIntersect"]=function(e,r){e=this["normalizeLine"](e);for(var t=0,i=e.length;t<i;t++){if(this["doesSegmentRingIntersect"](e[t],e[t===i-1?0:t+1],r)){return true}}return false};r.prototype["along"]=function(e,r){var t=0;for(var i=0;i<e.length-1;i+=1){var n=this["distance"](e[i],e[i+1]);if(n+t<r){t+=n;continue}var f=(r-t)/n;return[e[i][0]+f*(e[i+1][0]-e[i][0]),e[i][1]+f*(e[i+1][1]-e[i][1]),i]}return null};r.prototype.gr=function(e,r){e=this["makesureAntiClockwise"](e);r=this["makesureClockwise"](r);var f,a,s,u;var t=function(e){return(a[0]-f[0])*(e[1]-f[1])>(a[1]-f[1])*(e[0]-f[0])};var i=function(){var e=[f[0]-a[0],f[1]-a[1]],r=[s[0]-u[0],s[1]-u[1]],t=f[0]*a[1]-f[1]*a[0],i=s[0]*u[1]-s[1]*u[0],n=1/(e[0]*r[1]-e[1]*r[0]);return[(t*r[0]-i*e[0])*n,(t*r[1]-i*e[1])*n]};var n=e;f=r[r.length-1];for(var o=0,l=r.length;o<l;o++){a=r[o];var v=n;n=[];s=v[v.length-1];for(var c=0,h=v.length;c<h;c++){u=v[c];if(t(u)){if(!t(s)){n.push(i())}n.push(u)}else if(t(s)){n.push(i())}s=u}f=a}return n};r.prototype["ringRingClip"]=function(e,r){e=this.xr(e);r=this.xr(r);if(!ji(e[0],e[e.length-1])){e.push(e[0].slice())}if(!ji(r[0],r[r.length-1])){r.push(r[0].slice())}var t=ta.qP([e],[r]);if(!t||!t[0]||!t[0][0]){return[]}return this.br(t[0][0])};r.prototype["ringArea"]=function(e){throw new Error("distance Not implemented!")};r.prototype["distanceOfLine"]=function(e){e=this["normalizeLine"](e);var r=0;for(var t=0,i=e.length;t<i-1;t++){r+=this["distance"](e[t],e[t+1])}return r};r.prototype["isClockwise"]=function(e){e=this.xr(e);return aa(e)};r.prototype["typePolygon"]=function(e){if(!k(e)||!k(e[0])){return"never"}if(e[0][0].length===2||e[0][0]instanceof ca){return"Polygon"}else if(e[0][0].length>2&&(e[0][0][0].length===2||e[0][0][0]instanceof ca)){return"MultiPolygon"}else{return"never"}};return r}();var ua=new sa({});var oa=new sa({});oa["setCrs"]("plane");var la={distance:ua.distance.bind(ua),ringArea:ua.ringArea.bind(ua),isClockwise:ua.isClockwise.bind(ua),typePolygon:ua.typePolygon.bind(ua),makesureClockwise:ua.makesureClockwise.bind(ua),makesureAntiClockwise:ua.makesureAntiClockwise.bind(ua),distanceOfLine:ua.distanceOfLine.bind(ua),ringRingClip:ua.ringRingClip.bind(ua),doesSegmentsIntersect:ua.doesSegmentsIntersect.bind(ua),doesSegmentLineIntersect:ua.doesSegmentLineIntersect.bind(ua),doesSegmentRingIntersect:ua.doesSegmentRingIntersect.bind(ua),doesSegmentPolygonIntersect:ua.doesSegmentPolygonIntersect.bind(ua),doesLineLineIntersect:ua.doesLineLineIntersect.bind(ua),doesLineRingIntersect:ua.doesLineRingIntersect.bind(ua),doesRingRingIntersect:ua.doesRingRingIntersect.bind(ua),pointInRing:ua.pointInRing.bind(ua),isPointInRing:ua.isPointInRing.bind(ua),isPointInBbox:ua.isPointInBbox.bind(ua),isRingInRing:ua.isRingInRing.bind(ua),isPointInPolygon:ua.isPointInPolygon.bind(ua),isPointOnSegment:ua.isPointOnSegment.bind(ua),isPointOnLine:ua.isPointOnLine.bind(ua),isPointOnRing:ua.isPointOnRing.bind(ua),isPointOnPolygon:ua.isPointOnPolygon.bind(ua),closestOnSegment:ua.closestOnSegment.bind(ua),closestOnLine:ua.closestOnLine.bind(ua),distanceToSegment:ua.distanceToSegment.bind(ua),distanceToLine:ua.distanceToLine.bind(ua)};var va={distance:oa.distance.bind(oa),ringArea:oa.ringArea.bind(oa),isClockwise:oa.isClockwise.bind(oa),typePolygon:oa.typePolygon.bind(oa),makesureClockwise:oa.makesureClockwise.bind(oa),makesureAntiClockwise:oa.makesureAntiClockwise.bind(oa),distanceOfLine:oa.distanceOfLine.bind(oa),ringRingClip:oa.ringRingClip.bind(oa),doesSegmentsIntersect:oa.doesSegmentsIntersect.bind(oa),doesSegmentLineIntersect:oa.doesSegmentLineIntersect.bind(oa),doesSegmentRingIntersect:oa.doesSegmentRingIntersect.bind(oa),doesSegmentPolygonIntersect:oa.doesSegmentPolygonIntersect.bind(oa),doesLineLineIntersect:oa.doesLineLineIntersect.bind(oa),doesLineRingIntersect:oa.doesLineRingIntersect.bind(oa),doesRingRingIntersect:oa.doesRingRingIntersect.bind(oa),pointInRing:oa.pointInRing.bind(oa),isPointInRing:oa.isPointInRing.bind(oa),isPointInBbox:oa.isPointInBbox.bind(oa),isRingInRing:oa.isRingInRing.bind(oa),isPointInPolygon:oa.isPointInPolygon.bind(oa),isPointOnSegment:oa.isPointOnSegment.bind(oa),isPointOnLine:oa.isPointOnLine.bind(oa),isPointOnRing:oa.isPointOnRing.bind(oa),isPointOnPolygon:oa.isPointOnPolygon.bind(oa),closestOnSegment:oa.closestOnSegment.bind(oa),closestOnLine:oa.closestOnLine.bind(oa),distanceToSegment:oa.distanceToSegment.bind(oa),distanceToLine:oa.distanceToLine.bind(oa)};var ca=function(){function a(e,r,t){if(t===void 0){t=false}this.className="AMap.LngLat";if(Zf(e)){e=parseFloat(e[0]);r=parseFloat(e[1])}else{r=parseFloat(r);e=parseFloat(e)}if(isNaN(e)||isNaN(r)){throw Error("Invalid Object: LngLat("+e+", "+r+")")}if(t!==true){r=Math.max(Math.min(r,90),-90);e=(e+180)%360+(e<-180||e===180?180:-180)}this.kT=r;this.KL=e;this.lng=Math.round(e*1e6)/1e6;this.lat=Math.round(r*1e6)/1e6;this.pos=xf.getProjection("EPSG:3857").project(e,r)}a.from=function(e){if(Vf(e)){return new a(e.KL,e.kT)}return new a(e[0],e[1])};a.prototype["setLng"]=function(e){this.KL=e;this.lng=Math.round(e*1e6)/1e6;return this};a.prototype["setLat"]=function(e){this.kT=e;this.lat=Math.round(e*1e6)/1e6;return this};a.prototype["getLng"]=function(){return this.lng};a.prototype["getLat"]=function(){return this.lat};a.prototype["equals"]=function(e){e=Xf(e);if(!(e instanceof a)){return false}var r=Math.max(Math.abs(this.kT-e.kT),Math.abs(this.KL-e.KL));return r<=1e-9};a.prototype["add"]=function(e,r){return new a(this.KL+e.KL,this.kT+e.kT,r)};a.prototype["subtract"]=function(e,r){return new a(this.KL-e.KL,this.kT-e.kT,r)};a.prototype["divideBy"]=function(e,r){return new a(this.KL/e,this.kT/e,r)};a.prototype["multiplyBy"]=function(e,r){return new a(this.KL*e,this.kT*e,r)};a.prototype["offset"]=function(e,r){if(isNaN(e)||isNaN(r)){throw Error("valid offset args, require number")}var t=2*Math.asin(Math.sin(Math.round(e)/(2*6378137))/Math.cos(this.kT*Math.PI/180));var i=this.KL+t*180/Math.PI;var n=2*Math.asin(Math.round(r)/(2*6378137));var f=this.kT+n*180/Math.PI;return new a(i,f)};a.prototype["toString"]=function(){return this.lng+","+this.lat};a.prototype["toArray"]=function(){return[this.lng,this.lat]};a.prototype["toJSON"]=function(){return[this.lng,this.lat]};a.prototype["distanceTo"]=function(e){return la["distance"](this,e)};a.prototype["distance"]=function(e){return la["distance"](this,e)};return a}();var ha=function(){function e(){}e["add"]=function(){var e=[];for(var r=0;r<arguments.length;r++){e[r]=arguments[r]}};return e}();var da={getViewport:function(e){if(!e){return[0,0]}return[e.clientWidth,e.clientHeight]},getStyle:function(e,r){var t=e.style[r];if((!t||t==="auto")&&document.defaultView){var i=document.defaultView.getComputedStyle(e,null);t=i?i[r]:null}if((!t||t==="auto")&&r==="height"){t=e.clientHeight+"px"}if((!t||t==="auto")&&r==="width"){t=e.clientWidth+"px"}return t==="auto"?null:t},getViewportOffset:function(e){var r=0;var t=0;var i=e;var n=document.body;var f=document.documentElement;var a;do{r+=i.offsetTop||0;t+=i.offsetLeft||0;r+=parseInt(da.getStyle(i,"borderTopWidth"),10)||0;t+=parseInt(da.getStyle(i,"borderLeftWidth"),10)||0;a=da.getStyle(i,"position");if(i.offsetParent===n&&a==="absolute"){break}if(a==="fixed"){r+=n.scrollTop||f.scrollTop||0;t+=n.scrollLeft||f.scrollLeft||0;break}i=i.offsetParent}while(i);i=e;do{if(i===n){break}r-=i.scrollTop||0;t-=i.scrollLeft||0;if(!da.m()&&Of.g){t+=i.scrollWidth-i.clientWidth}i=i.parentNode}while(i);return[t,r]},m:function(){var e=false;var r=false;return function(){if(!e){r=da.getStyle(document.body,"direction")==="ltr";e=true}return r}}(),create:function(e,r,t,i){var n=document.createElement(e);if(t){n.className=t}if(r){if(i&&i==="before"){var f=r.firstChild;r.insertBefore(n,f)}else{r.appendChild(n)}}return n},toggleClass:function(e,r,t){if(t){this.addClass(e,r)}else{this.removeClass(e,r)}},hasClass:function(e,r){if(!e||!r){return}return e.className.length>0&&new RegExp("(^|\\\\s)"+r+"(\\\\s|$)").test(e.className)},addClass:function(e,r){if(!e||!r){return}if(e.classList&&e.classList.add){e.classList.add(r)}else if(!this.hasClass(e,r)){e.className+=(e.className?" ":"")+r}},setClass:function(e,r){if(!e){return}e.className=r||""},removeClass:function(e,t){function r(e,r){if(r===t){return""}return e}if(!e||!t){return}if(e.classList&&e.classList.remove){e.classList.remove(t)}else{e.className=e.className.replace(/(\\S+)\\s*/g,r).replace(/(^\\s+|\\s+$)/,"")}},watchSize:function(t,i,n){var e=document.createElement("iframe");e.style.cssText="width: 100%;height: 100%;position: absolute;pointEvents:none; opacity:0; margin: 0;padding: 0;border: none;";e.onload=function(){if(e){e.contentWindow.onresize=r}};t.appendChild(e);e.src="about:blank";var f=0;var a=0;r();n.resize=r;function r(){n.k=t.getBoundingClientRect();n.M=[t.clientLeft,t.clientTop];var e=t.offsetWidth;var r=t.offsetHeight;if(e!==f||r!==a){i(e,r);f=e;a=r}}window.onscroll=r;return function(){e.contentWindow.onresize=null}},watchSize2:function(t,i,n){var f=document.createElement("_");f.className="expand";var a=f.appendChild(document.createElement("_"));a.className="shrink";var s=f.appendChild(document.createElement("_"));s.className="expandChild";var e=a.appendChild(document.createElement("_"));e.className="shrinkChild";var u;var o;var r="height:100%;left:0;opacity:0;overflow:hidden;pointer-events:none;position:absolute;top:0;transition:0s;width:100%;z-index:-1";a.style.cssText=f.style.cssText=r;e.style.cssText=s.style.cssText="display:block;height:100%;transition:0s;width:100%";e.style.width=e.style.height="200%";t.appendChild(f);l();return c;function l(){v();n.k=t.getBoundingClientRect();n.M=[t.clientLeft,t.clientTop];var e=t.offsetWidth;var r=t.offsetHeight;if(e!==u||r!==o){u=e;o=r;s.style.width=e*2+"px";s.style.height=r*2+"px";f.scrollLeft=f.scrollWidth;f.scrollTop=f.scrollHeight;a.scrollLeft=a.scrollWidth;a.scrollTop=a.scrollHeight;i(e,r)}a.addEventListener("scroll",l);f.addEventListener("scroll",l)}function v(){a.removeEventListener("scroll",l);f.removeEventListener("scroll",l)}function c(){v();t.removeChild(f)}},mousePos:function(e,r,t){if(e){t.k=e.getBoundingClientRect();t.M=[e.clientLeft,e.clientTop]}var i=t.k;var n=r;if(n.touches&&n.changedTouches){if(n.touches.length>0){n=n.touches[0]}else{n=n.changedTouches[n.changedTouches.length-1]}}return[n.clientX-i.left-t.M[0],n.clientY-i.top-t.M[1]]},remove:function(e){if(e&&e.parentNode){e.parentNode.removeChild(e)}},empty:function(e){while(e.firstChild){e.removeChild(e.firstChild)}},closest:function(e,r){if(e){if(this.hasClass(e,r)){return e}else{var t=e.parentElement;if(t){return da.closest(t,r)}return null}}return null},fillText:function(e,r){if(!e){return}if(e.textContent!==void 0){e.textContent=r}else if(e.innerText!==void 0){e.innerText=r}else{e.innerHTML=r}return e},_L:function(e){var r=document.documentElement.style;for(var t=0;t<e.length;t+=1){if(e[t]in r){return e[t]}}return false},rotate:function(e,r,t){var i=da.kL;t=t||{x:e.clientWidth/2,y:e.clientHeight/2};if(i){var n="";n+=" rotate("+r+"deg)";e.style[i]=n;e.style[da.ML[i]+"-origin"]=t.x+"px "+t.y+"px"}else{var f=Math.cos(r*Math.PI/180);var a=Math.sin(r*Math.PI/180);e.style.filter="progid:DXImageTransform.Microsoft.Matrix()";if(e["filters"].length>0){var s=e["filters"].item(0);s["Dx"]=-t.x*f+t.y*a+t.x;s["Dy"]=-t.x*a-t.y*f+t.y;s["M11"]=s["M22"]=f;s["M12"]=-(s["M21"]=a)}}},setCss:function(e,r){e=e instanceof Array?e:[e];for(var t=0;t<e.length;t+=1){for(var i in r){if(r.hasOwnProperty(i)){e[t].style[i]=r[i]}}}return this},setOpacity:function(e,r){if(!e.style){return}if("opacity"in e.style){e.style.opacity=""+r}else if("filter"in e.style){var t="DXImageTransform.Microsoft.Alpha";var i=Math.round(r*100);e.style.filter="";if(i!==100){e.style.filter=" progid:"+t+"(opacity="+i+")"}}},ML:{},kL:false};da.kL=da._L(["WebkitTransform","OTransform","MozTransform","msTransform","transform"]);da.ML={transform:"transform",WebkitTransform:"-webkit-transform",OTransform:"-o-transform",MozTransform:"-moz-transform",msTransform:"-ms-transform"};var ya=function(){function e(){this.Hy=false;this.ex=null;this.Ky=this.nx()}e.prototype.open=function(e,r,t){var i=this;if(this.Hy){return}var n=this.Jy;var f=AMap.getConfig()["server"]+"/verify/";if(Of.$e){this.Ky.style.marginLeft=-Math.min(330,screen.width)/2+"px";document.body.appendChild(this.Ky)}else{var a=this.Qy("amap-container",document.body)[0];if(a&&a.clientWidth>322&&a.clientHeight>346){this.Ky.style.position="absolute";a.appendChild(this.Ky)}else{var s=.5;var u=.5;var o=0;var l=0;if(a){var v=da.getViewportOffset(a);o=v[0];l=v[1]}this.Ky.style.top="0%";this.Ky.style.left="0%";var c=s-o;var h=u-l;var d=c/5;var y=h/5;var m=setInterval(function(){o+=d;l+=y;if(s-o<.05&&u-l<.05){i.Ky.style.top="50%";i.Ky.style.left="50%";clearInterval(m)}else{i.Ky.style.top=l*100+"%";i.Ky.style.left=o*100+"%"}},25);document.body.appendChild(this.Ky)}}var b=true;var p=function(){if(b){b=false;return}else if(i.Hy){if(i.Ky.parentNode){i.Ky.parentNode.removeChild(i.Ky)}i.Hy=false;i.tx()}};n.onload=p;n.src=f+"jsapi.html?channel=JSAPI-"+e+"&from="+encodeURIComponent(f+"success.html")+"&th="+r+"&restUrl="+encodeURIComponent(t);this.Hy=true};e.prototype.ix=function(e){this.ex=e};e.prototype.tx=function(){if(this.ex){this.ex()}};e.prototype.Qy=function(e,r){if(window.getElementsByClassName){return window.getElementsByClassName(e,r)}var t=(r||document).getElementsByTagName("*");var i=[];for(var n=0;n<t.length;n+=1){var f=t[n];var a=f.className.split(" ");for(var s=0;s<a.length;s+=1){if(a[s]===e){i.push(f);break}}}return i};e.prototype.nx=function(){var e=document.createElement("div");e.className="amap-popup";e.style.zIndex="2147483647";var r=document.createElement("iframe");r.className="amap-popup-content";e.appendChild(r);r.style.width=Math.min(330,screen.width)+"px";this.Jy=r;return e};return e}();var ma={xv:"ActiveXObject"in window&&!document.addEventListener,opts:{callback:"callback",type:"json",charset:"utf-8"},setOptions:function(e){this.opts=Ar(this.opts,e)},bv:function(){},gv:function(){this.emit("error",{info:"TIME_OUT_A"})},JSONP:function(r,t,e){if(e===void 0){e={}}r=encodeURI(r);var i=qf.getGuid("jsonp_",6)+"_";var n=document.createElement("script");n.type="text/javascript";n.charset="utf-8";n.async=true;e=Ar({},this.opts,e);var f=function(){window[i]=null;n.onerror=null;if(n.parentNode){n.parentNode.removeChild(n)}};n.onerror=function(e){f();if(t){t("error",{url:r,info:"Request Error"})}};window[i]=function(e){f();if(t){t("complete",{info:"ok",url:r,data:e})}};var a="?";if(r.indexOf("?")!==-1){a="&"}var s=r+a+e["callback"]+"="+i;n.src=s;var u=document.getElementsByTagName("body")[0]||document.getElementsByTagName("head")[0];u.appendChild(n)},Ajax:function(r,e,t){if(window.XMLHttpRequest===undefined&&window.wv){var i=this._v=new window.wv;i.onerror=function(e){t("error",{info:"Request Error",url:r,data:""})};i.onload=function(){t("complete",{url:r,data:i.responseText})};i.open(e["type"]||"GET",r);setTimeout(function(){i.send(e["content"]||null)},0);return i}else if(window.XMLHttpRequest){var n=new XMLHttpRequest;n.onreadystatechange=function(){if(n.readyState===4){if(n.status===200){var e=void 0;if(n.responseType==="arraybuffer"){e=n.response}else{e=n.responseText}t("complete",{info:"ok",url:r,data:e})}else{n.abort();t("error",{info:n.status,url:r,data:""})}}};n.onerror=function(e){n.abort();t("error",{info:"Request Error",url:r,data:""})};n.open(e["type"]||"GET",r,true);n.responseType=e["responseType"]||"text";if(e["type"]==="POST"){n.setRequestHeader("Content-Type",e["requestContentType"]||"application/x-www-form-urlencoded")}n.send(e["content"]||null);return n}else{t("error",{info:"Not Support Ajax",url:r,data:""})}}};var ba={"restapi.amap.com/v3/place/text":"KEYWORD","restapi.amap.com/v3/place/polygon":"POLYGON","restapi.amap.com/v3/place/around":"NEARBY","restapi.amap.com/v3/place/detail":"ID","restapi.amap.com/v3/geocode/regeo":"REGEO"};var pa=new ya;pa.ix(function(){xa.ox=false;var e=xa.ax;for(var r=0,t=e.length;r<t;r+=1){var i=e[r];if(t-r>10){e[2]({status:"error",info:"TIME_OUT_A"});continue}xa.get(i[0],i[1],i[2])}xa.ax=[]});var xa=function(){function h(){}h.get=function(t,i,n,e){if(e===void 0){e={}}if(h.ox){h.ax.push([t,i,n]);return}var r=t.split("://")[1];var f=ba[r];var a=f!==undefined;var s=AMap.getConfig(),u=s["key"],o=s["version"],l=s["appname"];var v=t+"?platform=JS&s=rsv3&logversion=2.0&key="+u+"&sdkversion="+o+"&appname="+l+"&csid="+qf.uuid();for(var c in i){if(i.hasOwnProperty(c)){v+="&"+c+"="+i[c]}}ma["JSONP"](v,function(e,r){if(e==="complete"){r=r["data"];if(a&&r["errcode"]===3e4&&r["data"]){h.ox=true;h.ax.push([t,i,n]);pa.open(f,r["data"]["host"],v)}else{n(e,r)}}else{n(e,r)}},e)};h.post=function(e,r,t){var i=AMap.getConfig(),n=i["key"],f=i["version"],a=i["appname"];var s=e+"?platform=JS&s=rsv3&logversion=2.0&key="+n+"&sdkversion="+f+"&appname="+a+"&csid="+qf.uuid();ma["Ajax"](s,{type:"POST",content:JSON.stringify(r),requestContentType:"text/plain"},function(e,r){if(e==="complete"){r=r["data"];t(e,JSON.parse(r))}else{t(e,r)}})};h.ox=false;h.ax=[];return h}();var wa={pointerCursor:true};var ka=function(n){f(S,n);function S(e,r,t){var i=n.call(this)||this;i["CLASS_NAME"]="AMap.HotSpot";i.rF=S.aF["protocol"]+"://vdata.amap.com/mapclick";i.yF=20037508.342789244;i.Xa=256;i.du=20037508.342789244*2/256/Math.pow(2,20);t=Ar({},wa,t);ha.add(i,t);i.$o=r||i.rF;i.dF=t["pointerCursor"]||true;if(e){i.setMap(e)}return i}S.prototype.oF=function(e){var r=e.D$();var t;if(r==="zh_cn"){t=this.rF}else{t=S.aF.protocol+"://mapclick.amap.com/poi";if(Of.Hq){t+="_mo"}if(r!=="zh_cn"){t+="_"+r}t+="/poi"}if(this.$o!==t){this.$o=t;S.record={};S.data={};this.hF()}};S.prototype.setMap=function(e){ha.add(this,"setMap");var r=this._map;if(r){r.off("click",this.lF,this);r.off("mousemove",this.jL,this);r.off("moveend",this.hF,this);r.off("zoomend",this.hF,this);r.off("viewreset",this.hF,this)}this._map=e;if(e){var t=e["getViewMode_"]();if(t!=="3D"){this.oF(e);e.on("click",this.lF,this);e.on("mousemove",this.jL,this);e.on("moveend",this.hF,this);e.on("zoomend",this.hF,this);e.on("viewreset",this.hF,this);this.hF()}}else{S.record={}}};S.prototype.fF=function(e,r){var t=parseInt(e["ic"],10);if(r<=18&&r>=14){if(t>=335&&t<=374){return false}if(t>=436&&t<=444){return false}if(t===431||t===432||t===434||t===447||t===448){return false}}if(r===18||r===17){if(t===375||t===3751||t===445||t===376){return false}}if(r===18&&t===323){return false}if(r===13&&t===334){return false}if(r<=18&&r>=10&&t===8e3){return false}if(r<=18&&r>=13&&t===381){return false}return true};S.prototype.lF=function(e){var r=this.uF(e["lnglat"]);if(r&&this._map){this._map.emit("hotspotclick",r)}};S.prototype.jL=function(e){var r=this.uF(e["lnglat"]);if(r&&this.cF!==r){if(this.dF){this._map.setCursor("pointer")}if(this.cF){this._map.emit("hotspotout",this.cF)}this._map.emit("hotspotover",r)}if(!r&&this.cF){if(this.dF){this._map["setCursor"](this._map.getDefaultCursor())}this._map.emit("hotspotout",this.cF)}this.cF=r};S.prototype.hF=function(){var t=this;var e=this._map;if(!e){return}if(!S.data){S.data={}}if(!S.record){S.record={}}var i=this.pF();if(Math.ceil(i)!==this.pF()){return}var r=this.vF();if(r){xa["get"](this.$o,{tiles:r,level:i},function(e,r){if(t._map){t.mF(r,i)}},{callback:"cbk"})}};S.prototype.vF=function(){var e=this._map;var r=this.pF();var t=e["getBounds"]();var i=this.du;var n=t.getNorthWest().pos;var f=t.getSouthEast().pos;var a=256;var s=this.yF;var u=n[0]+s;var o=s-f[1];var l=f[0]+s;var v=s-n[1];var c=Math.pow(2,20-r);var h=u/c/i;var d=v/c/i;var y=l/c/i;var m=o/c/i;var b=Math.floor(h/a);var p=Math.floor(d/a);var x=Math.floor(y/a);var w=Math.floor(m/a);var k=Math.pow(2,r);if(b>x){x+=k}var g=[];for(var M=b;M<=x;M+=1){for(var I=p;I<=w;I+=1){var $=[r,M,I].join("_");if(!S.record[$]){g.push(M+","+I);S.record[$]=1}}}if(g.length){return g.join(";")}else{return null}};S.prototype.mF=function(e,r){if(e["list"]){var t=e["list"];for(var i in t){if(t.hasOwnProperty(i)){var n=t[i];for(var f=0;f<n.length;f+=1){var a=n[f];if(!this.fF(a,r)){continue}var s={id:a["id"],name:a["n"].replace(/\\^/g,""),lnglat:new ca(a["p"][0],a["p"][1])};var u=[];var o=["b","ib"];for(var l=0,v=o.length;l<v;l++){var c=a[o[l]];if(c){u.push.apply(u,this.xF(new ca(c[0],c[3]),new ca(c[2],c[1]),r))}}for(var h=0;h<u.length;h+=1){var d=u[h][0];var y=u[h][1];if(!S.data[d]){S.data[d]={}}S.data[d][y]=s}}}}}};S.prototype.bF=function(e){var r=this.pF();var t=Math.pow(2,20-r);var i=this.yF;var n=this.du;var f=this._map.getProjection();var a=f.project(e.lng,e.lat);var s=this.Xa;var u=Math.round(i+a[0])/n/t;var o=Math.round(i-a[1])/n/t;var l=Math.floor(u/s);var v=Math.floor(o/s);var c=u%s;var h=o%s;return{gF:l,wF:v,offsetX:c,offsetY:h}};S.prototype.xF=function(e,r,t){var i=this.bF(e);var n=this.bF(r);var f=256;var a=[];n.offsetX+=(n.gF-i.gF)*f;n.offsetY+=(n.wF-i.wF)*f;for(var s=i.gF;s<=n.gF;s+=1){for(var u=i.wF;u<=n.wF;u+=1){var o=[t,s,u].join("_");var l=[Math.max((s-i.gF)*f,i.offsetX)%f,Math.max((u-i.wF)*f,i.offsetY)%f,Math.min((s-i.gF+1)*f-1,n.offsetX)%f,Math.min((u-i.wF+1)*f-1,n.offsetY)%f].join("_");a.push([o,l])}}return a};S.prototype.uF=function(e){var r=this.bF(e);var t=this._map;if(!t){return}var i=[this.pF(),r.gF,r.wF].join("_");if(S.data[i]){var n=S.data[i];for(var f in n){if(n.hasOwnProperty(f)){var a=f.split("_");var s=parseInt(a[0],10);var u=parseInt(a[1],10);var o=parseInt(a[2],10);var l=parseInt(a[3],10);if(r.offsetX>=s&&r.offsetX<=o&&r.offsetY>=u&&r.offsetY<=l){return n[f]}}}}return null};S.prototype.pF=function(){var e=this._map;var r=18;var t=r;if(e){t=Math.floor(e["getZoom"]());t=t>r?r:t}return t};S.record={};S.data={};S.aF={protocol:"https"};return S}(mf);var ga=function(r){f(e,r);function e(){var e=r.call(this)||this;e.wo=document.createElement("div");return e}e.prototype["getContainer"]=function(){return this.wo};e.prototype.renderFrame=function(){};return e}(vf);var Ma=function(t){f(e,t);function e(e){var r=t.call(this,e)||this;r.context=void 0;r.Ao=[];r.map=e;r.GT(e["getLayers"]());r._F=new ka(e);return r}e.prototype.to=function(){if(this.map){this.map.setNeedUpdate(true)}};e.prototype.renderFrame=function(e){var r=e.layers.sort(function(e,r){return e.getLayerConfig().zIndex-r.getLayerConfig().zIndex});this.lS(null,e);var t=e.$n.zoom;var i=true;for(var n=0,f=r.length;n<f;n+=1){var a=r[n];var s=a.getState();var u=r[n].getRender();if(u){if(!a.lo()){i=false}var o=e.uo.getData(r[n].co(),e.$n,void 0);if(o){u.renderFrame(undefined,o,e,s,this,a)}}}if(!this.map.complete&&i){this.map.emit("complete");this.map.complete=true}if(!this.map.getView().h_()){this.map.getView().aD();this.map.emit("viewchange",{view:this.map["getView"](),type:this.map["getView"]().type||"3D"})}};e.prototype.getLayerRender=function(e){switch(e.CLASS_NAME){case"AMap.NebulaLayer":case"AMap.ImageLayer":return new yf(this.map,e);case"AMap.VectorLayer":case"AMap.VectorSvgLayer":return e.getRender();case"AMap.RasterLayer":return new hf(this.map,e);case"AMap.TileLayer":return new hf(this.map,e);case"AMap.TileLayer.Flexible":return new hf(this.map,e);case"AMap.TileLayer.RoadNet":return new hf(this.map,e);case"AMap.TileLayer.Satellite":return new hf(this.map,e);case"AMap.TileLayer.Traffic":return new hf(this.map,e);case"AMap.TileLayer.WMS":return new hf(this.map,e);case"AMap.TileLayer.WMTS":return new hf(this.map,e);case"AMap.SkyLayer":return new ga;case"AMap.IndoorMap":return new lf;case"AMap.LabelsLayer":return new Un;case"AMap.CustomLayer":return new tf;default:return new hf(this.map,e)}};e.prototype.destroy=function(){for(var e=0,r=this.Ao;e<r.length;e++){var t=r[e];t.layer.destroy()}this.Ao=[]};e.prototype.GT=function(e){for(var r=0;r<e.length;r++){var t=e[r];var i=this.getLayerRender(t);if(!i){continue}var n=i.type==="labelsLayer"||i.type==="customLayer";t.Do(i);this.Ao.push({layer:t,render:i,div:i&&n?null:i.getContainer()})}};return e}(df);var Ia=function(){function e(){}e.prototype.clear=function(e,r){if(!e._map){return}if(!e.F$){return}r.removeChild(e.F$)};return e}();var $a=function(e){f(r,e);function r(){return e!==null&&e.apply(this,arguments)||this}r.prototype.O$=function(e,r,t){if(!e.q$){return}if(!e.F$){e.F$=document.createElementNS("http://www.w3.org/2000/svg","g");e.F$.qq=document.createElementNS("http://www.w3.org/2000/svg","path");e.F$.inner=document.createElementNS("http://www.w3.org/2000/svg","path");e.F$.appendChild(e.F$.qq);e.F$.appendChild(e.F$.inner)}if(!e.F$){return}if(e.F$.parentNode!==t){t.appendChild(e.F$)}var i="";var n=e.q$;var f=r.Nm;var a=r.resolution;for(var s=0,u=n;s<u.length;s++){var o=u[s];var l=[];var v=[];for(var c=0,h=o.length;c<h;c+=1){var d=o[c];var y=Math.round((d[0]-f[0])/a);var m=Math.round((f[1]-d[1])/a);if(c===0){var b="M"+y+","+m+" ";v.push(b)}else{var b="L"+y+","+m+" ";v.push(b)}}l.push(v.join("")+"\\n");i+=l.join("")}var p=this.Vq(e);e.F$.qq.style.cssText=p.Jq;e.F$.inner.style.cssText=p.Zq;e.F$.qq.setAttribute("d",i);e.F$.inner.setAttribute("d",i);return i};r.prototype.Vq=function(e){var r=e._opts;var t=r["outlineColor"];var i=r["strokeColor"];var n=r["strokeWeight"];var f=r["isOutline"];var a=r["strokeOpacity"];var s=r["strokeStyle"];var u=r["strokeDasharray"];var o=[];if(typeof a==="number"){o.push("stroke-opacity:"+a)}o.push("stroke-linejoin:"+(r["lineJoin"]||"round"));o.push("fill-opacity:0");if(s){var l=s==="solid"?"none":u;o.push("stroke-dasharray:"+l.toString())}var v="";var c="";if(e.visible&&f){o.push("stroke-width:"+(n+r["borderWeight"]*2));o.push("stroke:"+t||"rgba(0,0,0,0)");v=o.join(";");o.pop();o.pop()}else{o.push("display:"+"none");v=o.join(";");o.pop()}o.push("display:"+(e.visible?"block":"none")+";");o.push("stroke-width:"+n);o.push("stroke:"+i||"rgba(0,0,0,0)");c=o.join(";");return{Jq:v,Zq:c}};return r}(Ia);var Sa=function(e){f(r,e);function r(){return e!==null&&e.apply(this,arguments)||this}r.prototype.O$=function(e,r,t){if(!e.q$){return}if(!e.F$){e.F$=document.createElementNS("http://www.w3.org/2000/svg","g");e.F$.inner=document.createElementNS("http://www.w3.org/2000/svg","path");e.F$.appendChild(e.F$.inner)}if(e.F$.parentNode!==t){t.appendChild(e.F$)}var i=e.q$;var n="";for(var f=0,a=i;f<a.length;f++){var s=a[f];var u=[];var o=r.Nm;var l=r.resolution;for(var v=0,c=s.length;v<c;v+=1){var h=s[v];var d=[];for(var y=0,m=h.length;y<m;y+=1){var b=h[y];var p=Math.ceil((b[0]-o[0])/l);var x=Math.ceil((o[1]-b[1])/l);if(y===0){var w="M"+p+","+x+" ";d.push(w)}else{var w="L"+p+","+x+" ";d.push(w)}}u.push(d.join("")+" z"+"\\n")}n+=u.join("")}var k=e.F$.inner;k.style.cssText=this.Vq(e);k.setAttribute("d",n)};r.prototype.Vq=function(e){var r=e._opts;var t=r["strokeColor"],i=r["strokeWeight"],n=r["strokeOpacity"],f=r["fillColor"],a=r["fillOpacity"],s=r["strokeStyle"],u=r["strokeDasharray"];var o=[];o.push("fill-rule:evenodd");if(t){o.push("stroke:"+t);if(typeof n==="number"){o.push("stroke-opacity:"+n)}o.push("stroke-linejoin:"+(r["lineJoin"]||"miter"))}else{o.push("stroke-opacity:"+0)}if(f){o.push("fill:"+f);if(typeof a==="number"){o.push("fill-opacity:"+a)}}else{o.push("fill-opacity:"+0)}if(i){o.push("stroke-width:"+i)}if(s){var l=s==="solid"?"none":u;o.push("stroke-dasharray:"+l.toString())}o.push("display:"+(e["visible"]?"block":"none")+";");return o.join(";")};return r}(Ia);var Aa=function(e){f(r,e);function r(){return e!==null&&e.apply(this,arguments)||this}r.prototype.O$=function(e,r,t,i){if(!e._map){return}if(!e.F$){e.F$=document.createElementNS("http://www.w3.org/2000/svg","g");e.F$.Xq=document.createElementNS("http://www.w3.org/2000/svg","circle");e.F$.appendChild(e.F$.Xq)}if(e.F$.parentNode!==t){t.appendChild(e.F$)}var n=r.Nm;var f=r.resolution;var a=AMap["Util"]["parseLngLatData"](e.getOptions().center);var s=e["getRadius"]();if(!a||!Jf(s)){return}var u=i.map["getResolution"](a);var o=e._map.getProjection();var l=o.project(a.lng,a.lat);var v=Math.round((l[0]-n[0])/f);var c=Math.round((n[1]-l[1])/f);var h=Math.ceil(s/u);e.F$.Xq.style.cssText=this.Vq(e);e.F$.Xq.setAttribute("cx",""+v);e.F$.Xq.setAttribute("cy",""+c);e.F$.Xq.setAttribute("r",""+h)};r.prototype.Vq=function(e){var r=e._opts;var t=r["strokeColor"],i=r["strokeWeight"],n=r["strokeOpacity"],f=r["fillColor"],a=r["fillOpacity"],s=r["strokeStyle"],u=r["strokeDasharray"];var o=[];if(t){o.push("stroke:"+t);if(typeof n==="number"){o.push("stroke-opacity:"+n)}}else{o.push("stroke-opacity:"+0)}if(f){o.push("fill:"+f);if(typeof a==="number"){o.push("fill-opacity:"+a)}}else{o.push("fill-opacity:"+0)}if(i){o.push("stroke-width:"+i)}if(s){var l=s==="solid"?"none":u;o.push("stroke-dasharray:"+l.toString())}o.push("display:"+(e.visible?"block":"none")+";");var v=o.join(";");return v};return r}(Ia);var _a=function(e){f(r,e);function r(){return e!==null&&e.apply(this,arguments)||this}r.prototype.O$=function(e,r,t,i){if(!e._map){return}if(!e.F$){e.F$=document.createElementNS("http://www.w3.org/2000/svg","g");e.F$.inner=document.createElementNS("http://www.w3.org/2000/svg","circle");e.F$.appendChild(e.F$.inner)}if(e.F$.parentNode!==t){t.appendChild(e.F$)}var n=r.Nm;var f=r.resolution;var a=e.getOptions();var s=AMap["Util"]["parseLngLatData"](e.getOptions().center);var u=this.Ib(e);if(!s||!u){return}var o=a.radius+a.strokeWeight;var l=(a.strokeWeight/2+a.radius)/o*u;var v=e._map["getProjection"]();var c=v.project(s.lng,s.lat);var h=Math.round((c[0]-n[0])/f);var d=Math.round((n[1]-c[1])/f);var y=e.F$.inner;y.style.cssText=this.Vq(e);y.setAttribute("cx",""+h);y.setAttribute("cy",""+d);y.setAttribute("r",""+l)};r.prototype.Vq=function(e){var r=e.getOptions();var t=r["strokeColor"],i=r["strokeWeight"],n=r["strokeOpacity"],f=r["fillColor"],a=r["fillOpacity"],s=r["strokeStyle"],u=r["strokeDasharray"];var o=[];if(t){o.push("stroke:"+t);if(typeof n==="number"){o.push("stroke-opacity:"+n)}}if(f){o.push("fill:"+f);if(typeof a==="number"){o.push("fill-opacity:"+a)}}if(i){var l=this.Ib(e);var v=e.getOptions();var c=v.radius+v.strokeWeight;var h=v.strokeWeight/c*l;o.push("stroke-width:"+h)}if(s){var d=s==="solid"?"none":u;o.push("stroke-dasharray:"+d.toString())}o.push("display:"+(e.visible?"block":"none")+";");var y=o.join(";");return y};r.prototype.Ib=function(e){var r=e.getOptions();var t=r.radius+(r.strokeWeight||0);return Math.min(t,64)};return r}(Ia);var Oa=function(e){f(r,e);function r(){return e!==null&&e.apply(this,arguments)||this}r.prototype.O$=function(e,r,t,i){if(!e._map){return}if(!e.F$){e.F$=document.createElementNS("http://www.w3.org/2000/svg","g");e.F$.ellipse=document.createElementNS("http://www.w3.org/2000/svg","ellipse");e.F$.appendChild(e.F$.ellipse)}if(e.F$.parentNode!==t){t.appendChild(e.F$)}var n=r.Nm;var f=r.resolution;var a=AMap["Util"]["parseLngLatData"](e.getOptions().center);var s=e["getRadius"]();if(!a||!s){return}var u=i.map["getResolution"](a);var o=e.F$.ellipse;var l=e._map["getProjection"]();var v=l.project(a.lng,a.lat);var c=Math.round((v[0]-n[0])/f);var h=Math.round((n[1]-v[1])/f);var d=Math.ceil(s[0]/u);var y=Math.ceil(s[1]/u);o.style.cssText=this.Vq(e);o.setAttribute("cx",""+c);o.setAttribute("cy",""+h);o.setAttribute("rx",""+d);o.setAttribute("ry",""+y)};r.prototype.Vq=function(e){var r=e.getOptions();var t=r["strokeColor"],i=r["strokeWeight"],n=r["strokeOpacity"],f=r["fillColor"],a=r["fillOpacity"],s=r["strokeStyle"],u=r["strokeDasharray"];var o=[];if(t){o.push("stroke:"+t);if(typeof n==="number"){o.push("stroke-opacity:"+n)}}if(f){o.push("fill:"+f);if(typeof a==="number"){o.push("fill-opacity:"+a)}}if(i){o.push("stroke-width:"+i)}if(s){var l=s==="solid"?"none":u;o.push("stroke-dasharray:"+l.toString())}o.push("display:"+(e.visible?"block":"none")+";");var v=o.join(";");return v};return r}(Ia);var ja=function(){function e(e,r){var i=this;this._dragObjects={sy:{x:0,y:0},Iz:-1,hy:[0,0]};this.B$=[0,0];this._dragging=false;this.Kq=new $a;this.Yq=new Sa;this.Qq=new Aa;this.eJ=new _a;this.rJ=new Oa;this.tJ=[];this.lt=false;this.ey=function(){i._map.off("dragstart",i.iJ);i._map.off("movestart",i.iJ);i._map.off("moveend",i.nJ);i._map.off("zoomstart",i.fJ);i._map.off("zoomend",i.gb)};this.iJ=function(e){if(i._dragging){return}var r=e.target;i._dragging=true;var t=r.getBounds().toJSON();i._dragObjects.hy=r["lngLatToCoords"]([t[0],t[3]])};this.nJ=function(e){i._dragging=false;i._map.setNeedUpdate(true)};this.fJ=function(e){i.lt=true;i._dragObjects.Iz=e.target.getZoom()};this.gb=function(e){i.lt=false;i._dragObjects.Iz=e.target.getZoom()};var t=e.kv;r._parent=t.querySelector(".amap-layers");var n=document.createElement("div");t.appendChild(n);r._container=n;this.GT(e,r);this._map=e;this.ny();this._dragObjects.Iz=e["getZoom"]()}e.prototype.renderFrame=function(e,r,t,i,n,f){this.aJ(t);var a=this.sJ(t);if(this._dragging&&!this.lt){this.uJ(t)}else if(r.sr){this.tJ=r.sr;var s=document.createDocumentFragment();for(var u=0,o=r.sr;u<o.length;u++){var l=o[u];switch(l.CLASS_NAME){case"Overlay.Polyline":case"Overlay.BezierCurve":this.Kq.O$(l,a,s);break;case"Overlay.Polygon":case"Overlay.Rectangle":this.Yq.O$(l,a,s);break;case"Overlay.Circle":this.Qq.O$(l,a,s,t);break;case"Overlay.CircleMarker":this.eJ.O$(l,a,s,t);break;case"Overlay.Ellipse":this.rJ.O$(l,a,s,t);break}}this.AM.innerHTML="";this.oJ();this.AM.appendChild(s)}};e.prototype["getContainer"]=function(){return this.wo};e.prototype.destroy=function(){this.ey()};e.prototype.GT=function(e,r){this.wo=document.createElement("div");this.wo.className="amap-layer amap-layer-overlay amap-"+r.co();this.wo.style.zIndex=r.getLayerConfig().zIndex+"";this.wo.style.opacity=r.getLayerConfig().opacity+"";this.wo.style.visibility=r.getLayerConfig().visible?"visible":"hidden";this.AM=document.createElementNS("http://www.w3.org/2000/svg","svg");this.AM.setAttribute("xmlns","http://www.w3.org/2000/svg");this.wo.appendChild(this.AM);e.do.appendChild(this.wo)};e.prototype.aJ=function(e){var r=e.$n.size;this.AM.setAttribute("width",""+r[0]);this.AM.setAttribute("height",""+r[1])};e.prototype.sJ=function(e){var r=e.$n.boundsCoord;var t=[r[0],r[3]];return{Nm:t,resolution:e.$n.resolution}};e.prototype.ny=function(){this._map.on("dragstart",this.iJ);this._map.on("movestart",this.iJ);this._map.on("moveend",this.nJ);this._map.on("zoomstart",this.fJ);this._map.on("zoomend",this.gb)};e.prototype.uJ=function(e){var r=e.$n.boundsCoord;var t=[r[0],r[3]];var i=1;var n=M["transform"];var f=n[e.$n.projectionId].yo(t[0],t[1],this._dragObjects.Iz);var a=n[e.$n.projectionId].yo(this._dragObjects.hy[0],this._dragObjects.hy[1],this._dragObjects.Iz);this.wo.style.left=(f[0]-a[0])*i*-1+"px";this.wo.style.top=(f[1]-a[1])*i*-1+"px"};e.prototype.oJ=function(){this.B$=[0,0];this.wo.style.left="0px";this.wo.style.top="0px"};return e}();M.z$=Ma;M["LayerRenderManager"]["addLayerRender"]("AMap.ImageLayer",undefined,yf);M["LayerRenderManager"]["addLayerRender"]("AMap.CanvasLayer",undefined,yf);M["LayerRenderManager"]["addLayerRender"]("AMap.VectorLayer",undefined,ja);M["LayerRenderManager"]["addLayerRender"]("AMap.VectorSvgLayer",undefined,ja);M["LayerRenderManager"]["addLayerRender"]("AMap.TileLayer",undefined,hf);M["LayerRenderManager"]["addLayerRender"]("AMap.RasterLayer",undefined,hf);M["LayerRenderManager"]["addLayerRender"]("AMap.TileLayer.Flexible",undefined,hf);M["LayerRenderManager"]["addLayerRender"]("AMap.TileLayer.RoadNet",undefined,hf);M["LayerRenderManager"]["addLayerRender"]("AMap.TileLayer.Satellite",undefined,hf);M["LayerRenderManager"]["addLayerRender"]("AMap.TileLayer.Traffic",undefined,hf);M["LayerRenderManager"]["addLayerRender"]("AMap.TileLayer.WMS",undefined,hf);M["LayerRenderManager"]["addLayerRender"]("AMap.TileLayer.WMTS",undefined,hf);M["LayerRenderManager"]["addLayerRender"]("AMap.SkyLayer",undefined,ga);M["LayerRenderManager"]["addLayerRender"]("AMap.IndoorMap",undefined,lf);M["LayerRenderManager"]["addLayerRender"]("AMap.LabelsLayer",undefined,Un);M["LayerRenderManager"]["addLayerRender"]("AMap.CustomLayer",undefined,tf)})(); '
);
